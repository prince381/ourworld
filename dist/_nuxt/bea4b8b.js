(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{216:function(t,e,n){t.exports=n.p+"img/placeholder.65f9347.png"},217:function(t,e,n){t.exports=n.p+"img/chat.f8d855f.png"},232:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"info-head"},[o("img",{attrs:{src:n(217),alt:"chat image"}}),t._v(" "),o("h3",{staticClass:"info-title"},[t._v("You're almost there!")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"upload-wrapper"},[o("img",{staticClass:"usr-img",attrs:{src:n(216),alt:"upload image placeholder"}}),t._v(" "),o("i",{staticClass:"fas fa-camera camera-icon"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"indicators"},[n("div",{staticClass:"indicator-wrapper"},[n("button",{staticClass:"prev"},[n("i",{staticClass:"fas fa-chevron-left"}),t._v("\n        back\n      ")]),t._v(" "),n("ul",{staticClass:"steps"},[n("li",{staticClass:"spot"}),t._v(" "),n("li",{staticClass:"step"},[t._v("1")]),t._v(" "),n("li",{staticClass:"step"},[t._v("2")]),t._v(" "),n("li",{staticClass:"step"},[t._v("3")]),t._v(" "),n("li",{staticClass:"step"},[t._v("4")])]),t._v(" "),n("button",{staticClass:"next"},[t._v("\n        next\n        "),n("i",{staticClass:"fas fa-chevron-right"})])])])}],r=(n(57),n(118),n(29),n(42),n(86),n(36)),c={data:function(){return{userId:this.$store.state.auth.user.uid,username:"",job:"",age:18,country:"",description:"",imgURL:"",loading:!1,saving:!1}},methods:{decrement:function(){this.age>14&&(this.age-=1)},increment:function(){this.age<130&&(this.age+=1)},saveUser:function(){var t=this;if(!this.username){var e=this.$store.state.auth.user.email.split("@")[0];this.username=e}var n={name:this.username,email:this.$store.state.auth.user.email,photo:this.imgURL,age:this.age,profession:this.job,country:this.country,desc:this.description,engaged:!1};this.saving=!0,r.b.ref("users/".concat(this.userId)).set(n).then((function(){r.b.ref("call_offer/".concat(t.userId)).set({contactId:"",contactName:"",sdp:"",type:"none"}).then((function(e){r.b.ref("ice_candidates/".concat(t.userId)).set({candidate:""}).then((function(e){t.saving=!1,t.$router.push("/chats")}))}))})).catch((function(){alert("Could not upload user details! Please try again.")}))}},mounted:function(){var t=this,header=document.querySelector(".info-head"),e=document.querySelector(".slide-content"),n=document.querySelectorAll(".slide")[0].getBoundingClientRect().width,o=document.querySelector(".camera-icon"),c=document.getElementById("photo"),l=document.querySelector(".usr-img"),d=0,v=document.querySelector(".prev"),m=document.querySelector(".next"),f=document.querySelector(".spot"),h=f.getBoundingClientRect().width;m.addEventListener("click",(function(){3==(d+=1)&&(m.style.opacity="0",m.style.visibility="hidden",header.style.opacity="0",header.style.visibility="hidden",header.style.transform="translateX(-2rem)"),e.style.transition="transform .5s ease",e.style.transform="translateX(-".concat(n*d,"px)"),f.style.transform="translateX(".concat(h*d,"px)"),v.style.opacity="1",v.style.visibility="visible"})),v.addEventListener("click",(function(){0==(d-=1)&&(v.style.opacity="0",v.style.visibility="hidden"),e.style.transition="transform .5s ease",e.style.transform="translateX(-".concat(n*d,"px)"),f.style.transform="translateX(".concat(h*d,"px)"),m.style.opacity="1",m.style.visibility="visible",header.style.opacity="1",header.style.visibility="visible",header.style.transform="translateX(0)"})),o.addEventListener("click",(function(){c.click()})),c.addEventListener("change",(function(e){var img=e.target.files[0],n=img.type.split("/");"image"==n[0]?(t.loading=!0,r.c.ref("users/".concat(t.userId,"/profile.").concat(n[1])).put(img).then((function(){r.c.ref("users/".concat(t.userId,"/profile.").concat(n[1])).getDownloadURL().then((function(img){l.src=img,t.imgURL=img,t.loading=!1}))})).catch((function(){alert("Could not upload image. Please try again later!")}))):alert("File chosen is not an image!")}))}},l=n(40),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-page"},[n("input",{attrs:{type:"file",id:"photo",hidden:""}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"slide-container"},[n("div",{staticClass:"slide-content"},[n("div",{staticClass:"slide"},[n("div",{staticClass:"name-input usr-info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"Choose a username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"age-country usr-info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"country",attrs:{type:"text",placeholder:"Country name"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}}),t._v(" "),n("div",{staticClass:"age"},[n("label",{attrs:{for:"number"}},[t._v("Age:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"age"}],attrs:{type:"text",id:"number"},domProps:{value:t.age},on:{input:function(e){e.target.composing||(t.age=e.target.value)}}}),t._v(" "),n("div",{staticClass:"btns"},[n("i",{staticClass:"fas fa-sort-up",on:{click:t.increment}}),t._v(" "),n("i",{staticClass:"fas fa-sort-down",on:{click:t.decrement}})])])]),t._v(" "),n("div",{staticClass:"job-input usr-info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.job,expression:"job"}],attrs:{type:"text",placeholder:"Profession"},domProps:{value:t.job},on:{input:function(e){e.target.composing||(t.job=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"slide"},[n("p",{staticClass:"describe"},[t._v("Briefly describe yourself to the world:")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",placeholder:"enter your text in this box..."},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"slide"},[n("div",{staticClass:"upload-content"},[t._m(1),t._v(" "),n("p",{staticClass:"upload-text"},[t._v("Upload your photo")]),t._v(" "),t.loading?n("div",{staticClass:"loader"},[n("div",{staticClass:"loading"})]):t._e()])]),t._v(" "),n("div",{staticClass:"slide"},[n("div",{staticClass:"last-slide"},[n("h3",{staticClass:"all-set"},[t._v("You're all set.")]),t._v(" "),n("button",{staticClass:"get-started",on:{click:t.saveUser}},[t._v("Go")]),t._v(" "),t.saving?n("div",{staticClass:"loader"},[n("div",{staticClass:"loading"})]):t._e()])])])]),t._v(" "),t._m(2)])}),o,!1,null,null,null);e.default=component.exports}}]);