/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{0:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return N})),n.d(e,"d",(function(){return $})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return m})),n.d(e,"i",(function(){return U})),n.d(e,"j",(function(){return I})),n.d(e,"k",(function(){return H})),n.d(e,"l",(function(){return _})),n.d(e,"m",(function(){return w})),n.d(e,"n",(function(){return Y})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return F})),n.d(e,"q",(function(){return k})),n.d(e,"r",(function(){return B})),n.d(e,"s",(function(){return O})),n.d(e,"t",(function(){return E})),n.d(e,"u",(function(){return x})),n.d(e,"v",(function(){return S})),n.d(e,"w",(function(){return M})),n.d(e,"x",(function(){return j})),n.d(e,"y",(function(){return map})),n.d(e,"z",(function(){return W})),n.d(e,"A",(function(){return V})),n.d(e,"B",(function(){return Z})),n.d(e,"C",(function(){return Q})),n.d(e,"D",(function(){return D})),n.d(e,"E",(function(){return G})),n.d(e,"F",(function(){return X})),n.d(e,"G",(function(){return J}));var r=n(1),o=!1,c=!1,h="${JSCORE_VERSION}",l=function(t,e){if(!t)throw f(e)},f=function(t){return new Error("Firebase Database ("+h+") INTERNAL ASSERT FAILED: "+t)},d=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,c=i+2<input.length,h=c?input[i+2]:0,l=n>>2,f=(3&n)<<4|o>>4,d=(15&o)<<2|h>>6,v=63&h;c||(v=64,r||(d=64)),output.push(e[l],e[f],e[d],e[v])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(d(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var c=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(c=t[n++]))<<12|(63&(h=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{c=t[n++];var h=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&h)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,c=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==c)throw Error();var h=n<<2|r>>4;if(output.push(h),64!==o){var l=r<<4&240|o>>2;if(output.push(l),64!==c){var f=o<<6&192|c;output.push(f)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},m=function(t){var e=d(t);return v.encodeByteArray(e,!0)},y=function(t){try{return v.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _(t){return w(void 0,t)}function w(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&"__proto__"!==e&&(t[e]=w(t[e],source[e]));return t}var C=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function I(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,sub=t.sub||t.user_id;if(!sub)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var c=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:sub,user_id:sub,firebase:{sign_in_provider:"custom",identities:{}}},t);return[v.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),v.encodeString(JSON.stringify(c),!1),""].join(".")}function T(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function O(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())}function E(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function k(){return"object"==typeof self&&self.self===self}function S(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function x(){return!0===o||!0===c}var N=function(t){function e(code,n,r){var o=t.call(this,n)||this;return o.code=code,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,P.prototype.create),o}return Object(r.c)(e,t),e}(Error),P=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code){for(var data=[],t=1;t<arguments.length;t++)data[t-1]=arguments[t];var e=data[0]||{},n=this.service+"/"+code,template=this.errors[code],r=template?A(template,e):"Error",o=this.serviceName+": "+r+" ("+n+").",c=new N(n,o,e);return c},t}();function A(template,data){return template.replace(R,(function(t,e){var n=data[e];return null!=n?String(n):"<"+e+"?>"}))}var R=/\{\$([^}]+)}/g;function j(t){return JSON.parse(t)}function D(data){return JSON.stringify(data)}var L=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=j(y(r[0])||""),e=j(y(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}},M=function(t){var e=L(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},F=function(t){var e=L(t).claims;return"object"==typeof e&&!0===e.admin};function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function B(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function map(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function W(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var c=o[r];n(c[0],c[1])}return e.length?"&"+e.join("&"):""}var $=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,c,a=this.chain_[0],b=this.chain_[1],h=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=l^b&(h^l),c=1518500249):(o=b^h^l,c=1859775393):i<60?(o=b&h|l&(b|h),c=2400959708):(o=b^h^l,c=3395469782);r=(a<<5|a>>>27)+o+f+c+n[i]&4294967295;f=l,l=h,h=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,c=this.inbuf_;r<e;){if(0===c)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[c]=t.charCodeAt(r),++r,++c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++r,++c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();function H(t,e){var n=new z(t,e);return n.subscribe.bind(n)}var z=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}})),this.observers.push(r),c},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then((function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function K(){}var G=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")};function Y(t,e){return t+" failed: "+e+" argument "}function X(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Y(t,e)+"must be a valid function.")}function J(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Y(t,e)+"must be a valid context object.")}var Q=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;i++,l(i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},Z=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p};function tt(t){return t&&t._delegate?t._delegate:t}}).call(this,n(22))},1:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return v}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(t[p]=b[p])})(t,b)};function o(t,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function h(t,e,n,r){return new(n||(n=Promise))((function(o,c){function h(t){try{f(r.next(t))}catch(t){c(t)}}function l(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(h,l)}f((r=r.apply(t,e||[])).next())}))}function l(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(h){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,h])}}}Object.create;function f(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function v(t,e){for(var i=0,n=e.length,r=t.length;i<n;i++,r++)t[r]=e[i];return t}Object.create},114:function(t,e,n){"use strict";e.a={}},115:function(t,e,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),h=c.default;void 0===h&&(h=[]);var l=c.placeholder;return n._isMounted?h:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||l)?t(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||l):h.length>0?h.map((function(){return t(!1)})):t(!1))}};t.exports=r},155:function(t,e,n){var content=n(202);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("4a1cbb1a",content,!0,{sourceMap:!1})},156:function(t,e,n){var content=n(204);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("fa7ff0ca",content,!0,{sourceMap:!1})},157:function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var c in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),u.push([e,n]),i[e]=i[e]?i[e]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(c,e.headers[c]);s.send(e.body||null)}))}},158:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},159:function(t,e,n){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return o}))},161:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(t,e){return!1!==e.clone&&e.isMergeableObject(t)?v((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function h(t,source,e){return t.concat(source).map((function(element){return c(element,e)}))}function l(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(symbol){return t.propertyIsEnumerable(symbol)})):[]}(t))}function f(object,t){try{return t in object}catch(t){return!1}}function d(t,source,e){var n={};return e.isMergeableObject(t)&&l(t).forEach((function(r){n[r]=c(t[r],e)})),l(source).forEach((function(r){(function(t,e){return f(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(f(t,r)&&e.isMergeableObject(source[r])?n[r]=function(t,e){if(!e.customMerge)return v;var n=e.customMerge(t);return"function"==typeof n?n:v}(r,e)(t[r],source[r],e):n[r]=c(source[r],e))})),n}function v(t,source,e){(e=e||{}).arrayMerge=e.arrayMerge||h,e.isMergeableObject=e.isMergeableObject||r,e.cloneUnlessOtherwiseSpecified=c;var n=Array.isArray(source);return n===Array.isArray(t)?n?e.arrayMerge(t,source,e):d(t,source,e):c(source,e)}v.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return v(t,n,e)}),{})};var m=v;t.exports=m},162:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,a=0,i=0,c="";o=e.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return c};function c(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(o(t).replace(/(.)/g,(function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(e)}catch(t){return o(e)}}function h(t){this.message=t}h.prototype=new Error,h.prototype.name="InvalidTokenError",e.a=function(t,e){if("string"!=typeof t)throw new h("Invalid token specified");var n=!0===(e=e||{}).header?0:1;try{return JSON.parse(c(t.split(".")[n]))}catch(t){throw new h("Invalid token specified: "+t.message)}}},163:function(t,e,n){"use strict";function r(){}t.exports=r,r.maxLength=4096,r.parse=function(t){var e=r.maxLength;if("string"!=typeof t)throw new TypeError("str must be a string");if(t.length>e)throw new RangeError("str is too large (CookieParser.maxLength="+e+")");var n=new r;if(arguments.length>1){var o=arguments[1];if("object"==typeof o&&null!==o&&"function"==typeof o.decode)return n.slowParse(t,o.decode)}return n.parse(t)},r.prototype.decode=function(t){try{return decodeURIComponent(t)}catch(e){return t}},r.prototype.extract=function(t,e,n){return e===n+1?"":t.slice(this.trimForward(t,e),this.trimBackward(t,n)+1)},r.prototype.trimForward=function(t,i){for(var e=t.charCodeAt(i);this.isWhiteSpace(e);)e=t.charCodeAt(++i);return i},r.prototype.trimBackward=function(t,i){for(var e=t.charCodeAt(i);this.isWhiteSpace(e);)e=t.charCodeAt(--i);return i},r.prototype.isWhiteSpace=function(t){return t<=32},r.prototype.parse=function(t){var e={},n=0,r=0,o=0,c=0,h=!1,l=!1,i=0,f=t.length;t:for(;i<f;++i){var d=t.charCodeAt(i);if(d>127)return this.slowParse(t,this.decode);if(61===d){r=i-1;var v=i+1;for(d=t.charCodeAt(v);32===d;)v++,d=t.charCodeAt(v);for(34===d&&(v++,l=!0),o=v;v<f;++v)if(37===(d=t.charCodeAt(v)))h=!0;else if(59===d||44===d){if(l)(c=this.trimBackward(t,v-1)-1)<o&&(o=c);else c=v-1;var m=this.extract(t,n,r),y=this.extract(t,o,c);for(e[m]=h?this.decode(y):y,i=v;v<f;++v)if(32!==t.charCodeAt(v)){i=v-1;break}r=n=i+1,l=!1,h=!1;continue t}if(l)(c=this.trimBackward(t,v-1)-1)<o&&(o=c);else c=v-1;m=this.extract(t,n,r),y=this.extract(t,o,c);e[m]=h?this.decode(y):y,i=v}else 59!==d&&44!==d||(n=i+1)}return e},r.serialize=function(t,e,n){var r=[t+"="+((n=n||{}).encode||encodeURIComponent)(e)];return n.maxAge&&r.push("Max-Age="+n.maxAge),n.domain&&r.push("Domain="+n.domain),n.path&&r.push("Path="+n.path),n.expires&&r.push("Expires="+n.expires.toUTCString()),n.httpOnly&&r.push("HttpOnly"),n.secure&&r.push("Secure"),r.join("; ")},r.prototype.slowParse=function(t,e){var n={};return t.split(/[;,] */).forEach((function(t){var r=t.indexOf("=");if(!(r<0)){var o=t.substr(0,r).trim(),c=t.substr(++r,t.length).trim();if('"'==c[0]&&(c=c.slice(1,-1)),null==n[o])try{n[o]=e(c)}catch(t){n[o]=c}}})),n}},164:function(t,e,n){"use strict";var r=n(8),o=(n(41),n(14),n(56),n(4)),c=n(2),h=window.__NUXT__;function l(){if(!this._hydrated)return this.$fetch()}function f(){if((t=this).$vnode&&t.$vnode.elm&&t.$vnode.elm.dataset&&t.$vnode.elm.dataset.fetchKey){var t;this._hydrated=!0,this._fetchKey=this.$vnode.elm.dataset.fetchKey;var data=h.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var e in data)o.a.set(this.$data,e,data[e])}}function d(){var t=this;return this._fetchPromise||(this._fetchPromise=v.call(this).then((function(){delete t._fetchPromise}))),this._fetchPromise}function v(){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$nuxt.nbFetching++,this.$fetchState.pending=!0,this.$fetchState.error=null,this._hydrated=!1,e=null,n=Date.now(),t.prev=6,t.next=9,this.$options.fetch.call(this);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(6),e=Object(c.p)(t.t0);case 15:if(!((r=this._fetchDelay-(Date.now()-n))>0)){t.next=19;break}return t.next=19,new Promise((function(t){return setTimeout(t,r)}));case 19:this.$fetchState.error=e,this.$fetchState.pending=!1,this.$fetchState.timestamp=Date.now(),this.$nextTick((function(){return o.$nuxt.nbFetching--}));case 23:case"end":return t.stop()}}),t,this,[[6,11]])})))).apply(this,arguments)}e.a={beforeCreate:function(){Object(c.l)(this)&&(this._fetchDelay="number"==typeof this.$options.fetchDelay?this.$options.fetchDelay:200,o.a.util.defineReactive(this,"$fetchState",{pending:!1,error:null,timestamp:Date.now()}),this.$fetch=d.bind(this),Object(c.a)(this,"created",f),Object(c.a)(this,"beforeMount",l))}}},167:function(t,e,n){(function(t){t.installComponents=function(component,t){var n="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(n.components=component.exports.options.components),n.components=n.components||{},t)n.components[i]=n.components[i]||t[i];n.functional&&function(component,t){if(component.exports[e])return;component.exports[e]=!0;var n=component.exports.render;component.exports.render=function(e,r){return n(e,Object.assign({},r,{_c:function(e,a,b){return r._c(t[e]||e,a,b)}}))}}(component,n.components)};var e="_functionalComponents"}).call(this,n(22))},168:function(t,e,n){"use strict";n.r(e),function(t){n(43),n(44),n(29),n(42),n(45);var e=n(37),r=n(8),o=(n(103),n(174),n(180),n(181),n(41),n(30),n(14),n(38),n(46),n(47),n(55),n(64),n(86),n(52),n(25),n(31),n(56),n(4)),c=n(157),h=n(114),l=n(2),f=n(28),d=n(164),v=n(85);function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){h=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(h)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}o.a.__nuxt__fetch__mixin__||(o.a.mixin(d.a),o.a.__nuxt__fetch__mixin__=!0),o.a.component(v.a.name,v.a),o.a.component("NLink",v.a),t.fetch||(t.fetch=c.a);var _,w,C=[],I=window.__NUXT__||{},T=I.config||{};T._app&&(n.p=Object(l.v)(T._app.cdnURL,T._app.assetsPath)),Object.assign(o.a.config,{silent:!0,performance:!1});var O=o.a.config.errorHandler||console.error;function E(t,e,n){for(var r=function(component){var t=function(component,t){if(!component||!component.options||!component.options[t])return{};var option=component.options[t];if("function"==typeof option){for(var e=arguments.length,n=new Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",e,n)||{};return"string"==typeof t?{name:t}:t},o=n?Object(l.g)(n):[],c=Math.max(t.length,o.length),h=[],f=function(i){var e=Object.assign({},r(t[i])),n=Object.assign({},r(o[i]));Object.keys(e).filter((function(t){return void 0!==e[t]&&!t.toLowerCase().includes("leave")})).forEach((function(t){n[t]=e[t]})),h.push(n)},i=0;i<c;i++)f(i);return h}function k(t,e,n){return S.apply(this,arguments)}function S(){return(S=Object(r.a)(regeneratorRuntime.mark((function t(e,n,r){var o,c,h,f,d=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._routeChanged=Boolean(_.nuxt.err)||n.name!==e.name,this._paramChanged=!this._routeChanged&&n.path!==e.path,this._queryChanged=!this._paramChanged&&n.fullPath!==e.fullPath,this._diffQuery=this._queryChanged?Object(l.i)(e.query,n.query):[],(this._routeChanged||this._paramChanged)&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),t.prev=5,!this._queryChanged){t.next=12;break}return t.next=9,Object(l.r)(e,(function(t,e){return{Component:t,instance:e}}));case 9:o=t.sent,o.some((function(t){var r=t.Component,o=t.instance,c=r.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(t){return d._diffQuery[t]})):"function"==typeof c&&c.apply(o,[e.query,n.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 12:r(),t.next=26;break;case 15:if(t.prev=15,t.t0=t.catch(5),c=t.t0||{},h=c.statusCode||c.status||c.response&&c.response.status||500,f=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(f)){t.next=23;break}return window.location.reload(!0),t.abrupt("return");case 23:this.error({statusCode:h,message:f}),this.$nuxt.$emit("routeChanged",e,n,c),r();case 26:case"end":return t.stop()}}),t,this,[[5,15]])})))).apply(this,arguments)}function x(t,e){return I.serverRendered&&e&&Object(l.b)(t,e),t._Ctor=t,t}function N(t){return Object(l.d)(t,function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,n,r,o,c){var h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e||e.options){t.next=4;break}return t.next=3,e();case 3:e=t.sent;case 4:return h=x(Object(l.s)(e),I.data?I.data[c]:null),r.components[o]=h,t.abrupt("return",h);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r,o,c){return t.apply(this,arguments)}}())}function P(t,e,n){var r=this,o=[],c=!1;if(void 0!==n&&(o=[],(n=Object(l.s)(n)).options.middleware&&(o=o.concat(n.options.middleware)),t.forEach((function(t){t.options.middleware&&(o=o.concat(t.options.middleware))}))),o=o.map((function(t){return"function"==typeof t?t:("function"!=typeof h.a[t]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+t})),h.a[t])})),!c)return Object(l.o)(o,e)}function A(t,e,n){return R.apply(this,arguments)}function R(){return(R=Object(r.a)(regeneratorRuntime.mark((function t(e,n,o){var c,h,d,v,y,w,I,T,O,k,S,x,N,A,R,j=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){t.next=2;break}return t.abrupt("return",o());case 2:return!1,e===n?(C=[],!0):(c=[],C=Object(l.g)(n,c).map((function(t,i){return Object(l.c)(n.matched[c[i]].path)(n.params)}))),h=!1,d=function(path){n.path===path.path&&j.$loading.finish&&j.$loading.finish(),n.path!==path.path&&j.$loading.pause&&j.$loading.pause(),h||(h=!0,o(path))},t.next=8,Object(l.t)(_,{route:e,from:n,next:d.bind(this)});case 8:if(this._dateLastError=_.nuxt.dateErr,this._hadError=Boolean(_.nuxt.err),v=[],(y=Object(l.g)(e,v)).length){t.next=27;break}return t.next=15,P.call(this,y,_.context);case 15:if(!h){t.next=17;break}return t.abrupt("return");case 17:return w=(f.a.options||f.a).layout,t.next=20,this.loadLayout("function"==typeof w?w.call(f.a,_.context):w);case 20:return I=t.sent,t.next=23,P.call(this,y,_.context,I);case 23:if(!h){t.next=25;break}return t.abrupt("return");case 25:return _.context.error({statusCode:404,message:"This page could not be found"}),t.abrupt("return",o());case 27:return y.forEach((function(t){t._Ctor&&t._Ctor.options&&(t.options.asyncData=t._Ctor.options.asyncData,t.options.fetch=t._Ctor.options.fetch)})),this.setTransitions(E(y,e,n)),t.prev=29,t.next=32,P.call(this,y,_.context);case 32:if(!h){t.next=34;break}return t.abrupt("return");case 34:if(!_.context._errored){t.next=36;break}return t.abrupt("return",o());case 36:return"function"==typeof(T=y[0].options.layout)&&(T=T(_.context)),t.next=40,this.loadLayout(T);case 40:return T=t.sent,t.next=43,P.call(this,y,_.context,T);case 43:if(!h){t.next=45;break}return t.abrupt("return");case 45:if(!_.context._errored){t.next=47;break}return t.abrupt("return",o());case 47:O=!0,t.prev=48,k=m(y),t.prev=50,k.s();case 52:if((S=k.n()).done){t.next=63;break}if("function"==typeof(x=S.value).options.validate){t.next=56;break}return t.abrupt("continue",61);case 56:return t.next=58,x.options.validate(_.context);case 58:if(O=t.sent){t.next=61;break}return t.abrupt("break",63);case 61:t.next=52;break;case 63:t.next=68;break;case 65:t.prev=65,t.t0=t.catch(50),k.e(t.t0);case 68:return t.prev=68,k.f(),t.finish(68);case 71:t.next=77;break;case 73:return t.prev=73,t.t1=t.catch(48),this.error({statusCode:t.t1.statusCode||"500",message:t.t1.message}),t.abrupt("return",o());case 77:if(O){t.next=80;break}return this.error({statusCode:404,message:"This page could not be found"}),t.abrupt("return",o());case 80:return t.next=82,Promise.all(y.map(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(r,i){var o,c,h,f,d,m,y,w,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r._path=Object(l.c)(e.matched[v[i]].path)(e.params),r._dataRefresh=!1,o=r._path!==C[i],j._routeChanged&&o?r._dataRefresh=!0:j._paramChanged&&o?(c=r.options.watchParam,r._dataRefresh=!1!==c):j._queryChanged&&(!0===(h=r.options.watchQuery)?r._dataRefresh=!0:Array.isArray(h)?r._dataRefresh=h.some((function(t){return j._diffQuery[t]})):"function"==typeof h&&(N||(N=Object(l.h)(e)),r._dataRefresh=h.apply(N[i],[e.query,n.query]))),j._hadError||!j._isMounted||r._dataRefresh){t.next=6;break}return t.abrupt("return");case 6:return f=[],d=r.options.asyncData&&"function"==typeof r.options.asyncData,m=Boolean(r.options.fetch)&&r.options.fetch.length,y=d&&m?30:45,d&&((w=Object(l.q)(r.options.asyncData,_.context)).then((function(t){Object(l.b)(r,t),j.$loading.increase&&j.$loading.increase(y)})),f.push(w)),j.$loading.manual=!1===r.options.loading,m&&((p=r.options.fetch(_.context))&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(t){j.$loading.increase&&j.$loading.increase(y)})),f.push(p)),t.abrupt("return",Promise.all(f));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 82:h||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),o()),t.next=99;break;case 85:if(t.prev=85,t.t2=t.catch(29),"ERR_REDIRECT"!==(A=t.t2||{}).message){t.next=90;break}return t.abrupt("return",this.$nuxt.$emit("routeChanged",e,n,A));case 90:return C=[],Object(l.k)(A),"function"==typeof(R=(f.a.options||f.a).layout)&&(R=R(_.context)),t.next=96,this.loadLayout(R);case 96:this.error(A),this.$nuxt.$emit("routeChanged",e,n,A),o();case 99:case"end":return t.stop()}}),t,this,[[29,85],[48,73],[50,65,68,71]])})))).apply(this,arguments)}function j(t,n){Object(l.d)(t,(function(t,n,r,c){return"object"!==Object(e.a)(t)||t.options||((t=o.a.extend(t))._Ctor=t,r.components[c]=t),t}))}function D(t){var e=Boolean(this.$options.nuxt.err);this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&(e=!1);var n=e?(f.a.options||f.a).layout:t.matched[0].components.default.options.layout;"function"==typeof n&&(n=n(_.context)),this.setLayout(n)}function L(t){t._hadError&&t._dateLastError===t.$options.nuxt.dateErr&&t.error()}function M(t,e){var n=this;if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){var r=Object(l.h)(t),c=Object(l.g)(t),h=!1;o.a.nextTick((function(){r.forEach((function(t,i){if(t&&!t._isDestroyed&&t.constructor._dataRefresh&&c[i]===t.constructor&&!0!==t.$vnode.data.keepAlive&&"function"==typeof t.constructor.options.data){var e=t.constructor.options.data.call(t);for(var n in e)o.a.set(t.$data,n,e[n]);h=!0}})),h&&window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),L(n)}))}}function F(t){window.onNuxtReadyCbs.forEach((function(e){"function"==typeof e&&e(t)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(t),w.afterEach((function(e,n){o.a.nextTick((function(){return t.$nuxt.$emit("routeChanged",e,n)}))}))}function U(){return(U=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,c,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _=e.app,w=e.router,e.store,n=new o.a(_),r=function(){n.$mount("#__nuxt"),w.afterEach(j),w.afterEach(D.bind(n)),w.afterEach(M.bind(n)),o.a.nextTick((function(){F(n)}))},t.next=7,Promise.all(N(_.context.route));case 7:if(c=t.sent,n.setTransitions=n.$options.nuxt.setTransitions.bind(n),c.length&&(n.setTransitions(E(c,w.currentRoute)),C=w.currentRoute.matched.map((function(t){return Object(l.c)(t.path)(w.currentRoute.params)}))),n.$loading={},I.error&&n.error(I.error),w.beforeEach(k.bind(n)),w.beforeEach(A.bind(n)),!I.serverRendered||!Object(l.n)(I.routePath,n.context.route.path)){t.next=16;break}return t.abrupt("return",r());case 16:return h=function(){j(w.currentRoute,w.currentRoute),D.call(n,w.currentRoute),L(n),r()},t.next=19,new Promise((function(t){return setTimeout(t,0)}));case 19:A.call(n,w.currentRoute,w.currentRoute,(function(path){if(path){var t=w.afterEach((function(e,n){t(),h()}));w.push(path,void 0,(function(t){t&&O(t)}))}else h()}));case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(f.b)(null,I.config).then((function(t){return U.apply(this,arguments)})).catch(O)}.call(this,n(22))},18:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l}));var r=n(1),o=n(0),c=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),h="[DEFAULT]",l=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(component){var t,e;if(component.name!==this.name)throw Error("Mismatching Component "+component.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=component,this.shouldAutoInitialize()){if(function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService({instanceIdentifier:h})}catch(t){}try{for(var n=Object(r.g)(this.instancesDeferred.entries()),o=n.next();!o.done;o=n.next()){var c=Object(r.e)(o.value,2),l=c[0],f=c[1],d=this.normalizeInstanceIdentifier(l);try{var v=this.getOrInitializeService({instanceIdentifier:d});f.resolve(v)}catch(t){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=h),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=h),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var o=t.options,c=void 0===o?{}:o,h=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(h))throw Error(this.name+"("+h+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:h,options:c});try{for(var f=Object(r.g)(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var v=Object(r.e)(d.value,2),m=v[0],y=v[1];h===this.normalizeInstanceIdentifier(m)&&y.resolve(l)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return l},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(t),this.onInitCallbacks.set(r,o);var c=this.instances.get(r);return c&&t(c,r),function(){o.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,o,c=this.onInitCallbacks.get(e);if(c)try{for(var h=Object(r.g)(c),l=h.next();!l.done;l=h.next()){var f=l.value;try{f(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,o=void 0===r?{}:r,c=this.instances.get(n);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===h?void 0:e),options:o}),this.instances.set(n,c),this.invokeOnInitCallbacks(c,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,c)}catch(t){}return c||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=h),this.component?this.component.multipleInstances?t:h:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var f=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(component){var t=this.getProvider(component.name);if(t.isComponentSet())throw new Error("Component "+component.name+" has already been registered with "+this.name);t.setComponent(component)},t.prototype.addOrOverwriteComponent=function(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new l(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},19:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function o(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=e){var n,r,o=[],c=!0,h=!1;try{for(e=e.call(t);!(c=(n=e.next()).done)&&(o.push(n.value),!i||o.length!==i);c=!0);}catch(t){h=!0,r=t}finally{try{c||null==e.return||e.return()}finally{if(h)throw r}}return o}}(t,i)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return o}))},2:function(t,e,n){"use strict";n.d(e,"k",(function(){return _})),n.d(e,"m",(function(){return w})),n.d(e,"l",(function(){return C})),n.d(e,"e",(function(){return I})),n.d(e,"b",(function(){return T})),n.d(e,"s",(function(){return O})),n.d(e,"g",(function(){return E})),n.d(e,"h",(function(){return k})),n.d(e,"d",(function(){return S})),n.d(e,"r",(function(){return x})),n.d(e,"j",(function(){return N})),n.d(e,"t",(function(){return A})),n.d(e,"o",(function(){return j})),n.d(e,"q",(function(){return D})),n.d(e,"f",(function(){return L})),n.d(e,"c",(function(){return M})),n.d(e,"i",(function(){return F})),n.d(e,"p",(function(){return U})),n.d(e,"a",(function(){return K})),n.d(e,"v",(function(){return G})),n.d(e,"n",(function(){return Y})),n.d(e,"u",(function(){return X}));n(44),n(29),n(42),n(45),n(66),n(38),n(67);var r=n(37),o=n(8),c=n(35),h=n(19),l=(n(41),n(46),n(184),n(14),n(30),n(86),n(52),n(47),n(25),n(31),n(43),n(57),n(68),n(151),n(152),n(188),n(87),n(120),n(190),n(55),n(64),n(4)),f=n(27);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){h=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(h)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _(t){l.a.config.errorHandler&&l.a.config.errorHandler(t)}function w(t){return t.then((function(t){return t.default||t}))}function C(t){return t.$options&&"function"==typeof t.$options.fetch&&!t.$options.fetch.length}function I(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.$children||[],o=m(r);try{for(o.s();!(e=o.n()).done;){var c=e.value;c.$fetch?n.push(c):c.$children&&I(c,n)}}catch(t){o.e(t)}finally{o.f()}return n}function T(t,e){if(e||!t.options.__hasNuxtData){var n=t.options._originDataFn||t.options.data||function(){return{}};t.options._originDataFn=n,t.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(e=this.$ssrContext.asyncData[t.cid]),v(v({},data),e)},t.options.__hasNuxtData=!0,t._Ctor&&t._Ctor.options&&(t._Ctor.options.data=t.options.data)}}function O(t){return t.options&&t._Ctor===t||(t.options?(t._Ctor=t,t.extendOptions=t.options):(t=l.a.extend(t))._Ctor=t,!t.options.name&&t.options.__file&&(t.options.name=t.options.__file)),t}function E(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],t.matched.map((function(t,r){return Object.keys(t[n]).map((function(o){return e&&e.push(r),t[n][o]}))})))}function k(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return E(t,e,"instances")}function S(t,e){return Array.prototype.concat.apply([],t.matched.map((function(t,n){return Object.keys(t.components).reduce((function(r,o){return t.components[o]?r.push(e(t.components[o],t.instances[o],t,o,n)):delete t.components[o],r}),[])})))}function x(t,e){return Promise.all(S(t,function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(n,r,o,c){var h,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof n||n.options){t.next=11;break}return t.prev=1,t.next=4,n();case 4:n=t.sent,t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(1),t.t0&&"ChunkLoadError"===t.t0.name&&"undefined"!=typeof window&&window.sessionStorage&&(h=Date.now(),(!(l=parseInt(window.sessionStorage.getItem("nuxt-reload")))||l+6e4<h)&&(window.sessionStorage.setItem("nuxt-reload",h),window.location.reload(!0))),t.t0;case 11:return o.components[c]=n=O(n),t.abrupt("return","function"==typeof e?e(n,r,o,c):n);case 13:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,r,o){return t.apply(this,arguments)}}()))}function N(t){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,x(e);case 4:return t.abrupt("return",v(v({},e),{},{meta:E(e).map((function(t,n){return v(v({},t.options.meta),(e.matched[n]||{}).meta)}))}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t,e){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.context||(e.context={isStatic:!0,isDev:!1,isHMR:!1,app:e,store:e.store,payload:n.payload,error:n.error,base:e.router.options.base,env:{}},n.req&&(e.context.req=n.req),n.res&&(e.context.res=n.res),n.ssrContext&&(e.context.ssrContext=n.ssrContext),e.context.redirect=function(t,path,n){if(t){e.context._redirected=!0;var o=Object(r.a)(path);if("number"==typeof t||"undefined"!==o&&"object"!==o||(n=path||{},path=t,o=Object(r.a)(path),t=302),"object"===o&&(path=e.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=Object(f.d)(path,n),window.location.replace(path),new Error("ERR_REDIRECT");e.context.next({path:path,query:n,status:t})}},e.context.nuxtState=window.__NUXT__),t.next=3,Promise.all([N(n.route),N(n.from)]);case 3:o=t.sent,c=Object(h.a)(o,2),l=c[0],d=c[1],n.route&&(e.context.route=l),n.from&&(e.context.from=d),e.context.next=n.next,e.context._redirected=!1,e.context._errored=!1,e.context.isHMR=!1,e.context.params=e.context.route.params||{},e.context.query=e.context.route.query||{};case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t,e){return!t.length||e._redirected||e._errored?Promise.resolve():D(t[0],e).then((function(){return j(t.slice(1),e)}))}function D(t,e){var n;return(n=2===t.length?new Promise((function(n){t(e,(function(t,data){t&&e.error(t),n(data=data||{})}))})):t(e))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function L(base,t){if("hash"===t)return window.location.hash.replace(/^#\//,"");base=decodeURI(base).slice(0,-1);var path=decodeURI(window.location.pathname);base&&path.startsWith(base)&&(path=path.slice(base.length));var e=(path||"/")+window.location.search+window.location.hash;return Object(f.c)(e)}function M(t,e){return function(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===Object(r.a)(t[i])&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",z(e)));return function(e,r){for(var path="",data=e||{},o=(r||{}).pretty?B:encodeURIComponent,c=0;c<t.length;c++){var h=t[c];if("string"!=typeof h){var l=data[h.name||"pathMatch"],f=void 0;if(null==l){if(h.optional){h.partial&&(path+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(Array.isArray(l)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var d=0;d<l.length;d++){if(f=o(l[d]),!n[c].test(f))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(f)+"`");path+=(0===d?h.prefix:h.delimiter)+f}}else{if(f=h.asterisk?W(l):o(l),!n[c].test(f))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+f+'"');path+=h.prefix+f}}else path+=h}return path}}(function(t,e){var n,r=[],o=0,c=0,path="",h=e&&e.delimiter||"/";for(;null!=(n=V.exec(t));){var l=n[0],f=n[1],d=n.index;if(path+=t.slice(c,d),c=d+l.length,f)path+=f[1];else{var v=t[c],m=n[2],y=n[3],_=n[4],w=n[5],C=n[6],I=n[7];path&&(r.push(path),path="");var T=null!=m&&null!=v&&v!==m,O="+"===C||"*"===C,E="?"===C||"*"===C,k=n[2]||h,pattern=_||w;r.push({name:y||o++,prefix:m||"",delimiter:k,optional:E,repeat:O,partial:T,asterisk:Boolean(I),pattern:pattern?H(pattern):I?".*":"[^"+$(k)+"]+?"})}}c<t.length&&(path+=t.substr(c));path&&r.push(path);return r}(t,e),e)}function F(t,e){var n={},r=v(v({},t),e);for(var o in r)String(t[o])!==String(e[o])&&(n[o]=!0);return n}function U(t){var e;if(t.message||"string"==typeof t)e=t.message||t;else try{e=JSON.stringify(t,null,2)}catch(n){e="[".concat(t.constructor.name,"]")}return v(v({},t),{},{message:e,statusCode:t.statusCode||t.status||t.response&&t.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(t){window.onNuxtReadyCbs.push(t)};var V=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(t,e){var n=e?/[?#]/g:/[/?#]/g;return encodeURI(t).replace(n,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function W(t){return B(t,!0)}function $(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function H(t){return t.replace(/([=!:$/()])/g,"\\$1")}function z(t){return t&&t.sensitive?"":"i"}function K(t,e,n){t.$options[e]||(t.$options[e]=[]),t.$options[e].includes(n)||t.$options[e].push(n)}var G=f.b,Y=(f.e,f.a);function X(t){try{window.history.scrollRestoration=t}catch(t){}}},201:function(t,e,n){"use strict";n(155)},202:function(t,e,n){var r=n(88)(!1);r.push([t.i,".__nuxt-error-page{padding:1rem;background:#f7f8fb;color:#47494e;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:sans-serif;font-weight:100!important;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;position:absolute;top:0;left:0;right:0;bottom:0}.__nuxt-error-page .error{max-width:450px}.__nuxt-error-page .title{font-size:1.5rem;margin-top:15px;color:#47494e;margin-bottom:8px}.__nuxt-error-page .description{color:#7f828b;line-height:21px;margin-bottom:10px}.__nuxt-error-page a{color:#7f828b!important;text-decoration:none}.__nuxt-error-page .logo{position:fixed;left:12px;bottom:12px}",""]),t.exports=r},203:function(t,e,n){"use strict";n(156)},204:function(t,e,n){var r=n(88)(!1);r.push([t.i,".nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}",""]),t.exports=r},210:function(t,e,n){"use strict";n(211)},211:function(t,e,n){"use strict";(function(t){var e=n(3);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,t){a!=Array.prototype&&a!=Object.prototype&&(a[b]=t.value)};var o=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,a];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}return globalThis}(this);function c(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function h(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:c(a)}}!function(a,b){if(b){var t=o;a=a.split(".");for(var e=0;e<a.length-1;e++){var n=a[e];n in t||(t[n]={}),t=t[n]}(b=b(e=t[a=a[a.length-1]]))!=e&&null!=b&&r(t,a,{configurable:!0,writable:!0,value:b})}}("Promise",(function(a){function b(g){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{g(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.a=null}function e(g){return g instanceof b?g:new b((function(t){t(g)}))}if(a)return a;t.prototype.b=function(g){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(g)};var n=o.setTimeout;t.prototype.c=function(g){n(g,0)},t.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var t=0;t<g.length;++t){var e=g[t];g[t]=null;try{e()}catch(t){this.f(t)}}}this.a=null},t.prototype.f=function(g){this.c((function(){throw g}))},b.prototype.f=function(){function g(p){return function(n){e||(e=!0,p.call(t,n))}}var t=this,e=!1;return{resolve:g(this.m),reject:g(this.g)}},b.prototype.m=function(g){if(g===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.s(g);else{t:switch(typeof g){case"object":var t=null!=g;break t;case"function":t=!0;break t;default:t=!1}t?this.v(g):this.h(g)}},b.prototype.v=function(g){var t=void 0;try{t=g.then}catch(t){return void this.g(t)}"function"==typeof t?this.u(t,g):this.h(g)},b.prototype.g=function(g){this.i(2,g)},b.prototype.h=function(g){this.i(1,g)},b.prototype.i=function(g,t){if(0!=this.b)throw Error("Cannot settle("+g+", "+t+"): Promise already settled in state"+this.b);this.b=g,this.c=t,this.l()},b.prototype.l=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)r.b(this.a[g]);this.a=null}};var r=new t;return b.prototype.s=function(g){var t=this.f();g.Ra(t.resolve,t.reject)},b.prototype.u=function(g,t){var e=this.f();try{g.call(t,e.resolve,e.reject)}catch(t){e.reject(t)}},b.prototype.then=function(g,t){function e(t,e){return"function"==typeof t?function(e){try{p(t(e))}catch(t){n(t)}}:e}var p,n,r=new b((function(t,e){p=t,n=e}));return this.Ra(e(g,p),e(t,n)),r},b.prototype.catch=function(g){return this.then(void 0,g)},b.prototype.Ra=function(g,t){function e(){switch(p.b){case 1:g(p.c);break;case 2:t(p.c);break;default:throw Error("Unexpected state: "+p.b)}}var p=this;null==this.a?r.b(e):this.a.push(e)},b.resolve=e,b.reject=function(g){return new b((function(t,e){e(g)}))},b.race=function(g){return new b((function(t,n){for(var p=h(g),r=p.next();!r.done;r=p.next())e(r.value).Ra(t,n)}))},b.all=function(g){var t=h(g),n=t.next();return n.done?e([]):new b((function(p,r){function o(t){return function(e){c[t]=e,0==--h&&p(c)}}var c=[],h=0;do{c.push(void 0),h++,e(n.value).Ra(o(c.length-1),r),n=t.next()}while(!n.done)}))},b}));var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function m(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&d.test(a)?a:""}function y(){}function _(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function w(a){var b=_(a);return"array"==b||"object"==b&&"number"==typeof a.length}function C(a){return"function"==_(a)}function I(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function T(a){return Object.prototype.hasOwnProperty.call(a,O)&&a[O]||(a[O]=++E)}var O="closure_uid_"+(1e9*Math.random()>>>0),E=0;function k(a,b,t){return a.call.apply(a.bind,arguments)}function S(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function q(a,b,t){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:S).apply(null,arguments)}function x(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var N=Date.now;function P(a,b){function t(){}t.prototype=b.prototype,a.bb=b.prototype,a.prototype=new t,a.prototype.constructor=a}function A(a){return a}function R(a,b,t){this.code=L+a,this.message=b||M[a]||"",this.a=t||null}function j(a){var b=a&&a.code;return b?new R(b.substring(L.length),a.message,a.serverResponse):null}P(R,Error),R.prototype.w=function(){var a={code:this.code,message:this.message};return this.a&&(a.serverResponse=this.a),a},R.prototype.toJSON=function(){return this.w()};var D,L="auth/",M={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},F={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function U(a){for(var b in F)if(F[b].id===a)return{firebaseEndpoint:(a=F[b]).Ua,secureTokenEndpoint:a.$a,identityPlatformEndpoint:a.Xa};return null}function V(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(t){return!1}}function u(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function B(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");u.call(this,t+a[e])}function W(a,b){throw new B("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function $(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function H(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function z(){this.b=this.a=null}D=U("__EID__")?"__EID__":void 0,P(u,Error),u.prototype.name="CustomError",P(B,u),B.prototype.name="AssertionError",$.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var K=new $((function(){return new Y}),(function(a){a.reset()}));function G(){var a=Se,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function Y(){this.next=this.b=this.a=null}z.prototype.add=function(a,b){var t=K.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},Y.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Y.prototype.reset=function(){this.next=this.b=this.a=null};var X=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},J=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n="string"==typeof a?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};var Q=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=[],n=0,r="string"==typeof a?a.split(""):a,g=0;g<t;g++)if(g in r){var o=r[g];b.call(void 0,o,g,a)&&(e[n++]=o)}return e},Z=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=Array(t),n="string"==typeof a?a.split(""):a,r=0;r<t;r++)r in n&&(e[r]=b.call(void 0,n[r],r,a));return e},tt=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a))return!0;return!1};function et(a,b){return 0<=X(a,b)}function nt(a,b){var t;return(t=0<=(b=X(a,b)))&&Array.prototype.splice.call(a,b,1),t}function it(a,b){!function(a,b){for(var t="string"==typeof a?a.split(""):a,e=a.length-1;0<=e;--e)e in t&&b.call(void 0,t[e],e,a)}(a,(function(t,e){b.call(void 0,t,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&0}))}function ot(a){return Array.prototype.concat.apply([],arguments)}function at(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}var st,ut=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},ct=/&/g,ht=/</g,lt=/>/g,ft=/"/g,pt=/'/g,vt=/\x00/g,gt=/[\x00&<>"']/;function mt(a,b){return-1!=a.indexOf(b)}function yt(a,b){return a<b?-1:a>b?1:0}t:{var _t=f.navigator;if(_t){var bt=_t.userAgent;if(bt){st=bt;break t}}st=""}function wt(a){return mt(st,a)}function Ct(a,b){for(var t in a)b.call(void 0,a[t],t,a)}function It(a){for(var b in a)return!1;return!0}function Tt(a){var t,b={};for(t in a)b[t]=a[t];return b}var Ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Et(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<Ot.length;r++)t=Ot[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function kt(a,b){t:{try{var t=a&&a.ownerDocument,e=t&&(t.defaultView||t.parentWindow);if((e=e||f).Element&&e.Location){var n=e;break t}}catch(t){}n=null}if(n&&void 0!==n[b]&&(!a||!(a instanceof n[b])&&(a instanceof n.Location||a instanceof n.Element))){if(I(a))try{var r=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(t){r="<object could not be stringified>"}else r=void 0===a?"undefined":null===a?"null":typeof a;W("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,r)}}function St(a,b){this.a=a===At&&b||"",this.b=Pt}function xt(a){return a instanceof St&&a.constructor===St&&a.b===Pt?a.a:(W("expected object of type Const, got '"+a+"'"),"type_error:Const")}St.prototype.ta=!0,St.prototype.sa=function(){return this.a},St.prototype.toString=function(){return"Const{"+this.a+"}"};var Nt,Pt={},At={};function Rt(){if(void 0===Nt){var a=null,b=f.trustedTypes;if(b&&b.createPolicy){try{a=b.createPolicy("goog#html",{createHTML:A,createScript:A,createScriptURL:A})}catch(t){f.console&&f.console.error(t.message)}Nt=a}else Nt=a}return Nt}function jt(a,b){this.a=b===Ut?a:""}function Dt(a){return a instanceof jt&&a.constructor===jt?a.a:(W("expected object of type TrustedResourceUrl, got '"+a+"' of type "+_(a)),"type_error:TrustedResourceUrl")}function Lt(a,b){var t=xt(a);if(!Ft.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return function(a){var b=Rt();return new jt(a=b?b.createScriptURL(a):a,Ut)}(a=t.replace(Mt,(function(e,n){if(!Object.prototype.hasOwnProperty.call(b,n))throw Error('Found marker, "'+n+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(b));return(e=b[n])instanceof St?xt(e):encodeURIComponent(String(e))})))}jt.prototype.ta=!0,jt.prototype.sa=function(){return this.a.toString()},jt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Mt=/%{(\w+)}/g,Ft=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ut={};function qt(a,b){this.a=b===Kt?a:""}function Vt(a){return a instanceof qt&&a.constructor===qt?a.a:(W("expected object of type SafeUrl, got '"+a+"' of type "+_(a)),"type_error:SafeUrl")}qt.prototype.ta=!0,qt.prototype.sa=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Bt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Wt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,$t=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ht(a){if(a instanceof qt)return a;if(a="object"==typeof a&&a.ta?a.sa():String(a),$t.test(a))a=new qt(a,Kt);else{var b=(a=(a=String(a)).replace(/(%0A|%0D)/g,"")).match(Wt);a=b&&Bt.test(b[1])?new qt(a,Kt):null}return a}function zt(a){return a instanceof qt?a:(a="object"==typeof a&&a.ta?a.sa():String(a),$t.test(a)||(a="about:invalid#zClosurez"),new qt(a,Kt))}var Kt={},Gt=new qt("about:invalid#zClosurez",Kt);function Yt(a,b,t){this.a=t===Xt?a:""}Yt.prototype.ta=!0,Yt.prototype.sa=function(){return this.a.toString()},Yt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Xt={};function Jt(a,b,t,e){return a=a instanceof qt?a:zt(a),b=b||f,t=t instanceof St?xt(t):t||"",b.open(Vt(a),t,e,void 0)}function Qt(a,b){for(var t=a.split("%s"),e="",n=Array.prototype.slice.call(arguments,1);n.length&&1<t.length;)e+=t.shift()+n.shift();return e+t.join("%s")}function Zt(a){return gt.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(ct,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(ht,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(lt,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(ft,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(pt,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(vt,"&#0;"))),a}function te(a){return te[" "](a),a}te[" "]=y;var ee,a,ne=wt("Opera"),re=wt("Trident")||wt("MSIE"),ie=wt("Edge"),oe=ie||re,ae=wt("Gecko")&&!(mt(st.toLowerCase(),"webkit")&&!wt("Edge"))&&!(wt("Trident")||wt("MSIE"))&&!wt("Edge"),se=mt(st.toLowerCase(),"webkit")&&!wt("Edge");function ue(){var a=f.document;return a?a.documentMode:void 0}t:{var ce="",he=(a=st,ae?/rv:([^\);]+)(\)|;)/.exec(a):ie?/Edge\/([\d\.]+)/.exec(a):re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):se?/WebKit\/(\S+)/.exec(a):ne?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(he&&(ce=he?he[1]:""),re){var le=ue();if(null!=le&&le>parseFloat(ce)){ee=String(le);break t}}ee=ce}var fe,pe={};function de(a){return function(a,b){var t=pe;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=ut(String(ee)).split("."),e=ut(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var g=t[r]||"",o=e[r]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==g[0].length&&0==o[0].length)break;b=yt(0==g[1].length?0:parseInt(g[1],10),0==o[1].length?0:parseInt(o[1],10))||yt(0==g[2].length,0==o[2].length)||yt(g[2],o[2]),g=g[3],o=o[3]}while(0==b)}return 0<=b}))}if(f.document&&re){var ve=ue();fe=ve||(parseInt(ee,10)||void 0)}else fe=void 0;var ge=fe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(a){}var me=!re||9<=Number(ge);function ye(a){var b=document;return"string"==typeof a?b.getElementById(a):a}function _e(a,b){Ct(b,(function(t,e){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==e?a.style.cssText=t:"class"==e?a.className=t:"for"==e?a.htmlFor=t:Ce.hasOwnProperty(e)?a.setAttribute(Ce[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,t):a[e]=t}))}var be,we,Ce={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ie(a,b,t){function e(t){t&&b.appendChild("string"==typeof t?a.createTextNode(t):t)}for(var n=2;n<t.length;n++){var r=t[n];if(!w(r)||I(r)&&0<r.nodeType)e(r);else{t:{if(r&&"number"==typeof r.length){if(I(r)){var g="function"==typeof r.item||"string"==typeof r.item;break t}if(C(r)){g="function"==typeof r.item;break t}}g=!1}J(g?at(r):r,e)}}}function Te(a,b){return b=String(b),"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase()),a.createElement(b)}function Oe(a){f.setTimeout((function(){throw a}),0)}function Ee(a,b){we||function(){if(f.Promise&&f.Promise.resolve){var a=f.Promise.resolve(void 0);we=function(){a.then(xe)}}else we=function(){var b=xe;!C(f.setImmediate)||f.Window&&f.Window.prototype&&!wt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(be||(be=function(){var a=f.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!wt("Presto")&&(a=function(){var t=Te(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var g="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=q((function(t){"*"!=n&&t.origin!=n||t.data!=g||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(g,n)}}}),void 0!==a&&!wt("Trident")&&!wt("MSIE")){var b=new a,t={},e=t;return b.port1.onmessage=function(){if(void 0!==t.next){var e=(t=t.next).Hb;t.Hb=null,e()}},function(t){e.next={Hb:t},e=e.next,b.port2.postMessage(0)}}return function(t){f.setTimeout(t,0)}}()),be(b)):f.setImmediate(b)}}(),ke||(we(),ke=!0),Se.add(a,b)}var ke=!1,Se=new z;function xe(){for(var a;a=G();){try{a.a.call(a.b)}catch(t){Oe(t)}H(K,a)}ke=!1}function Ne(a,b){if(this.a=Pe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=y)try{var t=this;a.call(b,(function(e){$e(t,Ae,e)}),(function(e){if(!(e instanceof Je))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}$e(t,Re,e)}))}catch(t){$e(this,Re,t)}}var Pe=0,Ae=2,Re=3;function je(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}je.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var De=new $((function(){return new je}),(function(a){a.reset()}));function Le(a,b,t){var e=De.get();return e.g=a,e.b=b,e.f=t,e}function Me(a){if(a instanceof Ne)return a;var b=new Ne(y);return $e(b,Ae,a),b}function Fe(a){return new Ne((function(b,t){t(a)}))}function Ue(a,b,t){He(a,b,t,null)||Ee(x(b,a))}function qe(a){return new Ne((function(b){var t=a.length,e=[];if(t)for(var n=function(n,r,p){t--,e[n]=r?{Qb:!0,value:p}:{Qb:!1,reason:p},0==t&&b(e)},r=0;r<a.length;r++)Ue(a[r],x(n,r,!0),x(n,r,!1));else b(e)}))}function Ve(a,b){if(a.a==Pe)if(a.c){var t=a.c;if(t.b){for(var e=0,n=null,r=null,g=t.b;g&&(g.c||(e++,g.a==a&&(n=g),!(n&&1<e)));g=g.next)n||(r=g);n&&(t.a==Pe&&1==e?Ve(t,b):(r?((e=r).next==t.f&&(t.f=e),e.next=e.next.next):Ke(t),Ge(t,n,Re,b)))}a.c=null}else $e(a,Re,b)}function Be(a,b){a.b||a.a!=Ae&&a.a!=Re||ze(a),a.f?a.f.next=b:a.b=b,a.f=b}function We(a,b,t,e){var n=Le(null,null,null);return n.a=new Ne((function(r,g){n.g=b?function(t){try{var n=b.call(e,t);r(n)}catch(t){g(t)}}:r,n.b=t?function(n){try{var o=t.call(e,n);void 0===o&&n instanceof Je?g(n):r(o)}catch(t){g(t)}}:g})),n.a.c=a,Be(a,n),n.a}function $e(a,b,t){a.a==Pe&&(a===t&&(b=Re,t=new TypeError("Promise cannot resolve to itself")),a.a=1,He(t,a.$c,a.ad,a)||(a.i=t,a.a=b,a.c=null,ze(a),b!=Re||t instanceof Je||function(a,b){a.g=!0,Ee((function(){a.g&&Xe.call(null,b)}))}(a,t)))}function He(a,b,t,e){if(a instanceof Ne)return Be(a,Le(b||y,t||null,e)),!0;if(V(a))return a.then(b,t,e),!0;if(I(a))try{var n=a.then;if(C(n))return function(a,b,t,e,n){function r(t){o||(o=!0,e.call(n,t))}function g(e){o||(o=!0,t.call(n,e))}var o=!1;try{b.call(a,g,r)}catch(t){r(t)}}(a,n,b,t,e),!0}catch(n){return t.call(e,n),!0}return!1}function ze(a){a.h||(a.h=!0,Ee(a.gc,a))}function Ke(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function Ge(a,b,t,e){if(t==Re&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Ye(b,t,e);else try{b.c?b.g.call(b.f):Ye(b,t,e)}catch(t){Xe.call(null,t)}H(De,b)}function Ye(a,b,t){b==Ae?a.g.call(a.f,t):a.b&&a.b.call(a.f,t)}Ne.prototype.then=function(a,b,t){return We(this,C(a)?a:null,C(b)?b:null,t)},Ne.prototype.$goog_Thenable=!0,(n=Ne.prototype).oa=function(a,b){return(a=Le(a,a,b)).c=!0,Be(this,a),this},n.o=function(a,b){return We(this,null,a,b)},n.cancel=function(a){if(this.a==Pe){var b=new Je(a);Ee((function(){Ve(this,b)}),this)}},n.$c=function(a){this.a=Pe,$e(this,Ae,a)},n.ad=function(a){this.a=Pe,$e(this,Re,a)},n.gc=function(){for(var a;a=Ke(this);)Ge(this,a,this.a,this.i);this.h=!1};var Xe=Oe;function Je(a){u.call(this,a)}function Qe(){0!=Ze&&(tn[T(this)]=this),this.ya=this.ya,this.pa=this.pa}P(Je,u),Je.prototype.name="cancel";var Ze=0,tn={};function en(a){if(!a.ya&&(a.ya=!0,a.Da(),0!=Ze)){var b=T(a);if(0!=Ze&&a.pa&&0<a.pa.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete tn[b]}}Qe.prototype.ya=!1,Qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var nn=Object.freeze||function(a){return a},rn=!re||9<=Number(ge),on=re&&!de("9"),an=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{f.addEventListener("test",y,b),f.removeEventListener("test",y,b)}catch(t){}return a}();function sn(a,b){this.type=a,this.b=this.target=b,this.defaultPrevented=!1}function un(a,b){if(sn.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(ae){t:{try{te(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:cn[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}sn.prototype.preventDefault=function(){this.defaultPrevented=!0},P(un,sn);var cn=nn({2:"touch",3:"pen",4:"mouse"});un.prototype.preventDefault=function(){un.bb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,on)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}},un.prototype.g=function(){return this.a};var dd="closure_listenable_"+(1e6*Math.random()|0),hn=0;function ln(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.Wa=n,this.key=++hn,this.wa=this.Qa=!1}function fn(a){a.wa=!0,a.listener=null,a.proxy=null,a.src=null,a.Wa=null}function pn(a){this.src=a,this.a={},this.b=0}function dn(a,b){var t=b.type;t in a.a&&nt(a.a[t],b)&&(fn(b),0==a.a[t].length&&(delete a.a[t],a.b--))}function vn(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.wa&&r.listener==b&&r.capture==!!t&&r.Wa==e)return n}return-1}pn.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=vn(a,b,e,n);return-1<g?(b=a[g],t||(b.Qa=!1)):((b=new ln(b,this.src,r,!!e,n)).Qa=t,a.push(b)),b};var gn="closure_lm_"+(1e6*Math.random()|0),mn={};function yn(a,b,t,e,n){if(e&&e.once)bn(a,b,t,e,n);else if(Array.isArray(b))for(var r=0;r<b.length;r++)yn(a,b[r],t,e,n);else t=xn(t),a&&a[dd]?Pn(a,b,t,I(e)?!!e.capture:!!e,n):_n(a,b,t,!1,e,n)}function _n(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var g=I(n)?!!n.capture:!!n,o=kn(a);if(o||(a[gn]=o=new pn(a)),!(t=o.add(b,t,e,g,r)).proxy){if(e=function(){var a=En,b=rn?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)an||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(In(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}0}}function bn(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)bn(a,b[r],t,e,n);else t=xn(t),a&&a[dd]?An(a,b,t,I(e)?!!e.capture:!!e,n):_n(a,b,t,!0,e,n)}function wn(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)wn(a,b[r],t,e,n);else e=I(e)?!!e.capture:!!e,t=xn(t),a&&a[dd]?(a=a.v,(b=String(b).toString())in a.a&&(-1<(t=vn(r=a.a[b],t,e,n))&&(fn(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=kn(a))&&(b=a.a[b.toString()],a=-1,b&&(a=vn(b,t,e,n)),(t=-1<a?b[a]:null)&&Cn(t))}function Cn(a){if("number"!=typeof a&&a&&!a.wa){var b=a.src;if(b&&b[dd])dn(b.v,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(In(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=kn(b))?(dn(t,a),0==t.b&&(t.src=null,b[gn]=null)):fn(a)}}}function In(a){return a in mn?mn[a]:mn[a]="on"+a}function Tn(a,b,t,e){var n=!0;if((a=kn(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==t&&!r.wa&&(r=On(r,e),n=n&&!1!==r)}return n}function On(a,b){var t=a.listener,e=a.Wa||a.src;return a.Qa&&Cn(a),t.call(e,b)}function En(a,b){if(a.wa)return!0;if(!rn){if(!b)t:{b=["window","event"];for(var t=f,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}if(b=new un(e=b,this),t=!0,!(0>e.keyCode||null!=e.returnValue)){t:{var n=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){n=!0}(n||null==e.returnValue)&&(e.returnValue=!0)}for(e=[],n=b.b;n;n=n.parentNode)e.push(n);for(a=a.type,n=e.length-1;0<=n;n--){b.b=e[n];var r=Tn(e[n],a,!0,b);t=t&&r}for(n=0;n<e.length;n++)b.b=e[n],r=Tn(e[n],a,!1,b),t=t&&r}return t}return On(a,new un(b,this))}function kn(a){return(a=a[gn])instanceof pn?a:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(a){return C(a)?a:(a[Sn]||(a[Sn]=function(b){return a.handleEvent(b)}),a[Sn])}function Nn(){Qe.call(this),this.v=new pn(this),this.bc=this,this.hb=null}function Pn(a,b,t,e,n){a.v.add(String(b),t,!1,e,n)}function An(a,b,t,e,n){a.v.add(String(b),t,!0,e,n)}function Rn(a,b,t,e){if(!(b=a.v.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.wa&&g.capture==t){var o=g.listener,c=g.Wa||g.src;g.Qa&&dn(a.v,g),n=!1!==o.call(c,e)&&n}}return n&&!e.defaultPrevented}function jn(a,b,t){if(C(a))t&&(a=q(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=q(a.handleEvent,a)}return 2147483647<Number(b)?-1:f.setTimeout(a,b||0)}function Dn(a){var b=null;return new Ne((function(t,e){-1==(b=jn((function(){t(void 0)}),a))&&e(Error("Failed to schedule timer."))})).o((function(t){throw f.clearTimeout(b),t}))}function Ln(a){if(a.X&&"function"==typeof a.X)return a.X();if("string"==typeof a)return a.split("");if(w(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}function Mn(a){if(a.Y&&"function"==typeof a.Y)return a.Y();if(!a.X||"function"!=typeof a.X){if(w(a)||"string"==typeof a){var b=[];a=a.length;for(var t=0;t<a;t++)b.push(t);return b}for(var e in b=[],t=0,a)b[t++]=e;return b}}function Fn(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Fn)for(t=a.Y(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Un(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];qn(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)qn(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function qn(a,b){return Object.prototype.hasOwnProperty.call(a,b)}P(Nn,Qe),Nn.prototype[dd]=!0,Nn.prototype.addEventListener=function(a,b,t,e){yn(this,a,b,t,e)},Nn.prototype.removeEventListener=function(a,b,t,e){wn(this,a,b,t,e)},Nn.prototype.dispatchEvent=function(a){var b,t=this.hb;if(t)for(b=[];t;t=t.hb)b.push(t);t=this.bc;var e=a.type||a;if("string"==typeof a)a=new sn(a,t);else if(a instanceof sn)a.target=a.target||t;else{var n=a;Et(a=new sn(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var g=a.b=b[r];n=Rn(g,e,!0,a)&&n}if(n=Rn(g=a.b=t,e,!0,a)&&n,n=Rn(g,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=Rn(g=a.b=b[r],e,!1,a)&&n;return n},Nn.prototype.Da=function(){if(Nn.bb.Da.call(this),this.v){var t,a=this.v;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)fn(e[n]);delete a.a[t],a.b--}}this.hb=null},(n=Fn.prototype).X=function(){Un(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},n.Y=function(){return Un(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(a,b){return qn(this.b,a)?this.b[a]:b},n.set=function(a,b){qn(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},n.forEach=function(a,b){for(var t=this.Y(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Vn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bn(a,b){var t;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,a instanceof Bn?(this.i=void 0!==b?b:a.i,Wn(this,a.c),this.l=a.l,this.a=a.a,$n(this,a.g),this.f=a.f,Hn(this,fr(a.b)),this.h=a.h):a&&(t=String(a).match(Vn))?(this.i=!!b,Wn(this,t[1]||"",!0),this.l=Xn(t[2]||""),this.a=Xn(t[3]||"",!0),$n(this,t[4]),this.f=Xn(t[5]||"",!0),Hn(this,t[6]||"",!0),this.h=Xn(t[7]||"")):(this.i=!!b,this.b=new or(null,this.i))}function Wn(a,b,t){a.c=t?Xn(b,!0):b,a.c&&(a.c=a.c.replace(/:$/,""))}function $n(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.g=b}else a.g=null}function Hn(a,b,t){b instanceof or?(a.b=b,function(a,b){b&&!a.f&&(ar(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ur(this,e),lr(this,n,t))}),a)),a.f=b}(a.b,a.i)):(t||(b=Jn(b,rr)),a.b=new or(b,a.i))}function zn(a,b,t){a.b.set(b,t)}function Kn(a,b){return a.b.get(b)}function Gn(a){return a instanceof Bn?new Bn(a):new Bn(a,void 0)}function Yn(a,b,t,e){var n=new Bn(null,void 0);return a&&Wn(n,a),b&&(n.a=b),t&&$n(n,t),e&&(n.f=e),n}function Xn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jn(a,b,t){return"string"==typeof a?(a=encodeURI(a).replace(b,Qn),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Qn(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Bn.prototype.toString=function(){var a=[],b=this.c;b&&a.push(Jn(b,Zn,!0),":");var t=this.a;return(t||"file"==b)&&(a.push("//"),(b=this.l)&&a.push(Jn(b,Zn,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.g)&&a.push(":",String(t))),(t=this.f)&&(this.a&&"/"!=t.charAt(0)&&a.push("/"),a.push(Jn(t,"/"==t.charAt(0)?nr:er,!0))),(t=this.b.toString())&&a.push("?",t),(t=this.h)&&a.push("#",Jn(t,ir)),a.join("")},Bn.prototype.resolve=function(a){var b=new Bn(this),t=!!a.c;t?Wn(b,a.c):t=!!a.l,t?b.l=a.l:t=!!a.a,t?b.a=a.a:t=null!=a.g;var e=a.f;if(t)$n(b,a.g);else if(t=!!a.f){if("/"!=e.charAt(0))if(this.a&&!this.f)e="/"+e;else{var n=b.f.lastIndexOf("/");-1!=n&&(e=b.f.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(mt(n,"./")||mt(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],g=0;g<n.length;){var o=n[g++];"."==o?e&&g==n.length&&r.push(""):".."==o?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&g==n.length&&r.push("")):(r.push(o),e=!0)}e=r.join("/")}else e=n}return t?b.f=e:t=""!==a.b.toString(),t?Hn(b,fr(a.b)):t=!!a.h,t&&(b.h=a.h),b};var Zn=/[#\/\?@]/g,er=/[#\?:]/g,nr=/[#\?]/g,rr=/[#\?@]/g,ir=/#/g;function or(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function ar(a){a.a||(a.a=new Fn,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function sr(a){var b=Mn(a);if(void 0===b)throw Error("Keys are undefined");var t=new or(null,void 0);a=Ln(a);for(var e=0;e<b.length;e++){var n=b[e],r=a[e];Array.isArray(r)?lr(t,n,r):t.add(n,r)}return t}function ur(a,b){ar(a),b=pr(a,b),qn(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,qn((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Un(a)))}function cr(a,b){return ar(a),b=pr(a,b),qn(a.a.b,b)}function lr(a,b,t){ur(a,b),0<t.length&&(a.c=null,a.a.set(pr(a,b),at(t)),a.b+=t.length)}function fr(a){var b=new or;return b.c=a.c,a.a&&(b.a=new Fn(a.a),b.b=a.b),b}function pr(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function dr(a){var b=[];return gr(new vr,a,b),b.join("")}function vr(){}function gr(a,b,t){if(null==b)t.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var e=b;b=e.length,t.push("[");for(var n="",r=0;r<b;r++)t.push(n),gr(a,e[r],t),n=",";return void t.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(e in t.push("{"),n="",b)Object.prototype.hasOwnProperty.call(b,e)&&("function"!=typeof(r=b[e])&&(t.push(n),_r(e,t),t.push(":"),gr(a,r,t),n=","));return void t.push("}")}b=b.valueOf()}switch(typeof b){case"string":_r(b,t);break;case"number":t.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":t.push(String(b));break;case"function":t.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(n=or.prototype).add=function(a,b){ar(this),this.c=null,a=pr(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(a,b){ar(this),this.a.forEach((function(t,e){J(t,(function(t){a.call(b,t,e,this)}),this)}),this)},n.Y=function(){ar(this);for(var a=this.a.X(),b=this.a.Y(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},n.X=function(a){ar(this);var b=[];if("string"==typeof a)cr(this,a)&&(b=ot(b,this.a.get(pr(this,a))));else{a=this.a.X();for(var t=0;t<a.length;t++)b=ot(b,a[t])}return b},n.set=function(a,b){return ar(this),this.c=null,cr(this,a=pr(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},n.get=function(a,b){return a&&0<(a=this.X(a)).length?String(a[0]):b},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.Y(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.X(e);for(var r=0;r<e.length;r++){var g=n;""!==e[r]&&(g+="="+encodeURIComponent(String(e[r]))),a.push(g)}}return this.c=a.join("&")};var mr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},yr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function _r(a,b){b.push('"',a.replace(yr,(function(t){var e=mr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),mr[t]=e),e})),'"')}function wr(){var a=Vr();return re&&!!ge&&11==ge||/Edge\/\d+/.test(a)}function Cr(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Ir(a,b){b=b||f.window;var t="about:blank";a&&(t=Vt(Ht(a)||Gt)),b.location.href=t}function Tr(a,b){var t,e=[];for(t in a)t in b?typeof a[t]!=typeof b[t]?e.push(t):"object"==typeof a[t]&&null!=a[t]&&null!=b[t]?0<Tr(a[t],b[t]).length&&e.push(t):a[t]!==b[t]&&e.push(t):e.push(t);for(t in b)t in a||e.push(t);return e}function Or(a){return!!((a=(a||Vr()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function Er(a){a=a||f.window;try{a.close()}catch(t){}}function kr(a,b,t){var e=Math.floor(1e9*Math.random()).toString();b=b||500,t=t||600;var n=(window.screen.availHeight-t)/2,r=(window.screen.availWidth-b)/2;for(g in b={width:b,height:t,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},t=Vr().toLowerCase(),e&&(b.target=e,mt(t,"crios/")&&(b.target="_blank")),Fr(Vr())==Lr&&(a=a||"http://localhost",b.scrollbars=!0),t=a||"",(a=b)||(a={}),e=window,b=t instanceof qt?t:Ht(void 0!==t.href?t.href:String(t))||Gt,t=a.target||t.target,n=[],a)switch(g){case"width":case"height":case"top":case"left":n.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(g+"="+(a[g]?1:0))}var g=n.join(",");if((wt("iPhone")&&!wt("iPod")&&!wt("iPad")||wt("iPad")||wt("iPod"))&&e.navigator&&e.navigator.standalone&&t&&"_self"!=t?(kt(g=Te(document,"A"),"HTMLAnchorElement"),b=b instanceof qt?b:zt(b),g.href=Vt(b),g.setAttribute("target",t),a.noreferrer&&g.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),g.dispatchEvent(a),g={}):a.noreferrer?(g=Jt("",e,t,g),a=Vt(b),g&&(oe&&mt(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),g.opener=null,a='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zt(a)+'">',a=new Yt(a=(e=Rt())?e.createHTML(a):a,null,Xt),e=g.document)&&(e.write(function(a){return a instanceof Yt&&a.constructor===Yt?a.a:(W("expected object of type SafeHtml, got '"+a+"' of type "+_(a)),"type_error:SafeHtml")}(a)),e.close())):(g=Jt(b,e,t,g))&&a.noopener&&(g.opener=null),g)try{g.focus()}catch(t){}return g}var Sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xr=/^[^@]+@[^@]+$/;function Nr(){var a=null;return new Ne((function(b){"complete"==f.document.readyState?b():(a=function(){b()},bn(window,"load",a))})).o((function(b){throw wn(window,"load",a),b}))}function Pr(a){return a=a||Vr(),!("file:"!==zr()&&"ionic:"!==zr()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ar(){var a=f.window;try{return!(!a||a==a.top)}catch(t){return!1}}function Rr(){return void 0!==f.WorkerGlobalScope&&"function"==typeof f.importScripts}function jr(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":Rr()?"Worker":"Browser"}function Dr(){var a=jr();return"ReactNative"===a||"Node"===a}var Lr="Firefox",Mr="Chrome";function Fr(a){var b=a.toLowerCase();return mt(b,"opera/")||mt(b,"opr/")||mt(b,"opios/")?"Opera":mt(b,"iemobile")?"IEMobile":mt(b,"msie")||mt(b,"trident/")?"IE":mt(b,"edge/")?"Edge":mt(b,"firefox/")?Lr:mt(b,"silk/")?"Silk":mt(b,"blackberry")?"Blackberry":mt(b,"webos")?"Webos":!mt(b,"safari/")||mt(b,"chrome/")||mt(b,"crios/")||mt(b,"android")?!mt(b,"chrome/")&&!mt(b,"crios/")||mt(b,"edge/")?mt(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":Mr:"Safari"}var Ur={md:"FirebaseCore-web",od:"FirebaseUI-web"};function qr(a,b){b=b||[];var t,e=[],n={};for(t in Ur)n[Ur[t]]=!0;for(t=0;t<b.length;t++)void 0!==n[b[t]]&&(delete n[b[t]],e.push(b[t]));return e.sort(),(b=e).length||(b=["FirebaseCore-web"]),"Browser"===(e=jr())?e=Fr(n=Vr()):"Worker"===e&&(e=Fr(n=Vr())+"-"+e),e+"/JsCore/"+a+"/"+b.join(",")}function Vr(){return f.navigator&&f.navigator.userAgent||""}function Br(a,b){a=a.split("."),b=b||f;for(var t=0;t<a.length&&"object"==typeof b&&null!=b;t++)b=b[a[t]];return t!=a.length&&(b=void 0),b}function Wr(){try{var a=f.localStorage,b=Jr();if(a)return a.setItem(b,"1"),a.removeItem(b),!wr()||!!f.indexedDB}catch(t){return Rr()&&!!f.indexedDB}return!1}function $r(){return(Hr()||"chrome-extension:"===zr()||Pr())&&!Dr()&&Wr()&&!Rr()}function Hr(){return"http:"===zr()||"https:"===zr()}function zr(){return f.location&&f.location.protocol||null}function Kr(a){return!Or(a=a||Vr())&&Fr(a)!=Lr}function Gr(a){return void 0===a?null:dr(a)}function Yr(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&void 0!==a[t]&&(b[t]=a[t]);return b}function Xr(a){if(null!==a)return JSON.parse(a)}function Jr(a){return a||Math.floor(1e9*Math.random()).toString()}function Qr(a){return"Safari"!=Fr(a=a||Vr())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function Zr(){var a=f.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var t=0;t<a.CP.length;t++)a.CP[t]=null}function ti(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=Vr(),b=jr(),this.b=Or(a)||"ReactNative"===b}function ei(){var a=f.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function ni(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(t){}return null}function ri(){return!(!Br("fireauth.oauthhelper",f)&&!Br("fireauth.iframe",f))}ti.prototype.get=function(){var a=f.navigator;return!a||"boolean"!=typeof a.onLine||!Hr()&&"chrome-extension:"!==zr()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var ii,oi={};function ai(a){oi[a]||(oi[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var si={};Object.defineProperty(si,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(si,"abcd",{configurable:!0,enumerable:!0,value:2}),ii=2==si.abcd}catch(a){ii=!1}function ui(a,b,t){ii?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:t}):a[b]=t}function ci(a,b){if(b)for(var t in b)b.hasOwnProperty(t)&&ui(a,t,b[t])}function hi(a){var b={};return ci(b,a),b}function fi(a){var b=a;if("object"==typeof a&&null!=a)for(var t in b="length"in a?[]:{},a)ui(b,t,fi(a[t]));return b}function pi(a){var b=a&&(a[yi]?"phone":null);if(!(b&&a&&a[mi]))throw new R("internal-error","Internal assert: invalid MultiFactorInfo object");ui(this,"uid",a[mi]),ui(this,"displayName",a[vi]||null);var t=null;a[gi]&&(t=new Date(a[gi]).toUTCString()),ui(this,"enrollmentTime",t),ui(this,"factorId",b)}function di(a){try{var b=new _i(a)}catch(t){b=null}return b}pi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var vi="displayName",gi="enrolledAt",mi="mfaEnrollmentId",yi="phoneInfo";function _i(a){pi.call(this,a),ui(this,"phoneNumber",a[yi])}function bi(a){var b={},t=a[Ti],e=a[Ei],n=a[ki];if(a=di(a[Oi]),!n||n!=Ci&&n!=Ii&&!t||n==Ii&&!e||n==wi&&!a)throw Error("Invalid checkActionCode response!");n==Ii?(b[xi]=t||null,b[Pi]=t||null,b[Si]=e):(b[xi]=e||null,b[Pi]=e||null,b[Si]=t||null),b[Ni]=a||null,ui(this,Ri,n),ui(this,Ai,fi(b))}P(_i,pi),_i.prototype.w=function(){var a=_i.bb.w.call(this);return a.phoneNumber=this.phoneNumber,a};var wi="REVERT_SECOND_FACTOR_ADDITION",Ci="EMAIL_SIGNIN",Ii="VERIFY_AND_CHANGE_EMAIL",Ti="email",Oi="mfaInfo",Ei="newEmail",ki="requestType",Si="email",xi="fromEmail",Ni="multiFactorInfo",Pi="previousEmail",Ai="data",Ri="operation";function ji(a){var b=Kn(a=Gn(a),Di)||null,t=Kn(a,Li)||null,e=Kn(a,Ui)||null;if(e=e&&Vi[e]||null,!b||!t||!e)throw new R("argument-error",Di+", "+Li+"and "+Ui+" are required in a valid action code URL.");ci(this,{apiKey:b,operation:e,code:t,continueUrl:Kn(a,Mi)||null,languageCode:Kn(a,Fi)||null,tenantId:Kn(a,qi)||null})}var Di="apiKey",Li="oobCode",Mi="continueUrl",Fi="languageCode",Ui="mode",qi="tenantId",Vi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:wi,signIn:Ci,verifyAndChangeEmail:Ii,verifyEmail:"VERIFY_EMAIL"};function Bi(a){try{return new ji(a)}catch(t){return null}}function Wi(a){var b=a[Gi];if(void 0===b)throw new R("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new R("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var t=a[$i];if(t&&"object"==typeof t){b=t[Ji];var e=t[Yi];if(t=t[Xi],"string"==typeof b&&b.length){if(this.a=b,void 0!==e&&"boolean"!=typeof e)throw new R("argument-error",Yi+" property must be a boolean when specified.");if(this.g=!!e,void 0!==t&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new R("argument-error",Xi+" property must be a non empty string when specified.");this.b=t||null}else{if(void 0!==b)throw new R("argument-error",Ji+" property must be a non empty string when specified.");if(void 0!==e||void 0!==t)throw new R("missing-android-pkg-name")}}else if(void 0!==t)throw new R("argument-error",$i+" property must be a non null object when specified.");if(this.f=null,(b=a[Ki])&&"object"==typeof b){if("string"==typeof(b=b[Qi])&&b.length)this.f=b;else if(void 0!==b)throw new R("argument-error",Qi+" property must be a non empty string when specified.")}else if(void 0!==b)throw new R("argument-error",Ki+" property must be a non null object when specified.");if(void 0!==(b=a[zi])&&"boolean"!=typeof b)throw new R("argument-error",zi+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[Hi])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new R("argument-error",Hi+" property must be a non empty string when specified.");this.i=a||null}var $i="android",Hi="dynamicLinkDomain",zi="handleCodeInApp",Ki="iOS",Gi="url",Yi="installApp",Xi="minimumVersion",Ji="packageName",Qi="bundleId";function Zi(a){var b={};for(var t in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[t]&&delete b[t];return b}var to=null;function eo(a){var b=[];return function(a,b){function t(t){for(;e<a.length;){var p=a.charAt(e++),n=to[p];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return t}!function(){if(!to){to={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],t=0;5>t;t++)for(var e=a.concat(b[t].split("")),n=0;n<e.length;n++){var r=e[n];void 0===to[r]&&(to[r]=n)}}}();for(var e=0;;){var n=t(-1),r=t(0),g=t(64),o=t(64);if(64===o&&-1===n)break;b(n<<2|r>>4),64!=g&&(b(r<<4&240|g>>2),64!=o&&b(g<<6&192|o))}}(a,(function(t){b.push(t)})),b}function no(a){var b=io(a);if(!(b&&b.sub&&b.iss&&b.aud&&b.exp))throw Error("Invalid JWT");this.h=a,this.a=b.exp,this.i=b.sub,a=Date.now()/1e3,this.g=b.iat||(a>this.a?this.a:a),this.b=b.provider_id||b.firebase&&b.firebase.sign_in_provider||null,this.f=b.firebase&&b.firebase.tenant||null,this.c=!!b.is_anonymous||"anonymous"==this.b}function ro(a){try{return new no(a)}catch(t){return null}}function io(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,t=0;t<b;t++)a+=".";try{var e=eo(a);for(a=[],t=b=0;b<e.length;){var n=e[b++];if(128>n)a[t++]=String.fromCharCode(n);else if(191<n&&224>n){var r=e[b++];a[t++]=String.fromCharCode((31&n)<<6|63&r)}else if(239<n&&365>n){r=e[b++];var g=e[b++],o=((7&n)<<18|(63&r)<<12|(63&g)<<6|63&e[b++])-65536;a[t++]=String.fromCharCode(55296+(o>>10)),a[t++]=String.fromCharCode(56320+(1023&o))}else r=e[b++],g=e[b++],a[t++]=String.fromCharCode((15&n)<<12|(63&r)<<6|63&g)}return JSON.parse(a.join(""))}catch(t){}return null}no.prototype.T=function(){return this.f},no.prototype.l=function(){return this.c},no.prototype.toString=function(){return this.h};var oo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ao=["client_id","response_type","scope","redirect_uri","state"],so={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ao},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ao},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ao},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:oo},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function uo(a){for(var b in so)if(so[b].fa==a)return so[b];return null}function co(a){var b={};b["facebook.com"]=vo,b["google.com"]=mo,b["github.com"]=go,b["twitter.com"]=yo;var t=a&&a[lo];try{if(t)return b[t]?new b[t](a):new po(a);if(void 0!==a[ho])return new fo(a)}catch(t){}return null}var ho="idToken",lo="providerId";function fo(a){var b=a[lo];if(!b&&a[ho]){var t=ro(a[ho]);t&&t.b&&(b=t.b)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),t=!1,void 0!==a.isNewUser?t=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(t=!0),ui(this,"providerId",b),ui(this,"isNewUser",t)}function po(a){fo.call(this,a),ui(this,"profile",fi((a=Xr(a.rawUserInfo||"{}"))||{}))}function vo(a){if(po.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function go(a){if(po.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ui(this,"username",this.profile&&this.profile.login||null)}function mo(a){if(po.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function yo(a){if(po.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ui(this,"username",a.screenName||null)}function _o(a){var b=Gn(a),t=Kn(b,"link"),e=Kn(Gn(t),"link");return b=Kn(b,"deep_link_id"),Kn(Gn(b),"link")||b||e||t||a}function bo(a,b){if(!a&&!b)throw new R("internal-error","Internal assert: no raw session string available");if(a&&b)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=a||null,this.b=b||null,this.type=this.a?wo:Co}P(po,fo),P(vo,po),P(go,po),P(mo,po),P(yo,po);var wo="enroll",Co="signin";function Io(){}function To(a,b){return a.then((function(t){if(t[hs]){var e=ro(t[hs]);if(!e||b!=e.i)throw new R("user-mismatch");return t}throw new R("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==L+"user-not-found"?new R("user-mismatch"):t}))}function Oo(a,b){if(!b)throw new R("internal-error","failed to construct a credential");this.a=b,ui(this,"providerId",a),ui(this,"signInMethod",a)}function Eo(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function ko(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new Oo(a.providerId,a.pendingToken)}catch(t){}return null}function So(a,b,t){if(this.a=null,b.idToken||b.accessToken)b.idToken&&ui(this,"idToken",b.idToken),b.accessToken&&ui(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&ui(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new R("internal-error","failed to construct a credential");ui(this,"accessToken",b.oauthToken),ui(this,"secret",b.oauthTokenSecret)}ui(this,"providerId",a),ui(this,"signInMethod",t)}function xo(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:sr(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function No(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new So(a.providerId,b,a.signInMethod)}catch(t){}}return null}function Po(a,b){this.Qc=b||[],ci(this,{providerId:a,isOAuthProvider:!0}),this.Jb={},this.qb=(uo(a)||{}).Ja||null,this.pb=null}function Ao(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');Po.call(this,a,[])}function Ro(a){Po.call(this,a,ao),this.a=[]}function jo(){Ro.call(this,"facebook.com")}function Do(a){if(!a)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return I(a)&&(b=a.accessToken),(new jo).credential({accessToken:b})}function Lo(){Ro.call(this,"github.com")}function Mo(a){if(!a)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return I(a)&&(b=a.accessToken),(new Lo).credential({accessToken:b})}function Fo(){Ro.call(this,"google.com"),this.Ca("profile")}function Uo(a,b){var t=a;return I(a)&&(t=a.idToken,b=a.accessToken),(new Fo).credential({idToken:t,accessToken:b})}function qo(){Po.call(this,"twitter.com",oo)}function Vo(a,b){var t=a;if(I(t)||(t={oauthToken:a,oauthTokenSecret:b}),!t.oauthToken||!t.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new So("twitter.com",t,"twitter.com")}function Bo(a,b,t){this.a=a,this.f=b,ui(this,"providerId","password"),ui(this,"signInMethod",t===$o.EMAIL_LINK_SIGN_IN_METHOD?$o.EMAIL_LINK_SIGN_IN_METHOD:$o.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Wo(a){return a&&a.email&&a.password?new Bo(a.email,a.password,a.signInMethod):null}function $o(){ci(this,{providerId:"password",isOAuthProvider:!1})}function Ho(a,b){if(!(b=zo(b)))throw new R("argument-error","Invalid email link!");return new Bo(a,b.code,$o.EMAIL_LINK_SIGN_IN_METHOD)}function zo(a){return(a=Bi(a=_o(a)))&&a.operation===Ci?a:null}function Ko(a){if(!(a.fb&&a.eb||a.La&&a.ea))throw new R("internal-error");this.a=a,ui(this,"providerId","phone"),this.fa="phone",ui(this,"signInMethod","phone")}function Go(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return J(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(t){a[t]&&(b[t]=a[t])})),new Ko(b)}return null}function Yo(a){return a.a.La&&a.a.ea?{temporaryProof:a.a.La,phoneNumber:a.a.ea}:{sessionInfo:a.a.fb,code:a.a.eb}}function Xo(a){try{this.a=a||e.a.auth()}catch(t){throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ci(this,{providerId:"phone",isOAuthProvider:!1})}function Jo(a,b){if(!a)throw new R("missing-verification-id");if(!b)throw new R("missing-verification-code");return new Ko({fb:a,eb:b})}function Qo(a){if(a.temporaryProof&&a.phoneNumber)return new Ko({La:a.temporaryProof,ea:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var t=a&&a.oauthAccessToken,e=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return Uo(r,t);case"facebook.com":return Do(t);case"github.com":return Mo(t);case"twitter.com":return Vo(t,e);default:return t||e||r||g?g?0==b.indexOf("saml.")?new Oo(b,g):new So(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new Ro(b).credential({idToken:r,accessToken:t,rawNonce:n}):null}}catch(t){return null}}function Zo(a){if(!a.isOAuthProvider)throw new R("invalid-oauth-provider")}function ta(a,b,t,e,n,r,g){if(this.c=a,this.b=b||null,this.g=t||null,this.f=e||null,this.i=r||null,this.h=g||null,this.a=n||null,!this.g&&!this.a)throw new R("invalid-auth-event");if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}function th(a){return(a=a||{}).type?new ta(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&j(a.error),a.postBody,a.tenantId):null}function ea(){this.b=null,this.a=[]}bo.prototype.Ha=function(){return this.a?Me(this.a):Me(this.b)},bo.prototype.w=function(){return this.type==wo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Io.prototype.ka=function(){},Io.prototype.b=function(){},Io.prototype.c=function(){},Io.prototype.w=function(){},Oo.prototype.ka=function(a){return As(a,Eo(this))},Oo.prototype.b=function(a,b){var t=Eo(this);return t.idToken=b,Rs(a,t)},Oo.prototype.c=function(a,b){return To(js(a,Eo(this)),b)},Oo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},So.prototype.ka=function(a){return As(a,xo(this))},So.prototype.b=function(a,b){var t=xo(this);return t.idToken=b,Rs(a,t)},So.prototype.c=function(a,b){return To(js(a,xo(this)),b)},So.prototype.w=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},Po.prototype.Ka=function(a){return this.Jb=Tt(a),this},P(Ao,Po),P(Ro,Po),Ro.prototype.Ca=function(a){return et(this.a,a)||this.a.push(a),this},Ro.prototype.Rb=function(){return at(this.a)},Ro.prototype.credential=function(a,b){var t;if(!(t=I(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null}).idToken&&!t.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new So(this.providerId,t,this.providerId)},P(jo,Ro),ui(jo,"PROVIDER_ID","facebook.com"),ui(jo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),P(Lo,Ro),ui(Lo,"PROVIDER_ID","github.com"),ui(Lo,"GITHUB_SIGN_IN_METHOD","github.com"),P(Fo,Ro),ui(Fo,"PROVIDER_ID","google.com"),ui(Fo,"GOOGLE_SIGN_IN_METHOD","google.com"),P(qo,Po),ui(qo,"PROVIDER_ID","twitter.com"),ui(qo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Bo.prototype.ka=function(a){return this.signInMethod==$o.EMAIL_LINK_SIGN_IN_METHOD?vu(a,Bs,{email:this.a,oobCode:this.f}):vu(a,hu,{email:this.a,password:this.f})},Bo.prototype.b=function(a,b){return this.signInMethod==$o.EMAIL_LINK_SIGN_IN_METHOD?vu(a,Ws,{idToken:b,email:this.a,oobCode:this.f}):vu(a,nu,{idToken:b,email:this.a,password:this.f})},Bo.prototype.c=function(a,b){return To(this.ka(a),b)},Bo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ci($o,{PROVIDER_ID:"password"}),ci($o,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ci($o,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ko.prototype.ka=function(a){return a.gb(Yo(this))},Ko.prototype.b=function(a,b){var t=Yo(this);return t.idToken=b,vu(a,fu,t)},Ko.prototype.c=function(a,b){var t=Yo(this);return t.operation="REAUTH",To(a=vu(a,pu,t),b)},Ko.prototype.w=function(){var a={providerId:"phone"};return this.a.fb&&(a.verificationId=this.a.fb),this.a.eb&&(a.verificationCode=this.a.eb),this.a.La&&(a.temporaryProof=this.a.La),this.a.ea&&(a.phoneNumber=this.a.ea),a},Xo.prototype.gb=function(a,b){var t=this.a.a;return Me(b.verify()).then((function(e){if("string"!=typeof e)throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":var n=I(a)?a.session:null,r=I(a)?a.phoneNumber:a;return(n&&n.type==wo?n.Ha().then((function(n){return function(a,b){return vu(a,iu,b).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(t,{idToken:n,phoneEnrollmentInfo:{phoneNumber:r,recaptchaToken:e}})})):n&&n.type==Co?n.Ha().then((function(n){return function(a,b){return vu(a,ou,b).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(t,{mfaPendingCredential:n,mfaEnrollmentId:a.multiFactorHint&&a.multiFactorHint.uid||a.multiFactorUid,phoneSignInInfo:{recaptchaToken:e}})})):function(a,b){return vu(a,tu,b)}(t,{phoneNumber:r,recaptchaToken:e})).then((function(t){return"function"==typeof b.reset&&b.reset(),t}),(function(t){throw"function"==typeof b.reset&&b.reset(),t}));default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},ci(Xo,{PROVIDER_ID:"phone"}),ci(Xo,{PHONE_SIGN_IN_METHOD:"phone"}),ta.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},ta.prototype.T=function(){return this.h},ta.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var na,ra=null;function ia(a){var b="unauthorized-domain",t=void 0,e=Gn(a);a=e.a,"chrome-extension"==(e=e.c)?t=Qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==e||"https"==e?t=Qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",R.call(this,b,t)}function oa(a,b,t){R.call(this,a,t),(a=b||{}).Kb&&ui(this,"email",a.Kb),a.ea&&ui(this,"phoneNumber",a.ea),a.credential&&ui(this,"credential",a.credential),a.$b&&ui(this,"tenantId",a.$b)}function aa(a){if(a.code){var b=a.code||"";0==b.indexOf(L)&&(b=b.substring(L.length));var t={credential:Qo(a),$b:a.tenantId};if(a.email)t.Kb=a.email;else if(a.phoneNumber)t.ea=a.phoneNumber;else if(!t.credential)return new R(b,a.message||void 0);return new oa(b,t,a.message)}return null}function sa(){}function ua(a){return a.c||(a.c=a.b())}function ca(){}function ha(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<b.length;t++){var e=b[t];try{return new ActiveXObject(e),a.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function la(){}function fa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=q(this.qc,this),this.a.onerror=q(this.Tb,this),this.a.onprogress=q(this.rc,this),this.a.ontimeout=q(this.vc,this)}function pa(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function da(a,b,t){this.reset(a,b,t,void 0,void 0)}P(ia,R),P(oa,R),oa.prototype.w=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var b=this.credential&&this.credential.w();return b&&Et(a,b),a},oa.prototype.toJSON=function(){return this.w()},sa.prototype.c=null,P(ca,sa),ca.prototype.a=function(){var a=ha(this);return a?new ActiveXObject(a):new XMLHttpRequest},ca.prototype.b=function(){var a={};return ha(this)&&(a[0]=!0,a[1]=!0),a},na=new ca,P(la,sa),la.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new fa;throw Error("Unsupported browser")},la.prototype.b=function(){return{}},(n=fa.prototype).open=function(a,b,t){if(null!=t&&!t)throw Error("Only async requests are supported.");this.a.open(a,b)},n.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,pa(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",pa(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,pa(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},da.prototype.a=null;function va(a){this.f=a,this.b=this.c=this.a=null}function ga(a,b){this.name=a,this.value=b}da.prototype.reset=function(a,b,t,e,n){"number"==typeof n||0,e||N(),delete this.a},ga.prototype.toString=function(){return this.name};var ma=new ga("SEVERE",1e3),ya=new ga("WARNING",900),_a=new ga("CONFIG",700),ba=new ga("FINE",500);function wa(a){return a.c?a.c:a.a?wa(a.a):(W("Root logger has no level set."),null)}va.prototype.log=function(a,b,t){if(a.value>=wa(this).value)for(C(b)&&(b=b()),a=new da(a,String(b),this.f),t&&(a.a=t),t=this;t;)t=t.a};var Ca={},Ia=null;function Ta(a){var b;if(Ia||(Ia=new va(""),Ca[""]=Ia,Ia.c=_a),!(b=Ca[a])){b=new va(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=Ta(a.substr(0,t))).b||(t.b={}),t.b[e]=b,b.a=t,Ca[a]=b}return b}function Oa(a,b){a&&a.log(ba,b,void 0)}function Ea(a){this.f=a}function ka(a){Nn.call(this),this.u=a,this.h=void 0,this.readyState=Sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ta("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}P(Ea,sa),Ea.prototype.a=function(){return new ka(this.f)},Ea.prototype.b=function(a){return function(){return a}}({}),P(ka,Nn);var Sa=0;function xa(a){a.c.read().then(a.pc.bind(a)).catch(a.Va.bind(a))}function Na(a){a.readyState=4,a.g=null,a.c=null,a.m=null,Pa(a)}function Pa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Aa(a){Nn.call(this),this.headers=new Fn,this.D=a||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ra,this.u=this.S=!1}(n=ka.prototype).open=function(a,b){if(this.readyState!=Sa)throw this.abort(),Error("Error reopening a connection");this.s=a,this.f=b,this.readyState=1,Pa(this)},n.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.l,method:this.s,credentials:this.h,cache:void 0};a&&(b.body=a),this.u.fetch(new Request(this.f,b)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Na(this)),this.readyState=Sa},n.uc=function(a){this.a&&(this.g=a,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=a.headers,this.readyState=2,Pa(this)),this.a&&(this.readyState=3,Pa(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==f.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.m=new TextDecoder,xa(this)):a.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(a){if(this.a){var b=this.m.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?Na(this):Pa(this),3==this.readyState&&xa(this)}},n.tc=function(a){this.a&&(this.response=this.responseText=a,Na(this))},n.sc=function(a){this.a&&(this.response=a,Na(this))},n.Va=function(a){var b=this.i;b&&b.log(ya,"Failed to fetch url "+this.f,a instanceof Error?a:Error(a)),this.a&&Na(this)},n.setRequestHeader=function(a,b){this.l.append(a,b)},n.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.i)&&a.log(ya,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var a=this.i;return a&&a.log(ya,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}a=[];for(var b=this.b.entries(),t=b.next();!t.done;)t=t.value,a.push(t[0]+": "+t[1]),t=b.next();return a.join("\r\n")},Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(a){this.h=a?"include":"same-origin"}}),P(Aa,Nn);var Ra="";Aa.prototype.b=Ta("goog.net.XhrIo");var ja=/^https?$/i,Da=["POST","PUT"];function La(a,b,t,e,n){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+b);t=t?t.toUpperCase():"GET",a.l=b,a.h="",a.P=t,a.J=!1,a.c=!0,a.a=a.D?a.D.a():na.a(),a.C=a.D?ua(a.D):ua(na),a.a.onreadystatechange=q(a.Wb,a);try{Oa(a.b,$a(a,"Opening Xhr")),a.N=!0,a.a.open(t,String(b),!0),a.N=!1}catch(t){return Oa(a.b,$a(a,"Error opening Xhr: "+t.message)),void Fa(a,t)}b=e||"";var r=new Fn(a.headers);n&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(w(a)||"string"==typeof a)J(a,b,void 0);else for(var t=Mn(a),e=Ln(a),n=e.length,r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}(n,(function(g,t){r.set(t,g)})),n=function(a){t:{for(var b=Ma,t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(r.Y()),e=f.FormData&&b instanceof f.FormData,!et(Da,t)||n||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(g,t){this.a.setRequestHeader(t,g)}),a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.S&&(a.a.withCredentials=a.S);try{Va(a),0<a.g&&(a.u=function(a){return re&&de(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),Oa(a.b,$a(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.u)),a.u?(a.a.timeout=a.g,a.a.ontimeout=q(a.Ma,a)):a.s=jn(a.Ma,a.g,a)),Oa(a.b,$a(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(t){Oa(a.b,$a(a,"Send error: "+t.message)),Fa(a,t)}}function Ma(a){return"content-type"==a.toLowerCase()}function Fa(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,Ua(a),qa(a)}function Ua(a){a.J||(a.J=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function li(a){if(a.c&&void 0!==l)if(a.C[1]&&4==Ba(a)&&2==Wa(a))Oa(a.b,$a(a,"Local request error detected and ignored"));else if(a.i&&4==Ba(a))jn(a.Wb,0,a);else if(a.dispatchEvent("readystatechange"),4==Ba(a)){Oa(a.b,$a(a,"Request complete")),a.c=!1;try{var t,b=Wa(a);t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.l).match(Vn)[1]||null;if(!r&&f.self&&f.self.location){var g=f.self.location.protocol;r=g.substr(0,g.length-1)}n=!ja.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var o=2<Ba(a)?a.a.statusText:""}catch(t){Oa(a.b,"Can not get status: "+t.message),o=""}a.h=o+" ["+Wa(a)+"]",Ua(a)}}finally{qa(a)}}}function qa(a,b){if(a.a){Va(a);var t=a.a,e=a.C[0]?y:null;a.a=null,a.C=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(a=a.b)&&a.log(ma,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Va(a){a.a&&a.u&&(a.a.ontimeout=null),a.s&&(f.clearTimeout(a.s),a.s=null)}function Ba(a){return a.a?a.a.readyState:0}function Wa(a){try{return 2<Ba(a)?a.a.status:-1}catch(t){return-1}}function $a(a,b){return b+" ["+a.P+" "+a.l+" "+Wa(a)+"]"}function Ha(a){var b=ns;this.g=[],this.u=b,this.s=a||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function za(a,b,t){a.a=!0,a.c=t,a.f=!b,Xa(a)}function Ka(a){if(a.a){if(!a.v)throw new Ja(a);a.v=!1}}function Ga(a,b,t,e){a.g.push([b,t,e]),a.a&&Xa(a)}function Ya(a){return tt(a.g,(function(b){return C(b[1])}))}function Xa(a){if(a.h&&a.a&&Ya(a)){var b=a.h,t=ts[b];t&&(f.clearTimeout(t.a),delete ts[b]),a.h=0}a.b&&(a.b.l--,delete a.b),b=a.c;for(var e=t=!1;a.g.length&&!a.i;){var n=a.g.shift(),r=n[0],g=n[1];if(n=n[2],r=a.f?g:r)try{var o=r.call(n||a.s,b);void 0!==o&&(a.f=a.f&&(o==b||o instanceof Error),a.c=b=o),(V(b)||"function"==typeof f.Promise&&b instanceof f.Promise)&&(e=!0,a.i=!0)}catch(e){b=e,a.f=!0,Ya(a)||(t=!0)}}a.c=b,e&&(o=q(a.m,a,!0),e=q(a.m,a,!1),b instanceof Ha?(Ga(b,o,e),b.C=!0):b.then(o,e)),t&&(b=new Za(b),ts[b.a]=b,a.h=b.a)}function Ja(){u.call(this)}function Qa(){u.call(this)}function Za(a){this.a=f.setTimeout(q(this.c,this),0),this.b=a}(n=Aa.prototype).Ma=function(){void 0!==l&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Oa(this.b,$a(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(Oa(this.b,$a(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qa(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),qa(this,!0)),Aa.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?li(this):this.Jc())},n.Jc=function(){li(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ra:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(ma,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Oa(this.b,"Can not get response: "+t.message),null}},Ha.prototype.cancel=function(a){if(this.a)this.c instanceof Ha&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(a=new Qa(this),Ka(this),za(this,!1,a))}},Ha.prototype.m=function(a,b){this.i=!1,za(this,a,b)},Ha.prototype.then=function(a,b,t){var e,n,r=new Ne((function(g,t){e=g,n=t}));return Ga(this,e,(function(g){g instanceof Qa?r.cancel():n(g)})),r.then(a,b,t)},Ha.prototype.$goog_Thenable=!0,P(Ja,u),Ja.prototype.message="Deferred has already fired",Ja.prototype.name="AlreadyCalledError",P(Qa,u),Qa.prototype.message="Deferred was canceled",Qa.prototype.name="CanceledError",Za.prototype.c=function(){throw delete ts[this.a],this.b};var ts={};function es(a){var b={},t=b.document||document,e=Dt(a).toString(),n=Te(document,"SCRIPT"),r={Xb:n,Ma:void 0},g=new Ha(r),o=null,c=null!=b.timeout?b.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){rs(n,!0);var p=new as(os,"Timeout reached for loading script "+e);Ka(g),za(g,!1,p)}),c),r.Ma=o),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(rs(n,b.xd||!1,o),Ka(g),za(g,!0,null))},n.onerror=function(){rs(n,!0,o);var p=new as(is,"Error while loading script "+e);Ka(g),za(g,!1,p)},Et(r=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),_e(n,r),function(a,b){kt(a,"HTMLScriptElement"),a.src=Dt(b),(b=a.ownerDocument&&a.ownerDocument.defaultView)&&b!=f?b=m(b.document):(null===v&&(v=m(f.document)),b=v),b&&a.setAttribute("nonce",b)}(n,a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(t).appendChild(n),g}function ns(){if(this&&this.Xb){var a=this.Xb;a&&"SCRIPT"==a.tagName&&rs(a,!0,this.Ma)}}function rs(a,b,t){null!=t&&f.clearTimeout(t),a.onload=y,a.onerror=y,a.onreadystatechange=y,b&&window.setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a)}),0)}var is=0,os=1;function as(a,b){var t="Jsloader error (code #"+a+")";b&&(t+=": "+b),u.call(this,t),this.code=a}function ss(a){this.f=a}function us(a,b,t){if(this.c=a,a=b||{},this.l=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=a.secureTokenTimeout||ls,this.g=Tt(a.secureTokenHeaders||fs),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=a.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=a.firebaseTimeout||ps,this.a=Tt(a.firebaseHeaders||ds),t&&(this.a["X-Client-Version"]=t,this.g["X-Client-Version"]=t),t="Node"==jr(),!(t=f.XMLHttpRequest||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!Rr())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Rr()?this.f=new Ea(self):Dr()?this.f=new ss(t):this.f=new la,this.b=null}P(as,u),P(ss,sa),ss.prototype.a=function(){return new this.f},ss.prototype.b=function(){return{}};var cs,hs="idToken",ls=new ti(3e4,6e4),fs={"Content-Type":"application/x-www-form-urlencoded"},ps=new ti(3e4,6e4),ds={"Content-Type":"application/json"};function vs(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function gs(a,b){b&&(a.l=ms("https://securetoken.googleapis.com/v1/token",b),a.h=ms("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",b),a.i=ms("https://identitytoolkit.googleapis.com/v2/",b))}function ms(a,b){return a=Gn(a),b=Gn(b.url),a.f=a.a+a.f,Wn(a,b.c),a.a=b.a,$n(a,b.g),a.toString()}function ys(a,b){b?(a.a["X-Client-Version"]=b,a.g["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function _s(a,b,t,e,n,r,g){(function(){var a=Vr();return!((a=Fr(a)!=Mr?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a||re&&ge&&!(9<ge))})()||Rr()?a=q(a.u,a):(cs||(cs=new Ne((function(t,e){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{f[ws]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},function(a,b){Ga(a,null,b,void 0)}(es(Lt(bs,{onload:ws})),(function(){b(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),a=q(a.s,a)),a(b,t,e,n,r,g)}us.prototype.T=function(){return this.b},us.prototype.u=function(a,b,t,e,n,r){if(Rr()&&(void 0===f.fetch||void 0===f.Headers||void 0===f.Request))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new Aa(this.f);if(r){g.g=Math.max(0,r);var o=setTimeout((function(){g.dispatchEvent("timeout")}),r)}Pn(g,"complete",(function(){o&&clearTimeout(o);var t=null;try{t=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(t){return Oa(a.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(e){t=null}b&&b(t)})),An(g,"ready",(function(){o&&clearTimeout(o),en(this)})),An(g,"timeout",(function(){o&&clearTimeout(o),en(this),b&&b(null)})),La(g,a,t,e,n)};var bs=new St(At,"https://apis.google.com/js/client.js?onload=%{onload}"),ws="__fcb"+Math.floor(1e6*Math.random()).toString();function Cs(a,b,t,e,n,r,g){var o=Gn(b+t);zn(o,"key",a.c),g&&zn(o,"cb",Date.now().toString());var c="GET"==e;if(c)for(var p in n)n.hasOwnProperty(p)&&zn(o,p,n[p]);return new Ne((function(t,h){_s(a,o.toString(),(function(e){e?e.error?h(mu(e,r||{})):t(e):h(new R("network-request-failed"))}),e,c?void 0:dr(Yr(n)),a.a,a.v.get())}))}function Is(a){if("string"!=typeof(a=a.email)||!xr.test(a))throw new R("invalid-email")}function Ts(a){"email"in a&&Is(a)}function Os(a){if(!a[hs]){if(a.mfaPendingCredential)throw new R("multi-factor-auth-required",null,Tt(a));throw new R("internal-error")}}function Es(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new R("internal-error")}else{if(!a.sessionInfo)throw new R("missing-verification-id");if(!a.code)throw new R("missing-verification-code")}}us.prototype.s=function(a,b,t,e,n){var r=this;cs.then((function(){window.gapi.client.setApiKey(r.c);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:t,body:e,headers:n,authType:"none",callback:function(t){window.gapi.auth.setToken(g),b&&b(t)}})})).o((function(g){b&&b({error:{message:g&&g.message||"CORS_UNSUPPORTED"}})}))},us.prototype.Ab=function(){return vu(this,ru,{})},us.prototype.Cb=function(a,b){return vu(this,eu,{idToken:a,email:b})},us.prototype.Db=function(a,b){return vu(this,nu,{idToken:a,password:b})};var ks={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ss(a){if(!a.phoneVerificationInfo)throw new R("internal-error");if(!a.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!a.phoneVerificationInfo.code)throw new R("missing-verification-code")}function xs(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new R("internal-error")}function Ns(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(cr(a=new or(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function Ps(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=aa(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=aa(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=aa(a)):a.errorMessage&&(b=gu(a.errorMessage)),b)throw b;Os(a)}function As(a,b){return b.returnIdpCredential=!0,vu(a,au,b)}function Rs(a,b){return b.returnIdpCredential=!0,vu(a,uu,b)}function js(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,vu(a,su,b)}function Ds(a){if(!a.oobCode)throw new R("invalid-action-code")}(n=us.prototype).Eb=function(a,b){var t={idToken:a},e=[];return Ct(ks,(function(n,r){var g=b[r];null===g?e.push(n):r in b&&(t[r]=g)})),e.length&&(t.deleteAttribute=e),vu(this,eu,t)},n.wb=function(a,b){return Et(a={requestType:"PASSWORD_RESET",email:a},b),vu(this,Xs,a)},n.xb=function(a,b){return Et(a={requestType:"EMAIL_SIGNIN",email:a},b),vu(this,Ks,a)},n.vb=function(a,b){return Et(a={requestType:"VERIFY_EMAIL",idToken:a},b),vu(this,Gs,a)},n.Fb=function(a,b,t){return Et(a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:b},t),vu(this,Ys,a)},n.gb=function(a){return vu(this,lu,a)},n.ob=function(a,b){return vu(this,Zs,{oobCode:a,newPassword:b})},n.Sa=function(a){return vu(this,Ms,{oobCode:a})},n.kb=function(a){return vu(this,Ls,{oobCode:a})};var Ls={endpoint:"setAccountInfo",A:Ds,Z:"email",B:!0},Ms={endpoint:"resetPassword",A:Ds,G:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b&&"VERIFY_AND_CHANGE_EMAIL"!=b)throw new R("internal-error")},B:!0},Fs={endpoint:"signupNewUser",A:function(a){if(Is(a),!a.password)throw new R("weak-password")},G:Os,V:!0,B:!0},Us={endpoint:"createAuthUri",B:!0},qs={endpoint:"deleteAccount",O:["idToken"]},Vs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(a){if(!Array.isArray(a.deleteProvider))throw new R("internal-error")}},Bs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Is,G:Os,V:!0,B:!0},Ws={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Is,G:Os,V:!0},$s={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ss,G:Os,B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ss,G:Os,B:!0,Na:!0},zs={endpoint:"getAccountInfo"},Ks={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new R("internal-error");Is(a)},Z:"email",B:!0},Gs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new R("internal-error")},Z:"email",B:!0},Ys={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(a){if("VERIFY_AND_CHANGE_EMAIL"!=a.requestType)throw new R("internal-error")},Z:"email",B:!0},Xs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new R("internal-error");Is(a)},Z:"email",B:!0},Js={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Qs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(a){if(!a.recaptchaSiteKey)throw new R("internal-error")}},Zs={endpoint:"resetPassword",A:Ds,Z:"email",B:!0},tu={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},eu={endpoint:"setAccountInfo",O:["idToken"],A:Ts,V:!0},nu={endpoint:"setAccountInfo",O:["idToken"],A:function(a){if(Ts(a),!a.password)throw new R("weak-password")},G:Os,V:!0},ru={endpoint:"signupNewUser",G:Os,V:!0,B:!0},iu={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(a){if(!a.phoneEnrollmentInfo)throw new R("internal-error");if(!a.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!a.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(a){if(!a.phoneSessionInfo||!a.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},ou={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(a){if(!a.phoneSignInInfo||!a.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(a){if(!a.phoneResponseInfo||!a.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},au={endpoint:"verifyAssertion",A:xs,Za:Ns,G:Ps,V:!0,B:!0},su={endpoint:"verifyAssertion",A:xs,Za:Ns,G:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new R("user-not-found");if(a.errorMessage)throw gu(a.errorMessage);Os(a)},V:!0,B:!0},uu={endpoint:"verifyAssertion",A:function(a){if(xs(a),!a.idToken)throw new R("internal-error")},Za:Ns,G:Ps,V:!0},cu={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new R("invalid-custom-token")},G:Os,V:!0,B:!0},hu={endpoint:"verifyPassword",A:function(a){if(Is(a),!a.password)throw new R("wrong-password")},G:Os,V:!0,B:!0},lu={endpoint:"verifyPhoneNumber",A:Es,G:Os,B:!0},fu={endpoint:"verifyPhoneNumber",A:function(a){if(!a.idToken)throw new R("internal-error");Es(a)},G:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",aa(a);Os(a)}},pu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Es,G:Os,B:!0},du={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(a){if(!!a[hs]^!!a.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function vu(a,b,t){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var t=0;t<b.length;t++){var e=a[b[t]];if(null==e||""===e)return!1}return!0}(t,b.O))return Fe(new R("internal-error"));var e,n=!!b.Na,r=b.Vb||"POST";return Me(t).then(b.A).then((function(){return b.V&&(t.returnSecureToken=!0),b.B&&a.b&&void 0===t.tenantId&&(t.tenantId=a.b),Cs(a,n?a.i:a.h,b.endpoint,r,t,b.Ib,b.mb||!1)})).then((function(g){return e=g,b.Za?b.Za(t,e):e})).then(b.G).then((function(){if(!b.Z)return e;if(!(b.Z in e))throw new R("internal-error");return e[b.Z]}))}function gu(a){return mu({error:{errors:[{message:a}],code:400,message:a}})}function mu(a,b){var t=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(t=e[t]?new R(e[t]):null)return t;for(var n in t=a.error&&a.error.message||"",Et(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},b||{}),b=(b=t.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<b.length?b[1]:void 0,e)if(0===t.indexOf(n))return new R(e[n],b);return!b&&a&&(b=Gr(a)),new R("internal-error",b)}function yu(a){this.b=a,this.a=null,this.sb=function(a){return(Cu||(Cu=new Ne((function(a,b){function t(){Zr(),Br("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Zr(),b(Error("Network Error"))},timeout:bu.get()})}if(Br("gapi.iframes.Iframe"))a();else if(Br("gapi.load"))t();else{var e="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[e]=function(){Br("gapi.load")?t():b(Error("Network Error"))},Me(es(e=Lt(_u,{onload:e}))).o((function(){b(Error("Network Error"))}))}})).o((function(a){throw Cu=null,a})))).then((function(){return new Ne((function(b,t){Br("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(e){function n(){clearTimeout(r),b()}a.a=e,a.a.restyle({setHideOnLeave:!1});var r=setTimeout((function(){t(Error("Network Error"))}),wu.get());e.ping(n).then(n,(function(){t(Error("Network Error"))}))}))}))}))}(this)}var _u=new St(At,"https://apis.google.com/js/api.js?onload=%{onload}"),bu=new ti(3e4,6e4),wu=new ti(5e3,15e3),Cu=null;function Iu(a,b,t,e){this.l=a,this.h=b,this.i=t,this.g=e,this.f=null,this.g?a=Yn((a=Gn(this.g.url)).c,a.a,a.g,"/emulator/auth/iframe"):a=Yn("https",this.l,null,"/__/auth/iframe"),this.a=a,zn(this.a,"apiKey",this.h),zn(this.a,"appName",this.i),this.b=null,this.c=[]}function Tu(a,b,t,e,n,r){this.u=a,this.s=b,this.c=t,this.m=e,this.v=r,this.i=this.g=this.l=null,this.a=n,this.h=this.f=null}function Ou(a){try{return e.a.app(a).auth().Ga()}catch(t){return[]}}function Eu(a,b,t,e,n,r){this.s=a,this.g=b,this.b=t,this.f=r,this.c=e||null,this.i=n||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ku(a){var b=Cr();return function(a){return vu(a,Js,{}).then((function(b){return b.authorizedDomains||[]}))}(a).then((function(t){t:{var e=Gn(b),n=e.c;e=e.a;for(var r=0;r<t.length;r++){var g=t[r],o=e,c=n;if(0==g.indexOf("chrome-extension://")?o=Gn(g).a==o&&"chrome-extension"==c:"http"!=c&&"https"!=c?o=!1:Sr.test(g)?o=o==g:(g=g.split(".").join("\\."),o=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new ia(Cr())}))}function Su(a){return a.m||(a.m=Nr().then((function(){if(!a.u){var b=a.c,t=a.i,e=Ou(a.b),n=new Iu(a.s,a.g,a.b,a.f);n.f=b,n.b=t,n.c=at(e||[]),a.u=n.toString()}a.v=new yu(a.u),function(a){if(!a.v)throw Error("IfcHandler must be initialized!");!function(a,b){a.sb.then((function(){a.a.register("authEvent",b,Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(a.v,(function(b){var t={};if(b&&b.authEvent){var e=!1;for(b=th(b.authEvent),t=0;t<a.h.length;t++)e=a.h[t](b)||e;return(t={}).status=e?"ACK":"ERROR",Me(t)}return t.status="ERROR",Me(t)}))}(a)}))),a.m}function xu(a){return a.l||(a.C=a.c?qr(a.c,Ou(a.b)):null,a.l=new us(a.g,U(a.i),a.C),a.f&&gs(a.l,a.f)),a.l}function Nu(a,b,t,e,n,r,g,o,c,p,h,l){return(a=new Tu(a,b,t,e,n,l)).l=r,a.g=g,a.i=o,a.b=Tt(c||null),a.f=p,a.zb(h).toString()}function Pu(a){if(this.a=a||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Au(a){this.b=a,this.a={},this.f=q(this.c,this)}Iu.prototype.toString=function(){return this.f?zn(this.a,"v",this.f):ur(this.a.b,"v"),this.b?zn(this.a,"eid",this.b):ur(this.a.b,"eid"),this.c.length?zn(this.a,"fw",this.c.join(",")):ur(this.a.b,"fw"),this.a.toString()},Tu.prototype.zb=function(a){return this.h=a,this},Tu.prototype.toString=function(){if(this.v){var a=Gn(this.v.url);a=Yn(a.c,a.a,a.g,"/emulator/auth/handler")}else a=Yn("https",this.u,null,"/__/auth/handler");if(zn(a,"apiKey",this.s),zn(a,"appName",this.c),zn(a,"authType",this.m),this.a.isOAuthProvider){var b=this.a;try{var t=e.a.app(this.c).auth().la()}catch(e){t=null}for(var n in b.pb=t,zn(a,"providerId",this.a.providerId),b=Yr((t=this.a).Jb))b[n]=b[n].toString();n=t.Qc,b=Tt(b);for(var r=0;r<n.length;r++){var o=n[r];o in b&&delete b[o]}t.qb&&t.pb&&!b[t.qb]&&(b[t.qb]=t.pb),It(b)||zn(a,"customParameters",Gr(b))}if("function"==typeof this.a.Rb&&((t=this.a.Rb()).length&&zn(a,"scopes",t.join(","))),this.l?zn(a,"redirectUrl",this.l):ur(a.b,"redirectUrl"),this.g?zn(a,"eventId",this.g):ur(a.b,"eventId"),this.i?zn(a,"v",this.i):ur(a.b,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!Kn(a,g)&&zn(a,g,this.b[g]);return this.h?zn(a,"tid",this.h):ur(a.b,"tid"),this.f?zn(a,"eid",this.f):ur(a.b,"eid"),(g=Ou(this.c)).length&&zn(a,"fw",g.join(",")),a.toString()},(n=Eu.prototype).Pb=function(a,b,t){var e=new R("popup-closed-by-user"),n=new R("web-storage-unsupported"),r=this,g=!1;return this.ma().then((function(){(function(a){var b={type:"webStorageSupport"};return Su(a).then((function(){return function(a,b){return a.sb.then((function(){return new Ne((function(t){a.a.send(b.type,b,t,Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(a.v,b)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(r).then((function(t){t||(a&&Er(a),b(n),g=!0)}))})).o((function(){})).then((function(){if(!g)return function(a){return new Ne((function(b){return function t(){Dn(2e3).then((function(){if(a&&!a.closed)return t();b()}))}()}))}(a)})).then((function(){if(!g)return Dn(t).then((function(){b(e)}))}))},n.Yb=function(){var a=Vr();return!Kr(a)&&!Qr(a)},n.Ub=function(){return!1},n.Nb=function(a,b,t,e,n,r,g,o){if(!a)return Fe(new R("popup-blocked"));if(g&&!Kr())return this.ma().o((function(p){Er(a),n(p)})),e(),Me();this.a||(this.a=ku(xu(this)));var c=this;return this.a.then((function(){var p=c.ma().o((function(t){throw Er(a),n(t),t}));return e(),p})).then((function(){(Zo(t),g)||Ir(Nu(c.s,c.g,c.b,b,t,null,r,c.c,void 0,c.i,o,c.f),a)})).o((function(p){throw"auth/network-request-failed"==p.code&&(c.a=null),p}))},n.Ob=function(a,b,t,e){this.a||(this.a=ku(xu(this)));var n=this;return this.a.then((function(){Zo(b),Ir(Nu(n.s,n.g,n.b,a,b,Cr(),t,n.c,void 0,n.i,e,n.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(n.a=null),t}))},n.ma=function(){var a=this;return Su(this).then((function(){return a.v.sb})).o((function(){throw a.a=null,new R("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(a){this.h.push(a)},n.Ta=function(a){it(this.h,(function(b){return b==a}))},(n=Pu.prototype).get=function(a){return Me(this.a.getItem(a)).then((function(b){return b&&Xr(b)}))},n.set=function(a,b){return Me(this.a.setItem(a,Gr(b)))},n.U=function(a){return Me(this.a.removeItem(a))},n.ca=function(){},n.ia=function(){};var Ru,ju=[];function Du(a,b,t){It(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[b]&&(a.a[b]=[]),a.a[b].push(t)}function Lu(a){this.a=a}function Mu(a){this.c=a,this.b=!1,this.a=[]}function Fu(a,b,t,e){var n,g,r,o,c=t||{},p=null;if(a.b)return Fe(Error("connection_unavailable"));var h=e?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ne((function(t,e){l?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),r=setTimeout((function(){e(Error("unsupported_event"))}),h),p={messageChannel:l,onMessage:g=function(c){c.data.eventId===n&&("ack"===c.data.status?(clearTimeout(r),o=setTimeout((function(){e(Error("timeout"))}),3e3)):"done"===c.data.status?(clearTimeout(o),void 0!==c.data.response?t(c.data.response):e(Error("unknown_error"))):(clearTimeout(r),clearTimeout(o),e(Error("invalid_response"))))}},a.a.push(p),l.port1.addEventListener("message",g),a.c.postMessage({eventType:b,eventId:n,data:c},[l.port2])):e(Error("connection_unavailable"))})).then((function(t){return Uu(a,p),t})).o((function(t){throw Uu(a,p),t}))}function Uu(a,b){if(b){var t=b.messageChannel,e=b.onMessage;t&&(t.port1.removeEventListener("message",e),t.port1.close()),it(a.a,(function(t){return t==b}))}}function qu(){if(!$u())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var a=this;Rr()&&self?(this.v=function(){var a=Rr()?self:null;if(J(ju,(function(t){t.b==a&&(b=t)})),!b){var b=new Au(a);ju.push(b)}return b}(),Du(this.v,"keyChanged",(function(b,t){return Yu(a).then((function(e){return 0<e.length&&J(a.a,(function(t){t(e)})),{keyProcessed:et(e,t.key)}}))})),Du(this.v,"ping",(function(){return Me(["keyChanged"])}))):function(){var a=f.navigator;return a&&a.serviceWorker?Me().then((function(){return a.serviceWorker.ready})).then((function(b){return b.active||null})).o((function(){return null})):Me(null)}().then((function(b){(a.h=b)&&(a.g=new Mu(new Lu(b)),Fu(a.g,"ping",null,!0).then((function(t){t[0].fulfilled&&et(t[0].value,"keyChanged")&&(a.s=!0)})).o((function(){})))}))}function Vu(a){return new Ne((function(b,t){var e=a.m.open("firebaseLocalStorageDb",1);e.onerror=function(e){try{e.preventDefault()}catch(t){}t(Error(e.target.error))},e.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){t(e)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(e):function(a){return new Ne((function(b,t){var e=a.m.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){b()},e.onerror=function(e){t(Error(e.target.error))}}))}(a).then((function(){return Vu(a)})).then((function(t){b(t)})).o((function(e){t(e)}))}}))}function Bu(a){return a.i||(a.i=Vu(a)),a.i}function Wu(a,b){var t=0;return new Ne((function e(n,r){Bu(a).then(b).then(n).o((function(g){if(!(3<++t))return Bu(a).then((function(t){return t.close(),a.i=void 0,e(n,r)})).o((function(t){r(t)}));r(g)}))}))}function $u(){try{return!!f.indexedDB}catch(t){return!1}}function Hu(a){return a.objectStore("firebaseLocalStorage")}function zu(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function Ku(a){return new Ne((function(b,t){a.onsuccess=function(t){t&&t.target?b(t.target.result):b()},a.onerror=function(e){t(e.target.error)}}))}function Gu(a,b){return a.g&&a.h&&function(){var a=f.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?Fu(a.g,"keyChanged",{key:b},a.s).then((function(){})).o((function(){})):Me()}function Yu(a){return Bu(a).then((function(b){var t=Hu(zu(b,!1));return t.getAll?Ku(t.getAll()):new Ne((function(e,n){var r=[],g=t.openCursor();g.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},g.onerror=function(t){n(t.target.error)}}))})).then((function(b){var t={},e=[];if(0==a.b){for(e=0;e<b.length;e++)t[b[e].fbase_key]=b[e].value;e=Tr(a.c,t),a.c=t}return e}))}function Xu(a){a.l&&a.l.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function Ju(a){var b=this,t=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Me().then((function(){if($u()){var e=Jr(),n="__sak"+e;return Ru||(Ru=new qu),(t=Ru).set(n,e).then((function(){return t.get(n)})).then((function(r){if(r!==e)throw Error("indexedDB not supported!");return t.U(n)})).then((function(){return t})).o((function(){return b.c}))}return b.c})).then((function(t){return b.type=t.type,t.ca((function(t){J(b.a,(function(e){e(t)}))})),t}))}function Qu(){this.a={},this.type="inMemory"}function Zu(){if(!function(){var a="Node"==jr();if(!(a=tc()||a&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==jr())throw new R("internal-error","The LocalStorage compatibility library was not found.");throw new R("web-storage-unsupported")}this.a=tc()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function tc(){try{var a=f.localStorage,b=Jr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function ec(){this.type="nullStorage"}function nc(){if(!function(){var a="Node"==jr();if(!(a=rc()||a&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==jr())throw new R("internal-error","The SessionStorage compatibility library was not found.");throw new R("web-storage-unsupported")}this.a=rc()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function rc(){try{var a=f.sessionStorage,b=Jr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function ic(){var a={};a.Browser=sc,a.Node=uc,a.ReactNative=cc,a.Worker=hc,this.a=a[jr()]}Au.prototype.c=function(a){var b=a.data.eventType,t=a.data.eventId,e=this.a[b];if(e&&0<e.length){a.ports[0].postMessage({status:"ack",eventId:t,eventType:b,response:null});var n=[];J(e,(function(t){n.push(Me().then((function(){return t(a.origin,a.data.data)})))})),qe(n).then((function(e){var g=[];J(e,(function(t){g.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),J(g,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),a.ports[0].postMessage({status:"done",eventId:t,eventType:b,response:g})}))}},Lu.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},Mu.prototype.close=function(){for(;0<this.a.length;)Uu(this,this.a[0]);this.b=!0},(n=qu.prototype).set=function(a,b){var t=this,e=!1;return Wu(this,(function(t){return Ku((t=Hu(zu(t,!0))).get(a))})).then((function(n){return Wu(t,(function(r){if(r=Hu(zu(r,!0)),n)return n.value=b,Ku(r.put(n));t.b++,e=!0;var g={};return g.fbase_key=a,g.value=b,Ku(r.add(g))}))})).then((function(){return t.c[a]=b,Gu(t,a)})).oa((function(){e&&t.b--}))},n.get=function(a){return Wu(this,(function(b){return Ku(Hu(zu(b,!1)).get(a))})).then((function(b){return b&&b.value}))},n.U=function(a){var b=this,t=!1;return Wu(this,(function(e){return t=!0,b.b++,Ku(Hu(zu(e,!0)).delete(a))})).then((function(){return delete b.c[a],Gu(b,a)})).oa((function(){t&&b.b--}))},n.ca=function(a){0==this.a.length&&function(a){function b(){a.f=setTimeout((function(){a.l=Yu(a).then((function(t){0<t.length&&J(a.a,(function(e){e(t)}))})).then((function(){b()})).o((function(t){"STOP_EVENT"!=t.message&&b()}))}),800)}Xu(a),b()}(this),this.a.push(a)},n.ia=function(a){it(this.a,(function(b){return b==a})),0==this.a.length&&Xu(this)},(n=Ju.prototype).get=function(a){return this.b.then((function(b){return b.get(a)}))},n.set=function(a,b){return this.b.then((function(t){return t.set(a,b)}))},n.U=function(a){return this.b.then((function(b){return b.U(a)}))},n.ca=function(a){this.a.push(a)},n.ia=function(a){it(this.a,(function(b){return b==a}))},(n=Qu.prototype).get=function(a){return Me(this.a[a])},n.set=function(a,b){return this.a[a]=b,Me()},n.U=function(a){return delete this.a[a],Me()},n.ca=function(){},n.ia=function(){},(n=Zu.prototype).get=function(a){var b=this;return Me().then((function(){return Xr(b.a.getItem(a))}))},n.set=function(a,b){var t=this;return Me().then((function(){var e=Gr(b);null===e?t.U(a):t.a.setItem(a,e)}))},n.U=function(a){var b=this;return Me().then((function(){b.a.removeItem(a)}))},n.ca=function(a){f.window&&yn(f.window,"storage",a)},n.ia=function(a){f.window&&wn(f.window,"storage",a)},(n=ec.prototype).get=function(){return Me(null)},n.set=function(){return Me()},n.U=function(){return Me()},n.ca=function(){},n.ia=function(){},(n=nc.prototype).get=function(a){var b=this;return Me().then((function(){return Xr(b.a.getItem(a))}))},n.set=function(a,b){var t=this;return Me().then((function(){var e=Gr(b);null===e?t.U(a):t.a.setItem(a,e)}))},n.U=function(a){var b=this;return Me().then((function(){b.a.removeItem(a)}))},n.ca=function(){},n.ia=function(){};var oc,ac,sc={F:Zu,cb:nc},uc={F:Zu,cb:nc},cc={F:Pu,cb:ec},hc={F:Zu,cb:ec},lc={rd:"local",NONE:"none",td:"session"};function fc(){var a=!(Qr(Vr())||!Ar()),b=Kr(),t=Wr();this.m=a,this.h=b,this.l=t,this.a={},oc||(oc=new ic),a=oc;try{this.g=!wr()&&ri()||!f.indexedDB?new a.a.F:new Ju(Rr()?new Qu:new a.a.F)}catch(t){this.g=new Qu,this.h=!0}try{this.i=new a.a.cb}catch(t){this.i=new Qu}this.v=new Qu,this.f=q(this.Zb,this),this.b={}}function pc(){return ac||(ac=new fc),ac}function dc(a,b){switch(b){case"session":return a.i;case"none":return a.v;default:return a.g}}function vc(a,b){return"firebase:"+a.name+(b?":"+b:"")}function gc(a,b,t){return t=vc(b,t),"local"==b.F&&(a.b[t]=null),dc(a,b.F).U(t)}function mc(a){a.c&&(clearInterval(a.c),a.c=null)}function yc(a){this.a=a,this.b=pc()}(n=fc.prototype).get=function(a,b){return dc(this,a.F).get(vc(a,b))},n.set=function(a,b,t){var e=vc(a,t),n=this,r=dc(this,a.F);return r.set(e,b).then((function(){return r.get(e)})).then((function(g){"local"==a.F&&(n.b[e]=g)}))},n.addListener=function(a,b,t){a=vc(a,b),this.l&&(this.b[a]=f.localStorage.getItem(a)),It(this.a)&&(dc(this,"local").ca(this.f),this.h||(wr()||!ri())&&f.indexedDB||!this.l||function(a){mc(a),a.c=setInterval((function(){for(var b in a.a){var t=f.localStorage.getItem(b),e=a.b[b];t!=e&&(a.b[b]=t,t=new un({type:"storage",key:b,target:window,oldValue:e,newValue:t,a:!0}),a.Zb(t))}}),1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(t)},n.removeListener=function(a,b,t){a=vc(a,b),this.a[a]&&(it(this.a[a],(function(e){return e==t})),0==this.a[a].length&&delete this.a[a]),It(this.a)&&(dc(this,"local").ia(this.f),mc(this))},n.Zb=function(a){if(a&&a.g){var b=a.a.key;if(null==b)for(var t in this.a){var e=this.b[t];void 0===e&&(e=null);var n=f.localStorage.getItem(t);n!==e&&(this.b[t]=n,this.nb(t))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?dc(this,"local").ia(this.f):mc(this),this.m)if(t=f.localStorage.getItem(b),(e=a.a.newValue)!==t)null!==e?f.localStorage.setItem(b,e):f.localStorage.removeItem(b);else if(this.b[b]===e&&void 0===a.a.a)return;var r=this;t=function(){void 0===a.a.a&&r.b[b]===f.localStorage.getItem(b)||(r.b[b]=f.localStorage.getItem(b),r.nb(b))},re&&ge&&10==ge&&f.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(t,10):t()}}else J(a,q(this.nb,this))},n.nb=function(a){this.a[a]&&J(this.a[a],(function(b){b()}))};var _c,bc={name:"authEvent",F:"local"};function wc(){this.a=pc()}function Cc(a,b){this.b=Ic,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.l=f.Int32Array?new Int32Array(64):Array(64),void 0===_c&&(_c=f.Int32Array?new Int32Array(xc):xc),this.reset()}P(Cc,(function(){this.b=-1}));for(var Ic=64,Tc=Ic-1,Oc=[],Ec=0;Ec<Tc;Ec++)Oc[Ec]=0;var kc=ot(128,Oc);function ol(a){for(var b=a.f,t=a.l,e=0,n=0;n<b.length;)t[e++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*e;for(b=16;64>b;b++){n=0|t[b-15],e=0|t[b-2];var r=(0|t[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,g=(0|t[b-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;t[b]=r+g|0}e=0|a.a[0],n=0|a.a[1];var o=0|a.a[2],c=0|a.a[3],p=0|a.a[4],h=0|a.a[5],l=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var f=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&n^e&o^n&o)|0;g=(r=r+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))|0)+((g=(g=p&h^~p&l)+(0|_c[b])|0)+(0|t[b])|0)|0,r=l,l=h,h=p,p=c+g|0,c=o,o=n,n=e,e=g+f|0}a.a[0]=a.a[0]+e|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+o|0,a.a[3]=a.a[3]+c|0,a.a[4]=a.a[4]+p|0,a.a[5]=a.a[5]+h|0,a.a[6]=a.a[6]+l|0,a.a[7]=a.a[7]+r|0}function Sc(a,b,t){void 0===t&&(t=b.length);var e=0,n=a.c;if("string"==typeof b)for(;e<t;)a.f[n++]=b.charCodeAt(e++),n==a.b&&(ol(a),n=0);else{if(!w(b))throw Error("message must be string or array");for(;e<t;){var r=b[e++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");a.f[n++]=r,n==a.b&&(ol(a),n=0)}}a.c=n,a.g+=t}Cc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):at(this.h)};var xc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Nc(){Cc.call(this,8,Pc)}P(Nc,Cc);var Pc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ac(a,b,t,e,n,r){this.v=a,this.i=b,this.l=t,this.m=e||null,this.u=n||null,this.s=r,this.h=b+":"+t,this.C=new wc,this.g=new yc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Rc(a){return new R("invalid-cordova-configuration",a)}function jc(a){var b=new Nc;Sc(b,a),a=[];var t=8*b.g;56>b.c?Sc(b,kc,56-b.c):Sc(b,kc,b.b-(b.c-56));for(var e=63;56<=e;e--)b.f[e]=255&t,t/=256;for(ol(b),e=t=0;e<b.i;e++)for(var n=24;0<=n;n-=8)a[t++]=b.a[e]>>n&255;return function(a){return Z(a,(function(b){return 1<(b=b.toString(16)).length?b:"0"+b})).join("")}(a)}function Dc(a,b){for(var t=0;t<a.b.length;t++)try{a.b[t](b)}catch(t){}}function Lc(a){return a.f||(a.f=a.ma().then((function(){return new Ne((function(b){a.Ea((function t(e){return b(e),a.Ta(t),!1})),function(a){function b(g){e=!0,n&&n.cancel(),Mc(a).then((function(e){var n=t;if(e&&g&&g.url){var p=null;-1!=(n=_o(g.url)).indexOf("/__/auth/callback")&&(p=(p="object"==typeof(p=Xr(Kn(p=Gn(n),"firebaseError")||null))?j(p):null)?new ta(e.c,e.b,null,null,p,null,e.T()):new ta(e.c,e.b,n,e.f,null,null,e.T())),n=p||t}Dc(a,n)}))}var t=new ta("unknown",null,null,null,new R("no-auth-event")),e=!1,n=Dn(500).then((function(){return Mc(a).then((function(){e||Dc(a,t)}))})),r=f.handleOpenURL;f.handleOpenURL=function(g){if(0==g.toLowerCase().indexOf(Br("BuildInfo.packageName",f).toLowerCase()+"://")&&b({url:g}),"function"==typeof r)try{r(g)}catch(t){console.error(t)}},ra||(ra=new ea),function(a){var b=ra;b.a.push(a),b.b||(b.b=function(t){for(var e=0;e<b.a.length;e++)b.a[e](t)},"function"==typeof(a=Br("universalLinks.subscribe",f))&&a(null,b.b))}(b)}(a)}))}))),a.f}function Mc(a){var b=null;return function(a){return a.b.get(bc,a.a).then((function(b){return th(b)}))}(a.g).then((function(t){return b=t,gc((t=a.g).b,bc,t.a)})).then((function(){return b}))}function Fc(a){this.a=a,this.b=pc()}(n=Ac.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Pr(void 0)?Nr().then((function(){return new Ne((function(a,b){var t=f.document,e=setTimeout((function(){b(Error("Cordova framework is not ready."))}),1e3);t.addEventListener("deviceready",(function(){clearTimeout(e),a()}),!1)}))})):Fe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Br("universalLinks.subscribe",f))throw Rc("cordova-universal-links-plugin-fix is not installed");if(void 0===Br("BuildInfo.packageName",f))throw Rc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Br("cordova.plugins.browsertab.openUrl",f))throw Rc("cordova-plugin-browsertab is not installed");if("function"!=typeof Br("cordova.InAppBrowser.open",f))throw Rc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new R("cordova-not-ready")}))},n.Pb=function(a,b){return b(new R("operation-not-supported-in-this-environment")),Me()},n.Nb=function(){return Fe(new R("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(a,b,t,e){if(this.c)return Fe(new R("redirect-operation-pending"));var n=this,r=f.document,g=null,o=null,c=null,p=null;return this.c=Me().then((function(){return Zo(b),Lc(n)})).then((function(){return function(a,b,t,e,n){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),g=new ta(b,e,null,r,new R("no-auth-event"),null,n),o=Br("BuildInfo.packageName",f);if("string"!=typeof o)throw new R("invalid-cordova-configuration");var c=Br("BuildInfo.displayName",f),p={};if(Vr().toLowerCase().match(/iphone|ipad|ipod/))p.ibi=o;else{if(!Vr().toLowerCase().match(/android/))return Fe(new R("operation-not-supported-in-this-environment"));p.apn=o}c&&(p.appDisplayName=c),r=jc(r),p.sessionId=r;var h=Nu(a.v,a.i,a.l,b,t,null,e,a.m,p,a.u,n,a.s);return a.ma().then((function(){var t=a.h;return a.C.a.set(bc,g.w(),t)})).then((function(){var t=Br("cordova.plugins.browsertab.isAvailable",f);if("function"!=typeof t)throw new R("invalid-cordova-configuration");var e=null;t((function(t){if(t){if("function"!=typeof(e=Br("cordova.plugins.browsertab.openUrl",f)))throw new R("invalid-cordova-configuration");e(h)}else{if("function"!=typeof(e=Br("cordova.InAppBrowser.open",f)))throw new R("invalid-cordova-configuration");t=Vr(),a.a=e(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(n,a,b,t,e)})).then((function(){return new Ne((function(t,e){o=function(){var e=Br("cordova.plugins.browsertab.close",f);return t(),"function"==typeof e&&e(),n.a&&"function"==typeof n.a.close&&(n.a.close(),n.a=null),!1},n.Ea(o),c=function(){g||(g=Dn(2e3).then((function(){e(new R("redirect-cancelled-by-user"))})))},p=function(){ei()&&c()},r.addEventListener("resume",c,!1),Vr().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",p,!1)})).o((function(t){return Mc(n).then((function(){throw t}))}))})).oa((function(){c&&r.removeEventListener("resume",c,!1),p&&r.removeEventListener("visibilitychange",p,!1),g&&g.cancel(),o&&n.Ta(o),n.c=null}))},n.Ea=function(a){this.b.push(a),Lc(this).o((function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new ta("unknown",null,null,null,new R("no-auth-event")),a(b))}))},n.Ta=function(a){it(this.b,(function(b){return b==a}))};var Uc={name:"pendingRedirect",F:"session"};function qc(a){return gc(a.b,Uc,a.a)}function Vc(a,b,t,e){this.i={},this.u=0,this.D=a,this.v=b,this.m=t,this.J=e,this.h=[],this.f=!1,this.l=q(this.s,this),this.b=new rh,this.C=new uh,this.g=new Fc(eh(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Bc(this.D,this.v,this.m,D,this.J)}function Bc(a,b,t,n,r){var o=e.a.SDK_VERSION||null;return Pr()?new Ac(a,b,t,o,n,r):new Eu(a,b,t,o,n,r)}function Wc(a){a.f||(a.f=!0,a.a.Ea(a.l));var b=a.a;return a.a.ma().o((function(t){throw a.a==b&&a.reset(),t}))}function $c(a){a.a.Yb()&&Wc(a).o((function(b){var t=new ta("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Xc(b)&&a.s(t)})),a.a.Ub()||ih(a.b)}function Hc(a,b){et(a.h,b)||a.h.push(b),a.f||function(a){return a.b.get(Uc,a.a).then((function(b){return"pending"==b}))}(a.g).then((function(t){t?qc(a.g).then((function(){Wc(a).o((function(t){var e=new ta("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Xc(t)&&a.s(e)}))})):$c(a)})).o((function(){$c(a)}))}function zc(a,b){it(a.h,(function(t){return t==b}))}Vc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Bc(this.D,this.v,this.m,null,this.J),this.i={}},Vc.prototype.s=function(a){if(!a)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,t=0;t<this.h.length;t++){var e=this.h[t];if(e.Gb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,e),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.u=Date.now())),b=!0;break}}return ih(this.b),b};var Kc=new ti(2e3,1e4),Gc=new ti(3e4,6e4);function Yc(a,b,t,e,n,r,g){return a.a.Nb(b,t,e,(function(){a.f||(a.f=!0,a.a.Ea(a.l))}),(function(){a.reset()}),n,r,g)}function Xc(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function Jc(a,b,t,e,n){var r;return function(a){return a.b.set(Uc,"pending",a.a)}(a.g).then((function(){return a.a.Ob(b,t,e,n).o((function(g){if(Xc(g))throw new R("operation-not-supported-in-this-environment");return r=g,qc(a.g).then((function(){throw r}))})).then((function(){return a.a.ac()?new Ne((function(){})):qc(a.g).then((function(){return a.ra()})).then((function(){})).o((function(){}))}))}))}function Qc(a,b,t,e,n){return a.a.Pb(e,(function(e){b.na(t,null,e,n)}),Kc.get())}Vc.prototype.ra=function(){return this.b.ra()};var Zc={};function eh(a,b,t){return a=a+":"+b,t&&(a=a+":"+t.url),a}function nh(a,b,t,e){var n=eh(b,t,e);return Zc[n]||(Zc[n]=new Vc(a,b,t,e)),Zc[n]}function rh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ih(a){a.g||(a.g=!0,sh(a,!1,null,null))}function oh(a){a.g&&!a.i&&sh(a,!1,null,null)}function ah(a,b){if(a.b=function(){return Me(b)},a.f.length)for(var t=0;t<a.f.length;t++)a.f[t](b)}function sh(a,b,t,e){b?e?function(a,b){if(a.b=function(){return Fe(b)},a.c.length)for(var t=0;t<a.c.length;t++)a.c[t](b)}(a,e):ah(a,t):ah(a,{user:null}),a.f=[],a.c=[]}function uh(){}function em(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(a){this.jb=a},enumerable:!1})}function ch(a,b){this.a=b,ui(this,"verificationId",a)}function hh(a,b,t,e){return new Xo(a).gb(b,t).then((function(t){return new ch(t,e)}))}function lh(a){var b=io(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ci(this,{token:a,expirationTime:ni(1e3*b.exp),authTime:ni(1e3*b.auth_time),issuedAtTime:ni(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,signInSecondFactor:b.firebase&&b.firebase.sign_in_second_factor?b.firebase.sign_in_second_factor:null,claims:b})}function fh(a,b,t){var e=b&&b[dh];if(!e)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=a,this.f=Tt(b),this.g=t,this.c=new bo(null,e),this.b=[];var n=this;J(b[ph]||[],(function(t){(t=di(t))&&n.b.push(t)})),ui(this,"auth",this.a),ui(this,"session",this.c),ui(this,"hints",this.b)}rh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},rh.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var t=a.c,e=a.b,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=t||n||r?a.a?(sh(this,!0,null,a.a),Me()):b.Fa(t,e)?function(a,b,t){t=t.Fa(b.c,b.b);var e=b.g,n=b.f,r=b.i,g=b.T(),o=!!b.c.match(/Redirect$/);t(e,n,g,r).then((function(t){sh(a,o,t,null)})).o((function(t){sh(a,o,null,t)}))}(this,a,b):Fe(new R("invalid-auth-event")):(sh(this,!1,null,null),Me())}else Fe(new R("invalid-auth-event"))},rh.prototype.ra=function(){var a=this;return new Ne((function(b,t){a.b?a.b().then(b,t):(a.f.push(b),a.c.push(t),function(a){var b=new R("timeout");a.a&&a.a.cancel(),a.a=Dn(Gc.get()).then((function(){a.b||(a.g=!0,sh(a,!0,null,b))}))}(a))}))},uh.prototype.h=function(a,b){if(a){var t=a.c,e=a.b;a.a?(b.na(a.c,null,a.a,a.b),Me()):b.Fa(t,e)?function(a,b){var t=a.b,e=a.c;b.Fa(e,t)(a.g,a.f,a.T(),a.i).then((function(n){b.na(e,n,null,t)})).o((function(n){b.na(e,null,n,t)}))}(a,b):Fe(new R("invalid-auth-event"))}else Fe(new R("invalid-auth-event"))},ch.prototype.confirm=function(a){return a=Jo(this.verificationId,a),this.a(a)};var ph="mfaInfo",dh="mfaPendingCredential";function vh(a,b,t,e){R.call(this,"multi-factor-auth-required",e,b),this.b=new fh(a,b,t),ui(this,"resolver",this.b)}function gh(a,b,t){if(a&&I(a.serverResponse)&&"auth/multi-factor-auth-required"===a.code)try{return new vh(b,a.serverResponse,t,a.message)}catch(t){}return null}function mh(){}function yh(a){ui(this,"factorId",a.fa),this.a=a}function _h(a){if(yh.call(this,a),this.a.fa!=Xo.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function bh(a,b){for(var t in sn.call(this,a),b)this[t]=b[t]}function wh(a,b){this.a=a,this.b=[],this.c=q(this.yc,this),yn(this.a,"userReloaded",this.c);var t=[];b&&b.multiFactor&&b.multiFactor.enrolledFactors&&J(b.multiFactor.enrolledFactors,(function(e){var n=null,r={};if(e){e.uid&&(r[mi]=e.uid),e.displayName&&(r[vi]=e.displayName),e.enrollmentTime&&(r[gi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[yi]=e.phoneNumber);try{n=new _i(r)}catch(t){}e=n}else e=null;e&&t.push(e)})),Ch(this,t)}function Ch(a,b){a.b=b,ui(a,"enrolledFactors",b)}function Ih(a,b,t){if(this.h=a,this.i=b,this.g=t,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Th(a,b){a.stop(),a.b=Dn(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then((function(){return function(){var a=f.document,b=null;return ei()||!a?Me():new Ne((function(t){b=function(){ei()&&(a.removeEventListener("visibilitychange",b,!1),t())},a.addEventListener("visibilitychange",b,!1)})).o((function(t){throw a.removeEventListener("visibilitychange",b,!1),t}))}()})).then((function(){return a.h()})).then((function(){Th(a,!0)})).o((function(t){a.i(t)&&Th(a,!1)}))}function Oh(a){this.f=a,this.b=this.a=null,this.c=Date.now()}function Eh(a,b){void 0===b&&(a.b?b=(b=a.b).a-b.g:b=0),a.c=Date.now()+1e3*b}function kh(a,b){a.b=ro(b[hs]||""),a.a=b.refreshToken,Eh(a,void 0!==(b=b.expiresIn)?Number(b):void 0)}function Sh(a,b){return function(a,b){return new Ne((function(t,e){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?_s(a,a.l+"?key="+encodeURIComponent(a.c),(function(n){n?n.error?e(mu(n)):n.access_token&&n.refresh_token?t(n):e(new R("internal-error")):e(new R("network-request-failed"))}),"POST",sr(b).toString(),a.g,a.m.get()):e(new R("internal-error"))}))}(a.f,b).then((function(t){return a.b=ro(t.access_token),a.a=t.refresh_token,Eh(a,t.expires_in),{accessToken:a.b.toString(),refreshToken:a.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(a.a=null),t}))}function xh(a,b){this.a=a||null,this.b=b||null,ci(this,{lastSignInTime:ni(b||null),creationTime:ni(a||null)})}function Nh(a,b,t,e,n,r){ci(this,{uid:a,displayName:e||null,photoURL:n||null,email:t||null,phoneNumber:r||null,providerId:b})}function Ph(a,b,t){this.N=[],this.l=a.apiKey,this.m=a.appName,this.s=a.authDomain||null;var n=e.a.SDK_VERSION?qr(e.a.SDK_VERSION):null;this.a=new us(this.l,U(D),n),(this.u=a.emulatorConfig||null)&&gs(this.a,this.u),this.h=new Oh(this.a),qh(this,b[hs]),kh(this.h,b),ui(this,"refreshToken",this.h.a),Wh(this,t||{}),Nn.call(this),this.P=!1,this.s&&$r()&&(this.b=nh(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(a){return new Ih((function(){return a.I(!0)}),(function(b){return!(!b||"auth/network-request-failed"!=b.code)}),(function(){var b=a.h.c-Date.now()-3e5;return 0<b?b:0}))}(this),this.ba=q(this.ib,this);var r=this;this.za=null,this.Pa=function(t){r.xa(t.h)},this.qa=null,this.Ba=function(t){Ah(r,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Dh(r,t.f)},this.ja=null,this.S=new wh(this,t),ui(this,"multiFactor",this.S)}function Ah(a,b){a.u=b,gs(a.a,b),a.b&&(b=a.b,a.b=nh(a.s,a.l,a.m,a.u),a.P&&(zc(b,a),Hc(a.b,a)))}function Rh(a,b){a.qa&&wn(a.qa,"languageCodeChanged",a.Pa),(a.qa=b)&&yn(b,"languageCodeChanged",a.Pa)}function jh(a,b){a.$&&wn(a.$,"emulatorConfigChanged",a.Ba),(a.$=b)&&yn(b,"emulatorConfigChanged",a.Ba)}function Dh(a,b){a.aa=b,ys(a.a,e.a.SDK_VERSION?qr(e.a.SDK_VERSION,a.aa):null)}function Lh(a,b){a.ja&&wn(a.ja,"frameworkChanged",a.Oa),(a.ja=b)&&yn(b,"frameworkChanged",a.Oa)}function Mh(a){try{return e.a.app(a.m).auth()}catch(t){throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Fh(a){a.J||a.D.b||(a.D.start(),wn(a,"tokenChanged",a.ba),yn(a,"tokenChanged",a.ba))}function Uh(a){wn(a,"tokenChanged",a.ba),a.D.stop()}function qh(a,b){a.Aa=b,ui(a,"_lat",b)}function Vh(a){for(var b=[],t=0;t<a.W.length;t++)b.push(a.W[t](a));return qe(b).then((function(){return a}))}function Bh(a){a.b&&!a.P&&(a.P=!0,Hc(a.b,a))}function Wh(a,b){ci(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,tenantId:b.tenantId||null,metadata:new xh(b.createdAt,b.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function $h(){}function Hh(a){return Me().then((function(){if(a.J)throw new R("app-deleted")}))}function zh(a){return Z(a.providerData,(function(b){return b.providerId}))}function Kh(a,b){b&&(Gh(a,b.providerId),a.providerData.push(b))}function Gh(a,b){it(a.providerData,(function(t){return t.providerId==b}))}function Yh(a,b,t){("uid"!=b||t)&&a.hasOwnProperty(b)&&ui(a,b,t)}function Xh(a,b){a!=b&&(ci(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,tenantId:b.tenantId,providerData:[]}),b.metadata?ui(a,"metadata",function(a){return new xh(a.a,a.b)}(b.metadata)):ui(a,"metadata",new xh),J(b.providerData,(function(t){Kh(a,t)})),function(a,b){a.b=b.b,a.a=b.a,a.c=b.c}(a.h,b.h),ui(a,"refreshToken",a.h.a),Ch(a.S,b.S.b))}function Jh(a){return a.I().then((function(b){var t=a.isAnonymous;return function(a,b){return vu(a.a,zs,{idToken:b}).then(q(a.Kc,a))}(a,b).then((function(){return t||Yh(a,"isAnonymous",!1),b}))}))}function Qh(a,b){b[hs]&&a.Aa!=b[hs]&&(kh(a.h,b),a.dispatchEvent(new bh("tokenChanged")),qh(a,b[hs]),Yh(a,"refreshToken",a.h.a))}function Zh(a,b){return Jh(a).then((function(){if(et(zh(a),b))return Vh(a).then((function(){throw new R("provider-already-linked")}))}))}function tl(a,b,t){return hi({user:a,credential:Qo(b),additionalUserInfo:b=co(b),operationType:t})}function el(a,b){return Qh(a,b),a.reload().then((function(){return a}))}function nl(a,b,t,n,r){if(!$r())return Fe(new R("operation-not-supported-in-this-environment"));if(a.i&&!r)return Fe(a.i);var o=uo(t.providerId),g=Jr(a.uid+":::"),c=null;(!Kr()||Ar())&&a.s&&t.isOAuthProvider&&(c=Nu(a.s,a.l,a.m,b,t,null,g,e.a.SDK_VERSION||null,null,null,a.tenantId,a.u));var h=kr(c,o&&o.va,o&&o.ua);return n=n().then((function(){if(il(a),!r)return a.I().then((function(){}))})).then((function(){return Yc(a.b,h,b,t,g,!!c,a.tenantId)})).then((function(){return new Ne((function(p,t){a.na(b,null,new R("cancelled-popup-request"),a.g||null),a.f=p,a.C=t,a.g=g,a.c=Qc(a.b,a,b,h,g)}))})).then((function(p){return h&&Er(h),p?hi(p):null})).o((function(p){throw h&&Er(h),p})),al(a,n,r)}function rl(a,b,t,e,n){if(!$r())return Fe(new R("operation-not-supported-in-this-environment"));if(a.i&&!n)return Fe(a.i);var r=null,g=Jr(a.uid+":::");return e=e().then((function(){if(il(a),!n)return a.I().then((function(){}))})).then((function(){return a.ga=g,Vh(a)})).then((function(t){return a.ha&&(t=(t=a.ha).b.set(hl,a.w(),t.a)),t})).then((function(){return Jc(a.b,b,t,g,a.tenantId)})).o((function(t){if(r=t,a.ha)return ll(a.ha);throw r})).then((function(){if(r)throw r})),al(a,e,n)}function il(a){if(!a.b||!a.P){if(a.b&&!a.P)throw new R("internal-error");throw new R("auth-domain-config-required")}}function al(a,b,t){var e=function(a,b,t){return a.i&&!t?(b.cancel(),Fe(a.i)):b.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(a.i||a.dispatchEvent(new bh("userInvalidated")),a.i=t),t}))}(a,b,t);return a.N.push(e),e.oa((function(){nt(a.N,e)})),e.o((function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=gh(t.w(),Mh(a),q(a.jc,a))),e||t}))}function sl(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName,emulatorConfig:a.emulatorConfig},t={};if(!a.stsTokenManager||!a.stsTokenManager.accessToken)return null;t[hs]=a.stsTokenManager.accessToken,t.refreshToken=a.stsTokenManager.refreshToken||null;var e=a.stsTokenManager.expirationTime;e&&(t.expiresIn=(e-Date.now())/1e3);var n=new Ph(b,t,a);return a.providerData&&J(a.providerData,(function(t){t&&Kh(n,hi(t))})),a.redirectEventId&&(n.ga=a.redirectEventId),n}function cl(a){this.a=a,this.b=pc()}fh.prototype.Rc=function(a){var b=this;return a.tb(this.a.a,this.c).then((function(t){var e=Tt(b.f);return delete e[ph],delete e[dh],Et(e,t),b.g(e)}))},P(vh,R),mh.prototype.tb=function(a,b,t){return b.type==wo?function(a,b,t,e){return t.Ha().then((function(t){return t={idToken:t},void 0!==e&&(t.displayName=e),Et(t,{phoneVerificationInfo:Yo(a.a)}),vu(b,$s,t)}))}(this,a,b,t):function(a,b,t){return t.Ha().then((function(t){return Et(t={mfaPendingCredential:t},{phoneVerificationInfo:Yo(a.a)}),vu(b,Hs,t)}))}(this,a,b)},P(yh,mh),P(_h,yh),P(bh,sn),(n=wh.prototype).yc=function(a){Ch(this,function(a){var b=[];return J(a.mfaInfo||[],(function(t){(t=di(t))&&b.push(t)})),b}(a.hd))},n.Sb=function(){return this.a.I().then((function(a){return new bo(a,null)}))},n.fc=function(a,b){var t=this,e=this.a.a;return this.Sb().then((function(t){return a.tb(e,t,b)})).then((function(e){return Qh(t.a,e),t.a.reload()}))},n.bd=function(a){var b=this,t="string"==typeof a?a:a.uid,e=this.a.a;return this.a.I().then((function(n){return vu(e,du,{idToken:n,mfaEnrollmentId:t})})).then((function(e){var n=Q(b.b,(function(g){return g.uid!=t}));return Ch(b,n),Qh(b.a,e),b.a.reload().o((function(g){if("auth/user-token-expired"!=g.code)throw g}))}))},n.w=function(){return{multiFactor:{enrolledFactors:Z(this.b,(function(a){return a.w()}))}}},Ih.prototype.start=function(){this.a=this.c,Th(this,!0)},Ih.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Oh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Oh.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?Fe(new R("user-token-expired")):a||!this.b||Date.now()>this.c-3e4?this.a?Sh(this,{grant_type:"refresh_token",refresh_token:this.a}):Me(null):Me({accessToken:this.b.toString(),refreshToken:this.a})},xh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},P(Ph,Nn),Ph.prototype.xa=function(a){this.za=a,vs(this.a,a)},Ph.prototype.la=function(){return this.za},Ph.prototype.Ga=function(){return at(this.aa)},Ph.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ui(Ph.prototype,"providerId","firebase"),(n=Ph.prototype).reload=function(){var a=this;return al(this,Hh(this).then((function(){return Jh(a).then((function(){return Vh(a)})).then($h)})))},n.oc=function(a){return this.I(a).then((function(b){return new lh(b)}))},n.I=function(a){var b=this;return al(this,Hh(this).then((function(){return b.h.getToken(a)})).then((function(t){if(!t)throw new R("internal-error");return t.accessToken!=b.Aa&&(qh(b,t.accessToken),b.dispatchEvent(new bh("tokenChanged"))),Yh(b,"refreshToken",t.refreshToken),t.accessToken})))},n.Kc=function(a){if(!(a=a.users)||!a.length)throw new R("internal-error");Wh(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?Z(a,(function(b){return new Nh(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)})):[]}(a),t=0;t<b.length;t++)Kh(this,b[t]);Yh(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new bh("userReloaded",{hd:a}))},n.Lc=function(a){return ai("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(a)},n.ub=function(a){var b=this,t=null;return al(this,a.c(this.a,this.uid).then((function(e){return Qh(b,e),t=tl(b,e,"reauthenticate"),b.i=null,b.reload()})).then((function(){return t})),!0)},n.Cc=function(a){return ai("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(a)},n.rb=function(a){var b=this,t=null;return al(this,Zh(this,a.providerId).then((function(){return b.I()})).then((function(t){return a.b(b.a,t)})).then((function(e){return t=tl(b,e,"link"),el(b,e)})).then((function(){return t})))},n.Dc=function(a,b){var t=this;return al(this,Zh(this,"phone").then((function(){return hh(Mh(t),a,b,q(t.rb,t))})))},n.Mc=function(a,b){var t=this;return al(this,Me().then((function(){return hh(Mh(t),a,b,q(t.ub,t))})),!0)},n.Cb=function(a){var b=this;return al(this,this.I().then((function(t){return b.a.Cb(t,a)})).then((function(t){return Qh(b,t),b.reload()})))},n.ed=function(a){var b=this;return al(this,this.I().then((function(t){return a.b(b.a,t)})).then((function(t){return Qh(b,t),b.reload()})))},n.Db=function(a){var b=this;return al(this,this.I().then((function(t){return b.a.Db(t,a)})).then((function(t){return Qh(b,t),b.reload()})))},n.Eb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Hh(this);var b=this;return al(this,this.I().then((function(t){return b.a.Eb(t,{displayName:a.displayName,photoUrl:a.photoURL})})).then((function(t){return Qh(b,t),Yh(b,"displayName",t.displayName||null),Yh(b,"photoURL",t.photoUrl||null),J(b.providerData,(function(t){"password"===t.providerId&&(ui(t,"displayName",b.displayName),ui(t,"photoURL",b.photoURL))})),Vh(b)})).then($h))},n.cd=function(a){var b=this;return al(this,Jh(this).then((function(t){return et(zh(b),a)?function(a,b,t){return vu(a,Vs,{idToken:b,deleteProvider:t})}(b.a,t,[a]).then((function(t){var e={};return J(t.providerUserInfo||[],(function(t){e[t.providerId]=!0})),J(zh(b),(function(t){e[t]||Gh(b,t)})),e[Xo.PROVIDER_ID]||ui(b,"phoneNumber",null),Vh(b)})):Vh(b).then((function(){throw new R("no-such-provider")}))})))},n.delete=function(){var a=this;return al(this,this.I().then((function(b){return vu(a.a,qs,{idToken:b})})).then((function(){a.dispatchEvent(new bh("userDeleted"))}))).then((function(){for(var b=0;b<a.N.length;b++)a.N[b].cancel("app-deleted");Rh(a,null),jh(a,null),Lh(a,null),a.N=[],a.J=!0,Uh(a),ui(a,"refreshToken",null),a.b&&zc(a.b,a)}))},n.Gb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.ga||null)==b||"reauthViaRedirect"==a&&(this.ga||null)==b)},n.na=function(a,b,t,e){"linkViaPopup"!=a&&"reauthViaPopup"!=a||e!=(this.g||null)||(t&&this.C?this.C(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?q(this.Lb,this):"reauthViaPopup"==a&&b==(this.g||null)?q(this.Mb,this):"linkViaRedirect"==a&&(this.ga||null)==b?q(this.Lb,this):"reauthViaRedirect"==a&&(this.ga||null)==b?q(this.Mb,this):null},n.Ec=function(a){var b=this;return nl(this,"linkViaPopup",a,(function(){return Zh(b,a.providerId).then((function(){return Vh(b)}))}),!1)},n.Nc=function(a){return nl(this,"reauthViaPopup",a,(function(){return Me()}),!0)},n.Fc=function(a){var b=this;return rl(this,"linkViaRedirect",a,(function(){return Zh(b,a.providerId)}),!1)},n.Oc=function(a){return rl(this,"reauthViaRedirect",a,(function(){return Me()}),!0)},n.Lb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return al(this,this.I().then((function(g){return Rs(n.a,{requestUri:a,postBody:e,sessionId:b,idToken:g})})).then((function(g){return r=tl(n,g,"link"),el(n,g)})).then((function(){return r})))},n.Mb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return al(this,Me().then((function(){return To(js(n.a,{requestUri:a,sessionId:b,postBody:e,tenantId:t}),n.uid)})).then((function(t){return r=tl(n,t,"reauthenticate"),Qh(n,t),n.i=null,n.reload()})).then((function(){return r})),!0)},n.vb=function(a){var b=this,t=null;return al(this,this.I().then((function(e){return t=e,void 0===a||It(a)?{}:Zi(new Wi(a))})).then((function(e){return b.a.vb(t,e)})).then((function(t){if(b.email!=t)return b.reload()})).then((function(){})))},n.Fb=function(a,b){var t=this,e=null;return al(this,this.I().then((function(t){return e=t,void 0===b||It(b)?{}:Zi(new Wi(b))})).then((function(n){return t.a.Fb(e,a,n)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.jc=function(a){var b=null,t=this;return al(this,a=To(Me(a),t.uid).then((function(e){return b=tl(t,e,"reauthenticate"),Qh(t,e),t.i=null,t.reload()})).then((function(){return b})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Et(a,this.metadata.w()),J(this.providerData,(function(b){a.providerData.push(function(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&(b[t]=a[t]);return b}(b))})),Et(a,this.S.w()),a};var hl={name:"redirectUser",F:"session"};function ll(a){return gc(a.b,hl,a.a)}function fl(a){this.a=a,this.b=pc(),this.c=null,this.f=function(a){var b=gl("local"),t=gl("session"),e=gl("none");return function(a,b,t){var e=vc(b,t),n=dc(a,b.F);return a.get(b,t).then((function(r){var g=null;try{g=Xr(f.localStorage.getItem(e))}catch(t){}if(g&&!r)return f.localStorage.removeItem(e),a.set(b,g,t);g&&r&&"localStorage"!=n.type&&f.localStorage.removeItem(e)}))}(a.b,b,a.a).then((function(){return a.b.get(t,a.a)})).then((function(n){return n?t:a.b.get(e,a.a).then((function(t){return t?e:a.b.get(b,a.a).then((function(g){return g?b:a.b.get(vl,a.a).then((function(t){return t?gl(t):b}))}))}))})).then((function(t){return a.c=t,pl(a,t.F)})).o((function(){a.c||(a.c=b)}))}(this),this.b.addListener(gl("local"),this.a,q(this.g,this))}function pl(a,b){var t,e=[];for(t in lc)lc[t]!==b&&e.push(gc(a.b,gl(lc[t]),a.a));return e.push(gc(a.b,vl,a.a)),function(a){return new Ne((function(b,t){var e=a.length,n=[];if(e)for(var r=function(p,t){e--,n[p]=t,0==e&&b(n)},g=function(p){t(p)},o=0;o<a.length;o++)Ue(a[o],x(r,o),g);else b(n)}))}(e)}fl.prototype.g=function(){var a=this,b=gl("local");bl(this,(function(){return Me().then((function(){return a.c&&"local"!=a.c.F?a.b.get(b,a.a):null})).then((function(t){if(t)return pl(a,"local").then((function(){a.c=b}))}))}))};var vl={name:"persistence",F:"session"};function gl(a){return{name:"authUser",F:a}}function ml(a,b){return bl(a,(function(){return a.b.set(a.c,b.w(),a.a)}))}function yl(a){return bl(a,(function(){return gc(a.b,a.c,a.a)}))}function _l(a,b,t){return bl(a,(function(){return a.b.get(a.c,a.a).then((function(e){return e&&b&&(e.authDomain=b),e&&t&&(e.emulatorConfig=t),sl(e||{})}))}))}function bl(a,b){return a.f=a.f.then(b,b),a.f}function wl(a){if(this.l=!1,ui(this,"settings",new em),ui(this,"app",a),!Nl(this).options||!Nl(this).options.apiKey)throw new R("invalid-api-key");a=e.a.SDK_VERSION?qr(e.a.SDK_VERSION):null,this.a=new us(Nl(this).options&&Nl(this).options.apiKey,U(D),a),this.P=[],this.s=[],this.N=[],this.Pa=e.a.INTERNAL.createSubscribe(q(this.zc,this)),this.W=void 0,this.ib=e.a.INTERNAL.createSubscribe(q(this.Ac,this)),Sl(this,null),this.i=new fl(Nl(this).options.apiKey+":"+Nl(this).name),this.D=new cl(Nl(this).options.apiKey+":"+Nl(this).name),this.$=jl(this,function(a){var b=Nl(a).options.authDomain,t=function(a){var b=function(a,b){return a.b.get(hl,a.a).then((function(t){return t&&b&&(t.authDomain=b),sl(t||{})}))}(a.D,Nl(a).options.authDomain).then((function(t){return(a.m=t)&&(t.ha=a.D),ll(a.D)}));return jl(a,b)}(a).then((function(){return _l(a.i,b,a.R)})).then((function(t){return t?(t.ha=a.D,a.m&&(a.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return ml(a.i,t).then((function(){return t}))})).o((function(e){return"auth/network-request-failed"==e.code?t:yl(a.i)}))):null})).then((function(t){Sl(a,t||null)}));return jl(a,t)}(this)),this.h=jl(this,function(a){return a.$.then((function(){return El(a)})).o((function(){})).then((function(){if(!a.l)return a.ja()})).o((function(){})).then((function(){if(!a.l){a.ba=!0;var b=a.i;b.b.addListener(gl("local"),b.a,a.ja)}}))}(this)),this.ba=!1,this.ja=q(this.Zc,this),this.Ba=q(this.da,this),this.qa=q(this.mc,this),this.za=q(this.wc,this),this.Aa=q(this.xc,this),this.b=null,function(a){var b=Nl(a).options.authDomain,t=Nl(a).options.apiKey;b&&$r()&&(a.Oa=a.$.then((function(){if(!a.l){if(a.b=nh(b,t,Nl(a).name,a.R),Hc(a.b,a),Pl(a)&&Bh(Pl(a)),a.m){Bh(a.m);var e=a.m;e.xa(a.la()),Rh(e,a),Dh(e=a.m,a.J),Lh(e,a),Ah(e=a.m,a.R),jh(e,a),a.m=null}return a.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=q(this.delete,this),this.INTERNAL.logFramework=q(this.Gc,this),this.u=0,Nn.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.la()},set:function(b){this.xa(b)},enumerable:!1}),a.aa=null,Object.defineProperty(a,"ti",{get:function(){return this.T()},set:function(b){this.zb(b)},enumerable:!1}),a.S=null,Object.defineProperty(a,"emulatorConfig",{get:function(){if(this.R){var b=Gn(this.R.url);b=hi({protocol:b.c,host:b.a,port:b.g,options:hi({disableWarnings:this.R.ec})})}else b=null;return b},enumerable:!1})}(this),this.J=[],this.R=null}function Cl(a){sn.call(this,"languageCodeChanged"),this.h=a}function Il(a){sn.call(this,"emulatorConfigChanged"),this.c=a}function Tl(a){sn.call(this,"frameworkChanged"),this.f=a}function Ol(a){return a.Oa||Fe(new R("auth-domain-config-required"))}function El(a){if(!$r())return Fe(new R("operation-not-supported-in-this-environment"));var b=Ol(a).then((function(){return a.b.ra()})).then((function(t){return t?hi(t):null}));return jl(a,b)}function kl(a,b){var t={};return t.apiKey=Nl(a).options.apiKey,t.authDomain=Nl(a).options.authDomain,t.appName=Nl(a).name,a.R&&(t.emulatorConfig=a.R),a.$.then((function(){return function(a,b,t,e){var n=new Ph(a,b);return t&&(n.ha=t),e&&Dh(n,e),n.reload().then((function(){return n}))}(t,b,a.D,a.Ga())})).then((function(t){return Pl(a)&&t.uid==Pl(a).uid?(Xh(Pl(a),t),a.da(t)):(Sl(a,t),Bh(t),a.da(t))})).then((function(){Rl(a)}))}function Sl(a,b){Pl(a)&&(function(a,b){it(a.W,(function(t){return t==b}))}(Pl(a),a.Ba),wn(Pl(a),"tokenChanged",a.qa),wn(Pl(a),"userDeleted",a.za),wn(Pl(a),"userInvalidated",a.Aa),Uh(Pl(a))),b&&(b.W.push(a.Ba),yn(b,"tokenChanged",a.qa),yn(b,"userDeleted",a.za),yn(b,"userInvalidated",a.Aa),0<a.u&&Fh(b)),ui(a,"currentUser",b),b&&(b.xa(a.la()),Rh(b,a),Dh(b,a.J),Lh(b,a),Ah(b,a.R),jh(b,a))}function xl(a,b){var t=null,e=null;return jl(a,b.then((function(n){return t=Qo(n),e=co(n),kl(a,n)}),(function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=gh(t.w(),a,q(a.kc,a))),e||t})).then((function(){return hi({user:Pl(a),credential:t,additionalUserInfo:e,operationType:"signIn"})})))}function Nl(a){return a.app}function Pl(a){return a.currentUser}function Al(a){return Pl(a)&&Pl(a)._lat||null}function Rl(a){if(a.ba){for(var b=0;b<a.s.length;b++)a.s[b]&&a.s[b](Al(a));if(a.W!==a.getUid()&&a.N.length)for(a.W=a.getUid(),b=0;b<a.N.length;b++)a.N[b]&&a.N[b](Al(a))}}function jl(a,b){return a.P.push(b),b.oa((function(){nt(a.P,b)})),b}function Dl(){}function Ll(){this.a={},this.b=1e12}fl.prototype.yb=function(a){var b=null,t=this;return function(a){var b=new R("invalid-persistence-type"),t=new R("unsupported-persistence-type");t:{for(e in lc)if(lc[e]==a){var e=!0;break t}e=!1}if(!e||"string"!=typeof a)throw b;switch(jr()){case"ReactNative":if("session"===a)throw t;break;case"Node":if("none"!==a)throw t;break;case"Worker":if("session"===a||!$u()&&"none"!==a)throw t;break;default:if(!Wr()&&"none"!==a)throw t}}(a),bl(this,(function(){return a!=t.c.F?t.b.get(t.c,t.a).then((function(e){return b=e,pl(t,a)})).then((function(){if(t.c=gl(a),b)return t.b.set(t.c,b,t.a)})):Me()}))},P(wl,Nn),P(Cl,sn),P(Il,sn),P(Tl,sn),(n=wl.prototype).yb=function(a){return jl(this,a=this.i.yb(a))},n.xa=function(a){this.aa===a||this.l||(this.aa=a,vs(this.a,this.aa),this.dispatchEvent(new Cl(this.la())))},n.la=function(){return this.aa},n.fd=function(){var a=f.navigator;this.xa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},n.gd=function(a,b){if(!this.R){if(!/^https?:\/\//.test(a))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(a){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!a&&Nr().then((function(){var b=f.document.createElement("div");b.innerText="Running in emulator mode. Do not use with production credentials.",b.style.position="fixed",b.style.width="100%",b.style.backgroundColor="#ffffff",b.style.border=".1em solid #000000",b.style.color="#b50000",b.style.bottom="0px",b.style.left="0px",b.style.margin="0px",b.style.zIndex=1e4,b.style.textAlign="center",b.classList.add("firebase-emulator-warning"),f.document.body.appendChild(b)}))})(b=!!b&&!!b.disableWarnings),this.R={url:a,ec:b},this.settings.jb=!0,gs(this.a,this.R),this.dispatchEvent(new Il(this.R))}},n.Gc=function(a){this.J.push(a),ys(this.a,e.a.SDK_VERSION?qr(e.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Tl(this.J))},n.Ga=function(){return at(this.J)},n.zb=function(a){this.S===a||this.l||(this.S=a,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:Nl(this).options.apiKey,authDomain:Nl(this).options.authDomain,appName:Nl(this).name,currentUser:Pl(this)&&Pl(this).w()}},n.Gb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},n.na=function(a,b,t,e){"signInViaPopup"==a&&this.g==e&&(t&&this.C?this.C(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?q(this.ic,this):null},n.ic=function(a,b,t,e){var n=this,r={requestUri:a,postBody:e,sessionId:b,tenantId:t};return this.c&&(this.c.cancel(),this.c=null),n.$.then((function(){return xl(n,As(n.a,r))}))},n.Xc=function(a){if(!$r())return Fe(new R("operation-not-supported-in-this-environment"));var b=this,t=uo(a.providerId),n=Jr(),r=null;(!Kr()||Ar())&&Nl(this).options.authDomain&&a.isOAuthProvider&&(r=Nu(Nl(this).options.authDomain,Nl(this).options.apiKey,Nl(this).name,"signInViaPopup",a,null,n,e.a.SDK_VERSION||null,null,null,this.T(),this.R));var o=kr(r,t&&t.va,t&&t.ua);return jl(this,t=Ol(this).then((function(g){return Yc(g,o,"signInViaPopup",a,n,!!r,b.T())})).then((function(){return new Ne((function(g,t){b.na("signInViaPopup",null,new R("cancelled-popup-request"),b.g),b.f=g,b.C=t,b.g=n,b.c=Qc(b.b,b,"signInViaPopup",o,n)}))})).then((function(g){return o&&Er(o),g?hi(g):null})).o((function(g){throw o&&Er(o),g})))},n.Yc=function(a){if(!$r())return Fe(new R("operation-not-supported-in-this-environment"));var b=this;return jl(this,Ol(this).then((function(){return function(a){return bl(a,(function(){return a.b.set(vl,a.c.F,a.a)}))}(b.i)})).then((function(){return Jc(b.b,"signInViaRedirect",a,void 0,b.T())})))},n.ra=function(){var a=this;return El(this).then((function(b){return a.b&&oh(a.b.b),b})).o((function(b){throw a.b&&oh(a.b.b),b}))},n.dd=function(a){if(!a)return Fe(new R("null-user"));if(this.S!=a.tenantId)return Fe(new R("tenant-id-mismatch"));var b=this,t={};t.apiKey=Nl(this).options.apiKey,t.authDomain=Nl(this).options.authDomain,t.appName=Nl(this).name;var e=function(a,b,t,e){var n=a.h,r={};return r[hs]=n.b&&n.b.toString(),r.refreshToken=n.a,b=new Ph(b||{apiKey:a.l,authDomain:a.s,appName:a.m},r),t&&(b.ha=t),e&&Dh(b,e),Xh(b,a),b}(a,t,b.D,b.Ga());return jl(this,this.h.then((function(){if(Nl(b).options.apiKey!=a.l)return e.reload()})).then((function(){return Pl(b)&&a.uid==Pl(b).uid?(Xh(Pl(b),a),b.da(a)):(Sl(b,e),Bh(e),b.da(e))})).then((function(){Rl(b)})))},n.Bb=function(){var a=this;return jl(this,this.h.then((function(){return a.b&&oh(a.b.b),Pl(a)?(Sl(a,null),yl(a.i).then((function(){Rl(a)}))):Me()})))},n.Zc=function(){var a=this;return _l(this.i,Nl(this).options.authDomain).then((function(b){if(!a.l){var t;if(t=Pl(a)&&b){t=Pl(a).uid;var e=b.uid;t=null!=t&&""!==t&&null!=e&&""!==e&&t==e}if(t)return Xh(Pl(a),b),Pl(a).I();(Pl(a)||b)&&(Sl(a,b),b&&(Bh(b),b.ha=a.D),a.b&&Hc(a.b,a),Rl(a))}}))},n.da=function(a){return ml(this.i,a)},n.mc=function(){Rl(this),this.da(Pl(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(a){var b=this;return this.h.then((function(){return xl(b,Me(a))}))},n.zc=function(a){var b=this;this.addAuthTokenListener((function(){a.next(Pl(b))}))},n.Ac=function(a){var b=this;!function(a,b){a.N.push(b),jl(a,a.h.then((function(){!a.l&&et(a.N,b)&&a.W!==a.getUid()&&(a.W=a.getUid(),b(Al(a)))})))}(this,(function(){a.next(Pl(b))}))},n.Ic=function(a,b,t){var e=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof a?a(Pl(e)):"function"==typeof a.next&&a.next(Pl(e))})),this.Pa(a,b,t)},n.Hc=function(a,b,t){var e=this;return this.ba&&Promise.resolve().then((function(){e.W=e.getUid(),"function"==typeof a?a(Pl(e)):"function"==typeof a.next&&a.next(Pl(e))})),this.ib(a,b,t)},n.nc=function(a){var b=this;return jl(this,this.h.then((function(){return Pl(b)?Pl(b).I(a).then((function(t){return{accessToken:t}})):null})))},n.Tc=function(a){var b=this;return this.h.then((function(){return xl(b,vu(b.a,cu,{token:a}))})).then((function(t){var e=t.user;return Yh(e,"isAnonymous",!1),b.da(e),t}))},n.Uc=function(a,b){var t=this;return this.h.then((function(){return xl(t,vu(t.a,hu,{email:a,password:b}))}))},n.dc=function(a,b){var t=this;return this.h.then((function(){return xl(t,vu(t.a,Fs,{email:a,password:b}))}))},n.ab=function(a){var b=this;return this.h.then((function(){return xl(b,a.ka(b.a))}))},n.Sc=function(a){return ai("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(a)},n.Ab=function(){var a=this;return this.h.then((function(){var b=Pl(a);if(b&&b.isAnonymous){var t=hi({providerId:null,isNewUser:!1});return hi({user:b,credential:null,additionalUserInfo:t,operationType:"signIn"})}return xl(a,a.a.Ab()).then((function(t){var e=t.user;return Yh(e,"isAnonymous",!0),a.da(e),t}))}))},n.getUid=function(){return Pl(this)&&Pl(this).uid||null},n.cc=function(a){this.addAuthTokenListener(a),this.u++,0<this.u&&Pl(this)&&Fh(Pl(this))},n.Pc=function(a){var b=this;J(this.s,(function(t){t==a&&b.u--})),0>this.u&&(this.u=0),0==this.u&&Pl(this)&&Uh(Pl(this)),this.removeAuthTokenListener(a)},n.addAuthTokenListener=function(a){var b=this;this.s.push(a),jl(this,this.h.then((function(){b.l||et(b.s,a)&&a(Al(b))})))},n.removeAuthTokenListener=function(a){it(this.s,(function(b){return b==a}))},n.delete=function(){this.l=!0;for(var a=0;a<this.P.length;a++)this.P[a].cancel("app-deleted");return this.P=[],this.i&&(a=this.i).b.removeListener(gl("local"),a.a,this.ja),this.b&&(zc(this.b,this),oh(this.b.b)),Promise.resolve()},n.hc=function(a){return jl(this,function(a,b){return vu(a,Us,{identifier:b,continueUri:Hr()?Cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,a))},n.Bc=function(a){return!!zo(a)},n.xb=function(a,b){var t=this;return jl(this,Me().then((function(){var t=new Wi(b);if(!t.c)throw new R("argument-error",zi+" must be true when sending sign in link to email");return Zi(t)})).then((function(e){return t.a.xb(a,e)})).then((function(){})))},n.jd=function(a){return this.Sa(a).then((function(b){return b.data.email}))},n.ob=function(a,b){return jl(this,this.a.ob(a,b).then((function(){})))},n.Sa=function(a){return jl(this,this.a.Sa(a).then((function(b){return new bi(b)})))},n.kb=function(a){return jl(this,this.a.kb(a).then((function(){})))},n.wb=function(a,b){var t=this;return jl(this,Me().then((function(){return void 0===b||It(b)?{}:Zi(new Wi(b))})).then((function(e){return t.a.wb(a,e)})).then((function(){})))},n.Wc=function(a,b){return jl(this,hh(this,a,b,q(this.ab,this)))},n.Vc=function(a,b){var t=this;return jl(this,Me().then((function(){var e=b||Cr(),n=Ho(a,e);if(!(e=zo(e)))throw new R("argument-error","Invalid email link!");if(e.tenantId!==t.T())throw new R("tenant-id-mismatch");return t.ab(n)})))},Dl.prototype.render=function(){},Dl.prototype.reset=function(){},Dl.prototype.getResponse=function(){},Dl.prototype.execute=function(){};var Ml=null;function Fl(a,b){return(b=Ul(b))&&a.a[b]||null}function Ul(a){return(a=void 0===a?1e12:a)?a.toString():null}function ql(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ye(a);var t=this;this.i=function(){t.execute()},this.h?this.execute():yn(this.f,"click",this.i)}function Vl(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function Bl(){}function Wl(){}Ll.prototype.render=function(a,b){return this.a[this.b.toString()]=new ql(a,b),this.b++},Ll.prototype.reset=function(a){var b=Fl(this,a);a=Ul(a),b&&a&&(b.delete(),delete this.a[a])},Ll.prototype.getResponse=function(a){return(a=Fl(this,a))?a.getResponse():null},Ll.prototype.execute=function(a){(a=Fl(this,a))&&a.execute()},ql.prototype.getResponse=function(){return Vl(this),this.b},ql.prototype.execute=function(){Vl(this);var a=this;this.a||(this.a=setTimeout((function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,t=a.c["expired-callback"];if(b)try{b(a.b)}catch(t){}a.a=setTimeout((function(){if(a.a=null,a.b=null,t)try{t()}catch(t){}a.h&&a.execute()}),6e4)}),500))},ql.prototype.delete=function(){Vl(this),this.g=!0,clearTimeout(this.a),this.a=null,wn(this.f,"click",this.i)},ui(Bl,"FACTOR_ID","phone"),Wl.prototype.g=function(){return Ml||(Ml=new Ll),Me(Ml)},Wl.prototype.c=function(){};var $l=null;function Hl(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zl=new St(At,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Kl=new ti(3e4,6e4);Hl.prototype.g=function(a){var b=this;return new Ne((function(t,e){var n=setTimeout((function(){e(new R("network-request-failed"))}),Kl.get());!f.grecaptcha||a!==b.f&&!b.b?(f[b.a]=function(){if(f.grecaptcha){b.f=a;var g=f.grecaptcha.render;f.grecaptcha.render=function(t,e){return t=g(t,e),b.b++,t},clearTimeout(n),t(f.grecaptcha)}else clearTimeout(n),e(new R("internal-error"));delete f[b.a]},Me(es(Lt(zl,{onload:b.a,hl:a||""}))).o((function(){clearTimeout(n),e(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(n),t(f.grecaptcha))}))},Hl.prototype.c=function(){this.b--};var Gl=null;function Yl(a,b,t,e,n,r,g){if(ui(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=b,this.g=null,g?($l||($l=new Wl),g=$l):(Gl||(Gl=new Hl),g=Gl),this.m=g,this.a=t||{theme:"light",type:"image"},this.h=[],this.a[Ql])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Zl],!f.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ye(b)||!this.i&&ye(b).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new us(a,r||null,n||null),this.u=e||function(){return null};var o=this;this.l=[];var c=this.a[Xl];this.a[Xl]=function(t){if(tf(o,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Br(c,f);"function"==typeof e&&e(t)}};var p=this.a[Jl];this.a[Jl]=function(){if(tf(o,null),"function"==typeof p)p();else if("string"==typeof p){var t=Br(p,f);"function"==typeof t&&t()}}}var Xl="callback",Jl="expired-callback",Ql="sitekey",Zl="size";function tf(a,b){for(var t=0;t<a.l.length;t++)try{a.l[t](b)}catch(t){}}function ef(a,b){return a.h.push(b),b.oa((function(){nt(a.h,b)})),b}function nf(a){if(a.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}function rf(a,b,t){var n=!1;try{this.b=t||e.a.app()}catch(t){throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new R("invalid-api-key");t=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{n=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=e.a.SDK_VERSION?qr(e.a.SDK_VERSION,o):null,Yl.call(this,t,a,b,(function(){try{var g=r.b.auth().la()}catch(t){g=null}return g}),o,U(D),n)}function of(a,b,t,e){t:{t=Array.prototype.slice.call(t);for(var n=0,r=!1,g=0;g<b.length;g++)if(b[g].optional)r=!0;else{if(r)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,t.length<n||r<t.length)e="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(r=b[n].optional&&void 0===t[n],!b[n].M(t[n])&&!r){if(b=b[n],0>n||n>=af.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");t=af[n],e=(e?"":t+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.K+".";break t}e=null}}if(e)throw new R("argument-error",a+" failed: "+e)}(n=Yl.prototype).Ia=function(){var a=this;return this.f?this.f:this.f=ef(this,Me().then((function(){if(Hr()&&!Rr())return Nr();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return a.m.g(a.u())})).then((function(b){return a.g=b,vu(a.s,Qs,{})})).then((function(b){a.a[Ql]=b.recaptchaSiteKey})).o((function(b){throw a.f=null,b})))},n.render=function(){nf(this);var a=this;return ef(this,this.Ia().then((function(){if(null===a.c){var b=a.v;if(!a.i){var t=ye(b);b=function(a,b,t){var e=arguments,n=document,r=String(e[0]),g=e[1];if(!me&&g&&(g.name||g.type)){if(r=["<",r],g.name&&r.push(' name="',Zt(g.name),'"'),g.type){r.push(' type="',Zt(g.type),'"');var o={};Et(o,g),delete o.type,g=o}r.push(">"),r=r.join("")}return r=Te(n,r),g&&("string"==typeof g?r.className=g:Array.isArray(g)?r.className=g.join(" "):_e(r,g)),2<e.length&&Ie(n,r,e),r}("DIV"),t.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c})))},n.verify=function(){nf(this);var a=this;return ef(this,this.render().then((function(b){return new Ne((function(t){var e=a.g.getResponse(b);if(e)t(e);else{var n=function(e){e&&(function(a,b){it(a.l,(function(t){return t==b}))}(a,n),t(e))};a.l.push(n),a.i&&a.g.execute(a.c)}}))})))},n.reset=function(){nf(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){nf(this),this.J=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=ye(this.v);for(var b;b=a.firstChild;)a.removeChild(b)}},P(rf,Yl);var af="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function sf(a,b){return{name:a||"",K:"a valid string",optional:!!b,M:function(t){return"string"==typeof t}}}function uf(a,b){return{name:a||"",K:"a boolean",optional:!!b,M:function(t){return"boolean"==typeof t}}}function cf(a,b){return{name:a||"",K:"a valid object",optional:!!b,M:I}}function hf(a,b){return{name:a||"",K:"a function",optional:!!b,M:function(t){return"function"==typeof t}}}function lf(a,b){return{name:a||"",K:"null",optional:!!b,M:function(t){return null===t}}}function ff(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(b){if(!b)return!1;var t=!a||b.providerId===a;return!(!b.ka||!t)}}}function pf(a,b){return I(a)&&"string"==typeof a.type&&a.type===b&&"function"==typeof a.Ha}function df(a){return I(a)&&"string"==typeof a.uid}function vf(a,b,t,e){return{name:t||"",K:a.K+" or "+b.K,optional:!!e,M:function(t){return a.M(t)||b.M(t)}}}function gf(a,b){for(var t in b){var e=b[t].name;a[e]=_f(e,a[t],b[t].j)}}function mf(a,b){for(var t in b){var e=b[t].name;e!==t&&Object.defineProperty(a,e,{get:x((function(t){return this[t]}),t),set:x((function(t,e,g,n){of(t,[g],[n],!0),this[e]=n}),e,t,b[t].lb),enumerable:!0})}}function yf(a,b,t,e){a[b]=_f(b,t,e)}function _f(a,b,t){function e(){var g=Array.prototype.slice.call(arguments);return of(r,t,g),b.apply(this,g)}if(!t)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)e[n]=b[n];for(n in b.prototype)e.prototype[n]=b.prototype[n];return e}gf(wl.prototype,{kb:{name:"applyActionCode",j:[sf("code")]},Sa:{name:"checkActionCode",j:[sf("code")]},ob:{name:"confirmPasswordReset",j:[sf("code"),sf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[sf("email"),sf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[sf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[sf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[vf(cf(),hf(),"nextOrObserver"),hf("opt_error",!0),hf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[vf(cf(),hf(),"nextOrObserver"),hf("opt_error",!0),hf("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[sf("email"),vf(cf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[sf("email"),cf("actionCodeSettings")]},yb:{name:"setPersistence",j:[sf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ff()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ff()]},Tc:{name:"signInWithCustomToken",j:[sf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[sf("email"),sf("password")]},Vc:{name:"signInWithEmailLink",j:[sf("email"),sf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[sf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[vf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(b){return!!(b&&b instanceof Ph)}},lf(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[sf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[sf("url"),cf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[sf("code")]}}),mf(wl.prototype,{lc:{name:"languageCode",lb:vf(sf(),lf(),"languageCode")},ti:{name:"tenantId",lb:vf(sf(),lf(),"tenantId")}}),wl.Persistence=lc,wl.Persistence.LOCAL="local",wl.Persistence.SESSION="session",wl.Persistence.NONE="none",gf(Ph.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[uf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[uf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ff()]},rb:{name:"linkWithCredential",j:[ff()]},Dc:{name:"linkWithPhoneNumber",j:[sf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ff()]},ub:{name:"reauthenticateWithCredential",j:[ff()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[sf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[vf(cf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[sf(null,!0)]},cd:{name:"unlink",j:[sf("provider")]},Cb:{name:"updateEmail",j:[sf("email")]},Db:{name:"updatePassword",j:[sf("password")]},ed:{name:"updatePhoneNumber",j:[ff("phone")]},Eb:{name:"updateProfile",j:[cf("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[sf("email"),vf(cf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]}}),gf(Ll.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),gf(Dl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),gf(Ne.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),mf(em.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:uf("appVerificationDisabledForTesting")}}),gf(ch.prototype,{confirm:{name:"confirm",j:[sf("verificationCode")]}}),yf(Io,"fromJSON",(function(a){a="string"==typeof a?JSON.parse(a):a;for(var b,t=[No,Wo,Go,ko],e=0;e<t.length;e++)if(b=t[e](a))return b;return null}),[vf(sf(),cf(),"json")]),yf($o,"credential",(function(a,b){return new Bo(a,b)}),[sf("email"),sf("password")]),gf(Bo.prototype,{w:{name:"toJSON",j:[sf(null,!0)]}}),gf(jo.prototype,{Ca:{name:"addScope",j:[sf("scope")]},Ka:{name:"setCustomParameters",j:[cf("customOAuthParameters")]}}),yf(jo,"credential",Do,[vf(sf(),cf(),"token")]),yf($o,"credentialWithLink",Ho,[sf("email"),sf("emailLink")]),gf(Lo.prototype,{Ca:{name:"addScope",j:[sf("scope")]},Ka:{name:"setCustomParameters",j:[cf("customOAuthParameters")]}}),yf(Lo,"credential",Mo,[vf(sf(),cf(),"token")]),gf(Fo.prototype,{Ca:{name:"addScope",j:[sf("scope")]},Ka:{name:"setCustomParameters",j:[cf("customOAuthParameters")]}}),yf(Fo,"credential",Uo,[vf(sf(),vf(cf(),lf()),"idToken"),vf(sf(),lf(),"accessToken",!0)]),gf(qo.prototype,{Ka:{name:"setCustomParameters",j:[cf("customOAuthParameters")]}}),yf(qo,"credential",Vo,[vf(sf(),cf(),"token"),sf("secret",!0)]),gf(Ro.prototype,{Ca:{name:"addScope",j:[sf("scope")]},credential:{name:"credential",j:[vf(sf(),vf(cf(),lf()),"optionsOrIdToken"),vf(sf(),lf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[cf("customOAuthParameters")]}}),gf(So.prototype,{w:{name:"toJSON",j:[sf(null,!0)]}}),gf(Oo.prototype,{w:{name:"toJSON",j:[sf(null,!0)]}}),yf(Xo,"credential",Jo,[sf("verificationId"),sf("verificationCode")]),gf(Xo.prototype,{gb:{name:"verifyPhoneNumber",j:[vf(sf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?pf(t.session,wo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?pf(t.session,Co)&&df(t.multiFactorHint):t.session&&t.multiFactorUid?pf(t.session,Co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]}}),gf(Ko.prototype,{w:{name:"toJSON",j:[sf(null,!0)]}}),gf(R.prototype,{toJSON:{name:"toJSON",j:[sf(null,!0)]}}),gf(oa.prototype,{toJSON:{name:"toJSON",j:[sf(null,!0)]}}),gf(ia.prototype,{toJSON:{name:"toJSON",j:[sf(null,!0)]}}),gf(vh.prototype,{toJSON:{name:"toJSON",j:[sf(null,!0)]}}),gf(fh.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.tb}}]}}),gf(wh.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.tb}},sf("displayName",!0)]},bd:{name:"unenroll",j:[vf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:df},sf(),"multiFactorInfoIdentifier")]}}),gf(rf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),yf(ji,"parseLink",Bi,[sf("link")]),yf(Bl,"assertion",(function(a){return new _h(a)}),[ff("phone")]),function(){if(void 0===e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:wi,VERIFY_AND_CHANGE_EMAIL:Ii,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wl,AuthCredential:Io,Error:R};yf(a,"EmailAuthProvider",$o,[]),yf(a,"FacebookAuthProvider",jo,[]),yf(a,"GithubAuthProvider",Lo,[]),yf(a,"GoogleAuthProvider",Fo,[]),yf(a,"TwitterAuthProvider",qo,[]),yf(a,"OAuthProvider",Ro,[sf("providerId")]),yf(a,"SAMLAuthProvider",Ao,[sf("providerId")]),yf(a,"PhoneAuthProvider",Xo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof wl)}}]),yf(a,"RecaptchaVerifier",rf,[vf(sf(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),cf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof e.a.app.App)}}]),yf(a,"ActionCodeURL",ji,[]),yf(a,"PhoneMultiFactorGenerator",Bl,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(b){return new wl(b=b.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(b){b.getProvider("auth-internal").initialize()}}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(b){return{getUid:q((b=b.getProvider("auth").getImmediate()).getUid,b),getToken:q(b.nc,b),addAuthTokenListener:q(b.cc,b),removeAuthTokenListener:q(b.Pc,b)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.16.8"),e.a.INTERNAL.extendNamespace({User:Ph})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(22))},212:function(t,e,n){"use strict";n(213)},213:function(t,e,n){"use strict";(function(t,e){var r=n(3),o=n(18),c=n(0),h=n(1),l=n(39),f="";function d(t){f=t}var v,m=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(c.D)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(c.x)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),y=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(c.i)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),_=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new m(e)}}catch(t){}return new y},w=_("localStorage"),C=_("sessionStorage"),I=new l.b("@firebase/database"),T=(v=1,function(){return v++}),O=function(t){var e=Object(c.C)(t),n=new c.d;n.update(e);var r=n.digest();return c.g.encodeByteArray(r)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=E.apply(null,r):n+="object"==typeof r?Object(c.D)(r):r,n+=" "}return n},k=null,S=!0,x=function(t,e){Object(c.e)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(I.logLevel=l.a.VERBOSE,k=I.log.bind(I),e&&C.set("logging_enabled",!0)):"function"==typeof t?k=t:(k=null,C.remove("logging_enabled"))},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===S&&(S=!1,null===k&&!0===C.get("logging_enabled")&&x(!0)),k){var n=E.apply(null,t);k(n)}},P=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];N.apply(void 0,Object(h.f)([t],Object(h.e)(e)))}},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+E.apply(void 0,Object(h.f)([],Object(h.e)(t)));I.error(n)},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+E.apply(void 0,Object(h.f)([],Object(h.e)(t)));throw I.error(n),new Error(n)},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+E.apply(void 0,Object(h.f)([],Object(h.e)(t)));I.warn(n)},D=function(data){return"number"==typeof data&&(data!=data||data===Number.POSITIVE_INFINITY||data===Number.NEGATIVE_INFINITY)},L="[MIN_NAME]",M="[MAX_NAME]",F=function(a,b){if(a===b)return 0;if(a===L||b===M)return-1;if(b===L||a===M)return 1;var t=Y(a),e=Y(b);return null!==t?null!==e?t-e==0?a.length-b.length:t-e:-1:null!==e?1:a<b?-1:1},U=function(a,b){return a===b?0:a<b?-1:1},V=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(c.D)(e))},B=function(t){if("object"!=typeof t||null===t)return Object(c.D)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(c.D)(e[i]),r+=":",r+=B(t[e[i]]);return r+="}"},W=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function $(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var H=function(t){Object(c.e)(!D(t),"Invalid JSON number");var s,e,n,r,i,o=1023;0===t?(e=0,n=0,s=1/t==-1/0?1:0):(s=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(e=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),o))+o,n=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(e=0,n=Math.round(t/Math.pow(2,-1074))));var h=[];for(i=52;i;i-=1)h.push(n%2?1:0),n=Math.floor(n/2);for(i=11;i;i-=1)h.push(e%2?1:0),e=Math.floor(e/2);h.push(s?1:0),h.reverse();var l=h.join(""),f="";for(i=0;i<64;i+=8){var d=parseInt(l.substr(i,8),2).toString(16);1===d.length&&(d="0"+d),f+=d}return f.toLowerCase()};var z=new RegExp("^-?(0*)\\d{1,10}$"),K=-2147483648,G=2147483647,Y=function(t){if(z.test(t)){var e=Number(t);if(e>=K&&e<=G)return e}return null},X=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw j("Exception was thrown by user callback.",e),t}),Math.floor(0))}},J=function(t,time){var e=setTimeout(t,time);return"object"==typeof e&&e.unref&&e.unref(),e},Q=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){j('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),Z=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(N("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',j(t)},t}(),tt=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),et="5",nt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,it="websocket",ot="long_polling",at=function(){function t(t,e,n,r,o,c,h){void 0===o&&(o=!1),void 0===c&&(c=""),void 0===h&&(h=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=w.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&w.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function st(t,e,n){var r;if(Object(c.e)("string"==typeof e,"typeof type must == string"),Object(c.e)("object"==typeof n,"typeof params must == object"),e===it)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ot)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return $(n,(function(t,e){o.push(t+"="+e)})),r+o.join("&")}var ut=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(c.i)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(c.l)(this.counters_)},t}(),ct={},ht={};function lt(t){var e=t.toString();return ct[e]||(ct[e]=new ut),ct[e]}var ft=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,data){var e=this;this.pendingResponses[t]=data;for(var n=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var n=function(i){t[i]&&X((function(){e.onMessage_(t[i])}))},i=0;i<t.length;++i)n(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum];){if("break"===n())break}},t}(),pt="start",vt="close",gt=function(){function t(t,e,n,r,o,c,h){var l=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=P(t),this.stats_=lt(e),this.urlFn=function(t){return l.appCheckToken&&(t.ac=l.appCheckToken),st(e,ot,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ft(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(c.u)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new mt((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(h.e)(t,5),o=r[0],c=r[1],l=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===pt)n.id=c,n.password=l;else{if(o!==vt)throw new Error("Unrecognized command received: "+o);c?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(c,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(h.e)(t,2),o=r[0],data=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,data)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=et,n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&nt.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(c.u)()&&(!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(data){var t=Object(c.D)(data);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=Object(c.h)(t),n=W(e,1840),i=0;i<n.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(c.u)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(c.D)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),mt=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(c.u)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=T(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var script="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))script='<script>document.domain="'+document.domain+'";<\/script>';var h="<html><body>"+script+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(t){N("frame writing exception"),t.stack&&N(t.stack),N(t)}}}return t.createIFrame_=function(){var iframe=document.createElement("iframe");if(iframe.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(iframe);try{iframe.contentWindow.document||N("No IE domain setting required")}catch(e){var t=document.domain;iframe.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return iframe.contentDocument?iframe.doc=iframe.contentDocument:iframe.contentWindow?iframe.doc=iframe.contentWindow.document:iframe.document&&(iframe.doc=iframe.document),iframe},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,data){this.pendingSegs.push({seg:t,ts:e,d:data}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(o),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(c.u)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){N("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),yt=null;"undefined"!=typeof MozWebSocket?yt=MozWebSocket:"undefined"!=typeof WebSocket&&(yt=WebSocket);var _t=function(){function e(t,n,r,o,c,h,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=P(this.connId),this.stats_=lt(n),this.connURL=e.connectionURL_(n,h,l,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n,r){var o={};return o.v=et,!Object(c.u)()&&"undefined"!=typeof location&&location.hostname&&nt.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),st(t,it,o)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,w.set("previous_websocket_failure",!0);try{if(Object(c.u)()){var o=this.nodeAdmin?"AdminNode":"Node",h={headers:{"User-Agent":"Firebase/5/"+f+"/"+t.platform+"/"+o,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(h.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);var l=t.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(h.proxy={origin:d}),this.mySock=new yt(this.connURL,[],h)}else{h={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new yt(this.connURL,[],h)}}catch(t){this.log_("Error instantiating WebSocket.");var v=t.message||t.data;return v&&this.log_(v),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==yt&&!e.forceDisallow_},e.previouslyFailed=function(){return w.isInMemoryStorage||!0===w.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){w.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(data){if(this.frames.push(data),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var e=Object(c.x)(t);this.onMessage(e)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(data){if(Object(c.e)(null===this.frames,"We already have a frame buffer"),data.length<=6){var t=Number(data);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),data},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var data=t.data;if(this.bytesReceived+=data.length,this.stats_.incrementCounter("bytes_received",data.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(data);else{var e=this.extractFrameCount_(data);null!==e&&this.appendFrame_(e)}}},e.prototype.send=function(data){this.resetKeepAlive();var t=Object(c.D)(data);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=W(t,16384);e.length>1&&this.sendString_(String(e.length));for(var i=0;i<e.length;i++)this.sendString_(e[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),bt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[gt,_t]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=_t&&_t.isAvailable(),c=o&&!_t.previouslyFailed();if(e.webSocketOnly&&(o||j("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[_t];else{var l=this.transports_=[];try{for(var f=Object(h.g)(t.ALL_TRANSPORTS),d=f.next();!d.done;d=f.next()){var v=d.value;v&&v.isAvailable()&&l.push(v)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),wt=function(){function t(t,e,n,r,o,c,h,l,f,d){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=l,this.onKill_=f,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=P("c:"+this.id+":"),this.transportManager_=new bt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=J((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=V("t",t),data=V("d",t);if("c"===e)this.onSecondaryControl_(data);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(data)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=V("t",t),data=V("d",t);"c"===e?this.onControl_(data):"d"===e&&this.onDataMessage_(data)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=V("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?A("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):A("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),et!==n&&j("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),J((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):J((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(w.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(data){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(data)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ct=function(){function t(){}return t.prototype.put=function(t,data,e,n){},t.prototype.merge=function(t,data,e,n){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,data,e){},t.prototype.onDisconnectMerge=function(t,data,e){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),It=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(c.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(h.f)([],Object(h.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(c.e)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Tt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(c.s)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(h.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(c.e)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(It),Ot=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(t+="/"+this.pieces_[i]);return t||"/"},t}();function Et(){return new Ot("")}function kt(path){return path.pieceNum_>=path.pieces_.length?null:path.pieces_[path.pieceNum_]}function St(path){return path.pieces_.length-path.pieceNum_}function xt(path){var t=path.pieceNum_;return t<path.pieces_.length&&t++,new Ot(path.pieces_,t)}function Nt(path){return path.pieceNum_<path.pieces_.length?path.pieces_[path.pieces_.length-1]:null}function Pt(path,t){return void 0===t&&(t=0),path.pieces_.slice(path.pieceNum_+t)}function At(path){if(path.pieceNum_>=path.pieces_.length)return null;for(var t=[],i=path.pieceNum_;i<path.pieces_.length-1;i++)t.push(path.pieces_[i]);return new Ot(t,0)}function Rt(path,t){for(var e=[],i=path.pieceNum_;i<path.pieces_.length;i++)e.push(path.pieces_[i]);if(t instanceof Ot)for(i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{var n=t.split("/");for(i=0;i<n.length;i++)n[i].length>0&&e.push(n[i])}return new Ot(e,0)}function jt(path){return path.pieceNum_>=path.pieces_.length}function Dt(t,e){var n=kt(t),r=kt(e);if(null===n)return e;if(n===r)return Dt(xt(t),xt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Lt(t,e){for(var n=Pt(t,0),r=Pt(e,0),i=0;i<n.length&&i<r.length;i++){var o=F(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Mt(path,t){if(St(path)!==St(t))return!1;for(var i=path.pieceNum_,e=t.pieceNum_;i<=path.pieces_.length;i++,e++)if(path.pieces_[i]!==t.pieces_[e])return!1;return!0}function Ft(path,t){var i=path.pieceNum_,e=t.pieceNum_;if(St(path)>St(t))return!1;for(;i<path.pieces_.length;){if(path.pieces_[i]!==t.pieces_[e])return!1;++i,++e}return!0}var Ut=function(path,t){this.errorPrefix_=t,this.parts_=Pt(path,0),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=Object(c.B)(this.parts_[i]);qt(this)};function qt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Vt(t))}function Vt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Bt,Wt,$t=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(h.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(c.e)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(It),Ht=1e3,zt=function(t){function e(n,r,o,h,l,f,d,v){var m=t.call(this)||this;if(m.repoInfo_=n,m.applicationId_=r,m.onDataUpdate_=o,m.onConnectStatus_=h,m.onServerInfoUpdate_=l,m.authTokenProvider_=f,m.appCheckTokenProvider_=d,m.authOverride_=v,m.id=e.nextPersistentConnectionId_++,m.log_=P("p:"+m.id+":"),m.interruptReasons_={},m.listens=new Map,m.outstandingPuts_=[],m.outstandingGets_=[],m.outstandingPutCount_=0,m.outstandingGetCount_=0,m.onDisconnectRequestQueue_=[],m.connected_=!1,m.reconnectDelay_=Ht,m.maxReconnectDelay_=3e5,m.securityDebugCallback_=null,m.lastSessionId=null,m.establishConnectionTimer_=null,m.visible_=!1,m.requestCBHash_={},m.requestNumber_=0,m.realtime_=null,m.authToken_=null,m.appCheckToken_=null,m.forceTokenRefresh_=!1,m.invalidAuthTokenCount_=0,m.invalidAppCheckTokenCount_=0,m.firstConnection_=!0,m.lastConnectionAttemptTime_=null,m.lastConnectionEstablishedTime_=null,v&&!Object(c.u)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $t.getInstance().on("visible",m.onVisible_,m),-1===n.host.indexOf("fblocal")&&Tt.getInstance().on("online",m.onOnline_,m),m}return Object(h.c)(e,t),e.prototype.sendRequest=function(t,body,e){var n=++this.requestNumber_,r={r:n,a:t,b:body};this.log_(Object(c.D)(r)),Object(c.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),e&&(this.requestCBHash_[n]=e)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new c.a,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var o=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,o,!1,null),n.resolve(o)):n.reject(o)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var h=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[h];void 0!==t&&o===t&&(delete e.outstandingGets_[h],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+h+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(h),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var o=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+o),this.listens.has(h)||this.listens.set(h,new Map),Object(c.e)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(c.e)(!this.listens.get(h).has(o),"listen() called twice for same path/queryId.");var l={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(h).set(o,l),this.connected_&&this.sendListen_(l)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+o+" for "+c);var h={p:o};t.tag&&(h.q=r._queryObject,h.t=t.tag),h.h=t.hashFn(),this.sendRequest("q",h,(function(h){var l=h.d,f=h.s;e.warnOnListenWarnings_(l,r),(n.listens.get(o)&&n.listens.get(o).get(c))===t&&(n.log_("listen response",h),"ok"!==f&&n.removeListen_(o,c),t.onComplete&&t.onComplete(f,l))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(c.i)(t,"w")){var n=Object(c.A)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();j("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(c.p)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(c.w)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,data=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,data))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,data=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,data)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(c.e)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,data,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,data,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:data,onComplete:e})},e.prototype.onDisconnectMerge=function(t,data,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,data,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:data,onComplete:e})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,data,n){var r={p:e,d:data};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(function(t){n&&setTimeout((function(){n(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,data,e,n){this.putInternal("p",t,data,e,n)},e.prototype.merge=function(t,data,e,n){this.putInternal("m",t,data,e,n)},e.prototype.putInternal=function(t,e,data,n,r){this.initConnection_();var o={p:e,d:data};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:n}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(c.D)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,body){this.log_("handleServerMessage",t,body),"d"===t?this.onDataUpdate_(body.p,body.d,!1,body.t):"m"===t?this.onDataUpdate_(body.p,body.d,!0,body.t):"c"===t?this.onListenRevoked_(body.p,body.q):"ac"===t?this.onAuthRevoked_(body.s,body.d):"apc"===t?this.onAppCheckRevoked_(body.s,body.d):"sd"===t?this.onSecurityDebugPacket_(body):A("Unrecognized action received from server: "+Object(c.D)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(c.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ht,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ht,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ht),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,n,r,o,l,f,d,v,m,y,_,w,C,I,T=this;return Object(h.d)(this,(function(O){switch(O.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,l=this.lastSessionId,f=!1,d=null,v=function(){d?d.close():(f=!0,r())},m=function(t){Object(c.e)(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(t)},this.realtime_={close:v,sendRequest:m},y=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,O.label=1;case 1:return O.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)])];case 2:return _=h.e.apply(void 0,[O.sent(),2]),w=_[0],C=_[1],f?N("getToken() completed but was canceled"):(N("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=C&&C.token,d=new wt(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){j(t+" ("+T.repoInfo_.toString()+")"),T.interrupt("server_kill")}),l)),[3,4];case 3:return I=O.sent(),this.log_("Failed to get token: "+I),f||(this.repoInfo_.nodeAdmin&&j(I),v()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){N("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){N("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(c.r)(this.interruptReasons_)&&(this.reconnectDelay_=Ht,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var i=0;i<this.outstandingPuts_.length;i++){var t=this.outstandingPuts_[i];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(q){return B(q)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Ot(t).toString();if(this.listens.has(r)){var map=this.listens.get(r);n=map.get(e),map.delete(e),0===map.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){N("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){N("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(body){this.securityDebugCallback_?this.securityDebugCallback_(body):"msg"in body&&console.log("FIREBASE: "+body.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var o=Object(h.g)(this.listens.values()),c=o.next();!c.done;c=o.next()){var l=c.value;try{for(var f=(n=void 0,Object(h.g)(l.values())),d=f.next();!d.done;d=f.next()){var v=d.value;this.sendListen_(v)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){var m=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(m.action,m.pathString,m.data,m.onComplete)}for(i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(c.u)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+f.replace(/\./g,"-")]=1,Object(c.s)()?t["framework.cordova"]=1:Object(c.v)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Tt.getInstance().currentlyOnline();return Object(c.r)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ct),Kt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Gt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Kt(L,t),r=new Kt(L,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Kt.MIN},t}(),Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Bt},set:function(t){Bt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(a,b){return F(a.name,b.name)},e.prototype.isDefinedOn=function(t){throw Object(c.f)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Kt.MIN},e.prototype.maxPost=function(){return new Kt(M,Bt)},e.prototype.makePost=function(t,e){return Object(c.e)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Kt(t,Bt)},e.prototype.toString=function(){return".key"},e}(Gt),Xt=new Yt,Jt=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var c=1;!t.isEmpty();)if(t=t,c=e?n(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Qt=function(){function t(e,n,r,o,c){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:te.EMPTY_NODE,this.right=null!=c?c:te.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,c){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return te.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return te.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Zt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new Qt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),te=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Jt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Jt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Jt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Jt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Zt,t}();function ee(t,e){return F(t.name,e.name)}function ne(t,e){return F(t,e)}var re,ie,oe,ae=function(t){return"number"==typeof t?"number:"+H(t):"string:"+t},se=function(t){if(t.isLeafNode()){var e=t.val();Object(c.e)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(c.i)(e,".sv"),"Priority must be a string or number.")}else Object(c.e)(t===Wt||t.isEmpty(),"priority of unexpected type.");Object(c.e)(t===Wt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ue=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(c.e)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),se(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return re},set:function(t){re=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(path){return jt(path)?this:".priority"===kt(path)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(path,e){var n=kt(path);return null===n?e:e.isEmpty()&&".priority"!==n?this:(Object(c.e)(".priority"!==n||1===St(path),".priority must be the last token in a path"),this.updateImmediateChild(n,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(xt(path),e)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+ae(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?H(this.value_):this.value_,this.lazyHash_=O(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(c.e)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),h=t.VALUE_TYPE_ORDER.indexOf(r);return Object(c.e)(o>=0,"Unknown leaf type: "+n),Object(c.e)(h>=0,"Unknown leaf type: "+r),o===h?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var ce,he,le=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype.compare=function(a,b){var t=a.node.getPriority(),e=b.node.getPriority(),n=t.compareTo(e);return 0===n?F(a.name,b.name):n},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Kt.MIN},e.prototype.maxPost=function(){return new Kt(M,new ue("[PRIORITY-POST]",oe))},e.prototype.makePost=function(t,e){var n=ie(t);return new Kt(e,new ue("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Gt)),fe=Math.log(2),pe=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/fe,10)),this.current_=this.count-1;var n,mask=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&mask}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),de=function(t,e,n,r){t.sort(e);var o=function(e,r){var c,h,l=r-e;if(0===l)return null;if(1===l)return c=t[e],h=n?n(c):c,new Qt(h,c.node,Qt.BLACK,null,null);var f=parseInt(l/2,10)+e,d=o(e,f),v=o(f+1,r);return c=t[f],h=n?n(c):c,new Qt(h,c.node,Qt.BLACK,d,v)},c=function(e){for(var r=null,c=null,h=t.length,l=function(e,r){var c=h-e,l=h;h-=e;var d=o(c+1,l),v=t[c],m=n?n(v):v;f(new Qt(m,v.node,r,null,d))},f=function(t){r?(r.left=t,r=t):(c=t,r=t)},i=0;i<e.count;++i){var d=e.nextBitIsOne(),v=Math.pow(2,e.count-(i+1));d?l(v,Qt.BLACK):(l(v,Qt.BLACK),l(v,Qt.RED))}return c}(new pe(t.length));return new te(r||e,c)},ve={},ge=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(c.e)(ve&&le,"ChildrenNode.ts has not been loaded"),ce=ce||new t({".priority":ve},{".priority":le})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(c.A)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof te?e:null},t.prototype.hasIndex=function(t){return Object(c.i)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(c.e)(e!==Xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],l=!1,f=n.getIterator(Kt.Wrap),d=f.getNext();d;)l=l||e.isDefinedOn(d.node),o.push(d),d=f.getNext();r=l?de(o,e.getCompare()):ve;var v=e.toString(),m=Object(h.a)({},this.indexSet_);m[v]=e;var y=Object(h.a)({},this.indexes_);return y[v]=r,new t(y,m)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(c.y)(this.indexes_,(function(t,o){var h=Object(c.A)(r.indexSet_,o);if(Object(c.e)(h,"Missing index implementation for "+o),t===ve){if(h.isDefinedOn(e.node)){for(var l=[],f=n.getIterator(Kt.Wrap),d=f.getNext();d;)d.name!==e.name&&l.push(d),d=f.getNext();return l.push(e),de(l,h.getCompare())}return ve}var v=n.get(e.name),m=t;return v&&(m=m.remove(new Kt(e.name,v))),m.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(c.y)(this.indexes_,(function(t){if(t===ve)return t;var r=n.get(e.name);return r?t.remove(new Kt(e.name,r)):t})),this.indexSet_)},t}(),me=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&se(this.priorityNode_),this.children_.isEmpty()&&Object(c.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return he||(he=new t(new te(ne),null,ge.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||he},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?he:e},t.prototype.getChild=function(path){var t=kt(path);return null===t?this:this.getImmediateChild(t).getChild(xt(path))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(c.e)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Kt(e,n),o=void 0,h=void 0;n.isEmpty()?(o=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),h=this.indexMap_.addToIndexes(r,this.children_));var l=o.isEmpty()?he:this.priorityNode_;return new t(o,l,h)},t.prototype.updateChild=function(path,t){var e=kt(path);if(null===e)return t;Object(c.e)(".priority"!==kt(path)||1===St(path),".priority must be the last token in a path");var n=this.getImmediateChild(e).updateChild(xt(path),t);return this.updateImmediateChild(e,n)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,c=!0;if(this.forEachChild(le,(function(h,l){n[h]=l.val(e),r++,c&&t.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1})),!e&&c&&o<2*r){var h=[];for(var l in n)h[l]=n[l];return h}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+ae(this.getPriority().val())+":"),this.forEachChild(le,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":O(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new Kt(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Kt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Kt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Kt.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Kt.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ye?-1:0},t.prototype.withIndex=function(e){if(e===Xt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Xt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(le),r=e.getIterator(le),o=n.getNext(),c=r.getNext();o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=n.getNext(),c=r.getNext()}return null===o&&null===c}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Xt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ye=new(function(t){function e(){return t.call(this,new te(ne),me.EMPTY_NODE,ge.Default)||this}return Object(h.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return me.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(me));Object.defineProperties(Kt,{MIN:{value:new Kt(L,me.EMPTY_NODE)},MAX:{value:new Kt(M,ye)}}),Yt.__EMPTY_NODE=me.EMPTY_NODE,ue.__childrenNodeConstructor=me,Wt=ye,function(t){oe=t}(ye);function _e(t,e){if(void 0===e&&(e=null),null===t)return me.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(c.e)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ue(t,_e(e));if(t instanceof Array){var n=me.EMPTY_NODE;return $(t,(function(e,r){if(Object(c.i)(t,e)&&"."!==e.substring(0,1)){var o=_e(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}})),n.updatePriority(_e(e))}var r=[],o=!1;if($(t,(function(t,e){if("."!==t.substring(0,1)){var n=_e(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Kt(t,n)))}})),0===r.length)return me.EMPTY_NODE;var h=de(r,ee,(function(t){return t.name}),ne);if(o){var l=de(r,le.getCompare());return new me(h,_e(e),new ge({".priority":l},{".priority":le}))}return new me(h,_e(e),ge.Default)}!function(t){ie=t}(_e);var be,we,Ce=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(c.e)(!jt(e)&&".priority"!==kt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(h.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(a,b){var t=this.extractChild(a.node),e=this.extractChild(b.node),n=t.compareTo(e);return 0===n?F(a.name,b.name):n},e.prototype.makePost=function(t,e){var n=_e(t),r=me.EMPTY_NODE.updateChild(this.indexPath_,n);return new Kt(e,r)},e.prototype.maxPost=function(){var t=me.EMPTY_NODE.updateChild(this.indexPath_,ye);return new Kt(M,t)},e.prototype.toString=function(){return Pt(this.indexPath_,0).join("/")},e}(Gt),Ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype.compare=function(a,b){var t=a.node.compareTo(b.node);return 0===t?F(a.name,b.name):t},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Kt.MIN},e.prototype.maxPost=function(){return Kt.MAX},e.prototype.makePost=function(t,e){var n=_e(t);return new Kt(e,n)},e.prototype.toString=function(){return".value"},e}(Gt)),Te="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Oe=(be=0,we=[],function(t){var i,e=t===be;be=t;var n=new Array(8);for(i=7;i>=0;i--)n[i]=Te.charAt(t%64),t=Math.floor(t/64);Object(c.e)(0===t,"Cannot push at time == 0");var r=n.join("");if(e){for(i=11;i>=0&&63===we[i];i--)we[i]=0;we[i]++}else for(i=0;i<12;i++)we[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)r+=Te.charAt(we[i]);return Object(c.e)(20===r.length,"nextPushId: Length should be 20."),r}),Ee=function(t){if("2147483647"===t)return"-";var e=Y(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return M;var source=n[i],o=Te.charAt(Te.indexOf(source)+1);return n[i]=o,n.slice(0,i+1).join("")},ke=function(t){if("-2147483648"===t)return L;var e=Y(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Te.charAt(Te.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Se(t){return{type:"value",snapshotNode:t}}function xe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ne(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Pe(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var Ae=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,source,o){Object(c.e)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var h=t.getImmediateChild(e);return h.getChild(r).equals(n.getChild(r))&&h.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ne(e,h)):Object(c.e)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?o.trackChildChange(xe(e,n)):o.trackChildChange(Pe(e,n,h))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(le,(function(t,r){e.hasChild(t)||n.trackChildChange(Ne(t,r))})),e.isLeafNode()||e.forEachChild(le,(function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(Pe(e,r,o))}else n.trackChildChange(xe(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?me.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Re=function(){function t(e){this.indexedFilter_=new Ae(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,source,o){return this.matches(new Kt(e,n))||(n=me.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,source,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=me.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(me.EMPTY_NODE);var o=this;return e.forEachChild(le,(function(t,e){o.matches(new Kt(t,e))||(r=r.updateImmediateChild(t,me.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),je=function(){function t(t){this.rangedFilter_=new Re(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,source,o){return this.rangedFilter_.matches(new Kt(e,n))||(n=me.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,source,o):this.fullLimitUpdateChild_(t,e,n,source,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=me.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=me.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var c=0;o.hasNext()&&c<this.limit_;){var h=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(h.name,h.node),c++}}else{r=(r=e.withIndex(this.index_)).updatePriority(me.EMPTY_NODE);var l=void 0,f=void 0,d=void 0;o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();var v=this.index_.getCompare();d=function(a,b){return v(b,a)}}else o=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();c=0;for(var m=!1;o.hasNext();){h=o.getNext();!m&&d(l,h)<=0&&(m=!0),m&&c<this.limit_&&d(h,f)<=0?c++:r=r.updateImmediateChild(h.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,source,r){var o;if(this.reverse_){var h=this.index_.getCompare();o=function(a,b){return h(b,a)}}else o=this.index_.getCompare();var l=t;Object(c.e)(l.numChildren()===this.limit_,"");var f=new Kt(e,n),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(l.hasChild(e)){for(var m=l.getImmediateChild(e),y=source.getChildAfterChild(this.index_,d,this.reverse_);null!=y&&(y.name===e||l.hasChild(y.name));)y=source.getChildAfterChild(this.index_,y,this.reverse_);var _=null==y?1:o(y,f);if(v&&!n.isEmpty()&&_>=0)return null!=r&&r.trackChildChange(Pe(e,n,m)),l.updateImmediateChild(e,n);null!=r&&r.trackChildChange(Ne(e,m));var w=l.updateImmediateChild(e,me.EMPTY_NODE);return null!=y&&this.rangedFilter_.matches(y)?(null!=r&&r.trackChildChange(xe(y.name,y.node)),w.updateImmediateChild(y.name,y.node)):w}return n.isEmpty()?t:v&&o(d,f)>=0?(null!=r&&(r.trackChildChange(Ne(d.name,d.node)),r.trackChildChange(xe(e,n))),l.updateImmediateChild(e,n).updateImmediateChild(d.name,me.EMPTY_NODE)):t},t}(),De=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(c.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(c.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:L},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(c.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(c.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:M},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(c.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===le},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Le(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Me(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Fe(t,e){var n=t.copy();return n.index_=e,n}function Ue(t){var e,n={};return t.isDefault()||(t.index_===le?e="$priority":t.index_===Ie?e="$value":t.index_===Xt?e="$key":(Object(c.e)(t.index_ instanceof Ce,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(c.D)(e),t.startSet_&&(n.startAt=Object(c.D)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(c.D)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(c.D)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(c.D)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function qe(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==le&&(e.i=t.index_.toString()),e}var Ve=function(t){function e(e,n,r,o){var c=t.call(this)||this;return c.repoInfo_=e,c.onDataUpdate_=n,c.authTokenProvider_=r,c.appCheckTokenProvider_=o,c.log_=P("p:rest:"),c.listens_={},c}return Object(h.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(c.e)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var h=this,l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);var f=e.getListenId_(t,r),d={};this.listens_[f]=d;var v=Ue(t._queryParams);this.restRequest_(l+".json",v,(function(t,e){var data=e;(404===t&&(data=null,t=null),null===t&&h.onDataUpdate_(l,data,!1,r),Object(c.A)(h.listens_,f)===d)&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Ue(t._queryParams),r=t._path.toString(),o=new c.a;return this.restRequest_(r+".json",n,(function(t,n){var data=n;404===t&&(data=null,t=null),null===t?(e.onDataUpdate_(r,data,!1,null),o.resolve(data)):o.reject(new Error(data))})),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(o){var l=Object(h.e)(o,2),f=l[0],d=l[1];f&&f.accessToken&&(e.auth=f.accessToken),d&&d.token&&(e.ac=d.token);var v=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(c.z)(e);r.log_("Sending REST request for "+v);var m=new XMLHttpRequest;m.onreadystatechange=function(){if(n&&4===m.readyState){r.log_("REST Response for "+v+" received. status:",m.status,"response:",m.responseText);var t=null;if(m.status>=200&&m.status<300){try{t=Object(c.x)(m.responseText)}catch(t){j("Failed to parse JSON response for "+v+": "+m.responseText)}n(null,t)}else 401!==m.status&&404!==m.status&&j("Got unsuccessful REST response for "+v+" Status: "+m.status),n(m.status);n=null}},m.open("GET",v,!0),m.send()}))},e}(Ct),Be=function(){function t(){this.rootNode_=me.EMPTY_NODE}return t.prototype.getNode=function(path){return this.rootNode_.getChild(path)},t.prototype.updateSnapshot=function(path,t){this.rootNode_=this.rootNode_.updateChild(path,t)},t}();function We(){return{value:null,children:new Map}}function $e(t,path,data){if(jt(path))t.value=data,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(path,data);else{var e=kt(path);t.children.has(e)||t.children.set(e,We()),$e(t.children.get(e),path=xt(path),data)}}function He(t,path){if(jt(path))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var e=t.value;return t.value=null,e.forEachChild(le,(function(e,n){$e(t,new Ot(e),n)})),He(t,path)}if(t.children.size>0){var n=kt(path);if(path=xt(path),t.children.has(n))He(t.children.get(n),path)&&t.children.delete(n);return 0===t.children.size}return!0}function ze(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){ze(r,new Ot(e.toString()+"/"+t),n)}))}var Ke,Ge=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(h.a)({},t);return this.last_&&$(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Ye=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ge(t);var n=1e4+2e4*Math.random();J(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;$(e,(function(e,o){o>0&&Object(c.i)(t.statsToReport_,e)&&(n[e]=o,r=!0)})),r&&this.server_.reportStats(n),J(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();function Xe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ke||(Ke={}));var Je,Qe=function(){function t(path,t,e){this.path=path,this.affectedTree=t,this.revert=e,this.type=Ke.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(jt(this.path)){if(null!=this.affectedTree.value)return Object(c.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ot(e));return new t(Et(),n,this.revert)}return Object(c.e)(kt(this.path)===e,"operationForChild called for unrelated child."),new t(xt(this.path),this.affectedTree,this.revert)},t}(),Ze=function(){function t(source,path){this.source=source,this.path=path,this.type=Ke.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return jt(this.path)?new t(this.source,Et()):new t(this.source,xt(this.path))},t}(),tn=function(){function t(source,path,t){this.source=source,this.path=path,this.snap=t,this.type=Ke.OVERWRITE}return t.prototype.operationForChild=function(e){return jt(this.path)?new t(this.source,Et(),this.snap.getImmediateChild(e)):new t(this.source,xt(this.path),this.snap)},t}(),en=function(){function t(source,path,t){this.source=source,this.path=path,this.children=t,this.type=Ke.MERGE}return t.prototype.operationForChild=function(e){if(jt(this.path)){var n=this.children.subtree(new Ot(e));return n.isEmpty()?null:n.value?new tn(this.source,Et(),n.value):new t(this.source,Et(),n)}return Object(c.e)(kt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,xt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),nn=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(path){if(jt(path))return this.isFullyInitialized()&&!this.filtered_;var t=kt(path);return this.isCompleteForChild(t)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),rn=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function on(t,e,n,r,o,h){var l=r.filter((function(t){return t.type===n}));l.sort((function(a,b){return function(t,a,b){if(null==a.childName||null==b.childName)throw Object(c.f)("Should only compare child_ events.");var e=new Kt(a.childName,a.snapshotNode),n=new Kt(b.childName,b.snapshotNode);return t.index_.compare(e,n)}(t,a,b)})),l.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,h);o.forEach((function(o){o.respondsTo(n.type)&&e.push(o.createEvent(r,t.query_))}))}))}function an(t,e){return{eventCache:t,serverCache:e}}function sn(t,e,n,r){return an(new nn(e,n,r),t.serverCache)}function un(t,e,n,r){return an(t.eventCache,new nn(e,n,r))}function cn(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var ln=function(){function t(t,e){void 0===e&&(Je||(Je=new te(U)),e=Je),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return $(e,(function(t,e){n=n.set(new Ot(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Et(),value:this.value};if(jt(t))return null;var n=kt(t),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(xt(t),e);return null!=o?{path:Rt(new Ot(n),o.path),value:o.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(jt(e))return this;var n=kt(e),r=this.children.get(n);return null!==r?r.subtree(xt(e)):new t(null)},t.prototype.set=function(e,n){if(jt(e))return new t(n,this.children);var r=kt(e),o=(this.children.get(r)||new t(null)).set(xt(e),n),c=this.children.insert(r,o);return new t(this.value,c)},t.prototype.remove=function(e){if(jt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=kt(e),r=this.children.get(n);if(r){var o=r.remove(xt(e)),c=void 0;return c=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&c.isEmpty()?new t(null):new t(this.value,c)}return this},t.prototype.get=function(t){if(jt(t))return this.value;var e=kt(t),n=this.children.get(e);return n?n.get(xt(t)):null},t.prototype.setTree=function(e,n){if(jt(e))return n;var r=kt(e),o=(this.children.get(r)||new t(null)).setTree(xt(e),n),c=void 0;return c=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,c)},t.prototype.fold=function(t){return this.fold_(Et(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,o){n[r]=o.fold_(Rt(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(path,t){return this.findOnPath_(path,Et(),t)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(jt(t))return null;var o=kt(t),c=this.children.get(o);return c?c.findOnPath_(xt(t),Rt(e,o),n):null},t.prototype.foreachOnPath=function(path,t){return this.foreachOnPath_(path,Et(),t)},t.prototype.foreachOnPath_=function(e,n,r){if(jt(e))return this;this.value&&r(n,this.value);var o=kt(e),c=this.children.get(o);return c?c.foreachOnPath_(xt(e),Rt(n,o),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(Et(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(Rt(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),fn=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new ln(null))},t}();function pn(t,path,e){if(jt(path))return new fn(new ln(e));var n=t.writeTree_.findRootMostValueAndPath(path);if(null!=n){var r=n.path,o=n.value,c=Dt(r,path);return o=o.updateChild(c,e),new fn(t.writeTree_.set(r,o))}var h=new ln(e),l=t.writeTree_.setTree(path,h);return new fn(l)}function dn(t,path,e){var n=t;return $(e,(function(t,e){n=pn(n,Rt(path,t),e)})),n}function vn(t,path){if(jt(path))return fn.empty();var e=t.writeTree_.setTree(path,new ln(null));return new fn(e)}function gn(t,path){return null!=mn(t,path)}function mn(t,path){var e=t.writeTree_.findRootMostValueAndPath(path);return null!=e?t.writeTree_.get(e.path).getChild(Dt(e.path,path)):null}function yn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(le,(function(t,n){e.push(new Kt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Kt(t,n.value))})),e}function _n(t,path){if(jt(path))return t;var e=mn(t,path);return new fn(null!=e?new ln(e):t.writeTree_.subtree(path))}function bn(t){return t.writeTree_.isEmpty()}function wn(t,e){return Cn(Et(),t.writeTree_,e)}function Cn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,o){".priority"===e?(Object(c.e)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Cn(Rt(t,e),o,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(Rt(t,".priority"),r)),n}function In(t,path){return Ln(path,t)}function Tn(t,e){var n=t.allWrites.findIndex((function(s){return s.writeId===e}));Object(c.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,h=!1,i=t.allWrites.length-1;o&&i>=0;){var l=t.allWrites[i];l.visible&&(i>=n&&On(l,r.path)?o=!1:Ft(r.path,l.path)&&(h=!0)),i--}if(o){if(h)return function(t){t.visibleWrites=kn(t.allWrites,En,Et()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=vn(t.visibleWrites,r.path):$(r.children,(function(e){t.visibleWrites=vn(t.visibleWrites,Rt(r.path,e))}));return!0}return!1}function On(t,path){if(t.snap)return Ft(t.path,path);for(var e in t.children)if(t.children.hasOwnProperty(e)&&Ft(Rt(t.path,e),path))return!0;return!1}function En(t){return t.visible}function kn(t,filter,e){for(var n=fn.empty(),i=0;i<t.length;++i){var r=t[i];if(filter(r)){var o=r.path,h=void 0;if(r.snap)Ft(e,o)?n=pn(n,h=Dt(e,o),r.snap):Ft(o,e)&&(h=Dt(o,e),n=pn(n,Et(),r.snap.getChild(h)));else{if(!r.children)throw Object(c.f)("WriteRecord should have .snap or .children");if(Ft(e,o))n=dn(n,h=Dt(e,o),r.children);else if(Ft(o,e))if(jt(h=Dt(o,e)))n=dn(n,Et(),r.children);else{var l=Object(c.A)(r.children,kt(h));if(l){var f=l.getChild(xt(h));n=pn(n,Et(),f)}}}}}return n}function Sn(t,e,n,r,o){if(r||o){var c=_n(t.visibleWrites,e);if(!o&&bn(c))return n;if(o||null!=n||gn(c,Et())){return wn(kn(t.allWrites,(function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(Ft(t.path,e)||Ft(e,t.path))}),e),n||me.EMPTY_NODE)}return null}var h=mn(t.visibleWrites,e);if(null!=h)return h;var l=_n(t.visibleWrites,e);return bn(l)?n:null!=n||gn(l,Et())?wn(l,n||me.EMPTY_NODE):null}function xn(t,e,n,r){return Sn(t.writeTree,t.treePath,e,n,r)}function Nn(t,e){return function(t,e,n){var r=me.EMPTY_NODE,o=mn(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(le,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var c=_n(t.visibleWrites,e);return n.forEachChild(le,(function(t,e){var n=wn(_n(c,new Ot(t)),e);r=r.updateImmediateChild(t,n)})),yn(c).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return yn(_n(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function Pn(t,path,e,n){return function(t,e,n,r,o){Object(c.e)(r||o,"Either existingEventSnap or existingServerSnap must exist");var path=Rt(e,n);if(gn(t.visibleWrites,path))return null;var h=_n(t.visibleWrites,path);return bn(h)?o.getChild(n):wn(h,o.getChild(n))}(t.writeTree,t.treePath,path,e,n)}function An(t,path){return function(t,path){return mn(t.visibleWrites,path)}(t.writeTree,Rt(t.treePath,path))}function Rn(t,e,n,r,o,c){return function(t,e,n,r,o,c,h){var l,f=_n(t.visibleWrites,e),d=mn(f,Et());if(null!=d)l=d;else{if(null==n)return[];l=wn(f,n)}if((l=l.withIndex(h)).isEmpty()||l.isLeafNode())return[];for(var v=[],m=h.getCompare(),y=c?l.getReverseIteratorFrom(r,h):l.getIteratorFrom(r,h),_=y.getNext();_&&v.length<o;)0!==m(_,r)&&v.push(_),_=y.getNext();return v}(t.writeTree,t.treePath,e,n,r,o,c)}function jn(t,e,n){return function(t,e,n,r){var path=Rt(e,n),o=mn(t.visibleWrites,path);return null!=o?o:r.isCompleteForChild(n)?wn(_n(t.visibleWrites,path),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Dn(t,e){return Ln(Rt(t.treePath,e),t.writeTree)}function Ln(path,t){return{treePath:path,writeTree:t}}var Mn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(c.e)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(c.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,Pe(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,Ne(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,xe(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(c.f)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Pe(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Fn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Un=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new nn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hn(this.viewCache_),o=Rn(this.writes_,r,e,1,n,t);return 0===o.length?null:o[0]},t}();function qn(t,e,n,r,o){var h,l,f=new Mn;if(n.type===Ke.OVERWRITE){var d=n;d.source.fromUser?h=Wn(t,e,d.path,d.snap,r,o,f):(Object(c.e)(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered()&&!jt(d.path),h=Bn(t,e,d.path,d.snap,r,o,l,f))}else if(n.type===Ke.MERGE){var v=n;v.source.fromUser?h=function(t,e,path,n,r,o,c){var h=e;return n.foreach((function(n,l){var f=Rt(path,n);$n(e,kt(f))&&(h=Wn(t,h,f,l,r,o,c))})),n.foreach((function(n,l){var f=Rt(path,n);$n(e,kt(f))||(h=Wn(t,h,f,l,r,o,c))})),h}(t,e,v.path,v.children,r,o,f):(Object(c.e)(v.source.fromServer,"Unknown source."),l=v.source.tagged||e.serverCache.isFiltered(),h=zn(t,e,v.path,v.children,r,o,l,f))}else if(n.type===Ke.ACK_USER_WRITE){var m=n;h=m.revert?function(t,e,path,n,r,o){var h;if(null!=An(n,path))return e;var source=new Un(n,e,r),l=e.eventCache.getNode(),f=void 0;if(jt(path)||".priority"===kt(path)){var d=void 0;if(e.serverCache.isFullyInitialized())d=xn(n,hn(e));else{var v=e.serverCache.getNode();Object(c.e)(v instanceof me,"serverChildren would be complete if leaf node"),d=Nn(n,v)}d=d,f=t.filter.updateFullNode(l,d,o)}else{var m=kt(path),y=jn(n,m,e.serverCache);null==y&&e.serverCache.isCompleteForChild(m)&&(y=l.getImmediateChild(m)),(f=null!=y?t.filter.updateChild(l,m,y,xt(path),source,o):e.eventCache.getNode().hasChild(m)?t.filter.updateChild(l,m,me.EMPTY_NODE,xt(path),source,o):l).isEmpty()&&e.serverCache.isFullyInitialized()&&(h=xn(n,hn(e))).isLeafNode()&&(f=t.filter.updateFullNode(f,h,o))}return h=e.serverCache.isFullyInitialized()||null!=An(n,Et()),sn(e,f,h,t.filter.filtersNodes())}(t,e,m.path,r,o,f):function(t,e,n,r,o,c,h){if(null!=An(o,n))return e;var l=e.serverCache.isFiltered(),f=e.serverCache;if(null!=r.value){if(jt(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Bn(t,e,n,f.getNode().getChild(n),o,c,l,h);if(jt(n)){var d=new ln(null);return f.getNode().forEachChild(Xt,(function(t,e){d=d.set(new Ot(t),e)})),zn(t,e,n,d,o,c,l,h)}return e}var v=new ln(null);return r.foreach((function(t,e){var r=Rt(n,t);f.isCompleteForPath(r)&&(v=v.set(t,f.getNode().getChild(r)))})),zn(t,e,n,v,o,c,l,h)}(t,e,m.path,m.affectedTree,r,o,f)}else{if(n.type!==Ke.LISTEN_COMPLETE)throw Object(c.f)("Unknown operation type: "+n.type);h=function(t,e,path,n,r){var o=e.serverCache,c=un(e,o.getNode(),o.isFullyInitialized()||jt(path),o.isFiltered());return Vn(t,c,path,n,Fn,r)}(t,e,n.path,r,f)}var y=f.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=cn(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&n.push(Se(cn(e)))}}(e,h,y),{viewCache:h,changes:y}}function Vn(t,e,n,r,source,o){var h=e.eventCache;if(null!=An(r,n))return e;var l=void 0,f=void 0;if(jt(n))if(Object(c.e)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var d=hn(e),v=Nn(r,d instanceof me?d:me.EMPTY_NODE);l=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{var m=xn(r,hn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{var y=kt(n);if(".priority"===y){Object(c.e)(1===St(n),"Can't have a priority with additional path components");var _=h.getNode(),w=Pn(r,n,_,f=e.serverCache.getNode());l=null!=w?t.filter.updatePriority(_,w):h.getNode()}else{var C=xt(n),I=void 0;if(h.isCompleteForChild(y)){f=e.serverCache.getNode();var T=Pn(r,n,h.getNode(),f);I=null!=T?h.getNode().getImmediateChild(y).updateChild(C,T):h.getNode().getImmediateChild(y)}else I=jn(r,y,e.serverCache);l=null!=I?t.filter.updateChild(h.getNode(),y,I,C,source,o):h.getNode()}}return sn(e,l,h.isFullyInitialized()||jt(n),t.filter.filtersNodes())}function Bn(t,e,n,r,o,c,h,l){var f,d=e.serverCache,v=h?t.filter:t.filter.getIndexedFilter();if(jt(n))f=v.updateFullNode(d.getNode(),r,null);else if(v.filtersNodes()&&!d.isFiltered()){var m=d.getNode().updateChild(n,r);f=v.updateFullNode(d.getNode(),m,null)}else{var y=kt(n);if(!d.isCompleteForPath(n)&&St(n)>1)return e;var _=xt(n),w=d.getNode().getImmediateChild(y).updateChild(_,r);f=".priority"===y?v.updatePriority(d.getNode(),w):v.updateChild(d.getNode(),y,w,_,Fn,null)}var C=un(e,f,d.isFullyInitialized()||jt(n),v.filtersNodes());return Vn(t,C,n,o,new Un(o,C,c),l)}function Wn(t,e,n,r,o,c,h){var l,f,d=e.eventCache,source=new Un(o,e,c);if(jt(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,h),l=sn(e,f,!0,t.filter.filtersNodes());else{var v=kt(n);if(".priority"===v)f=t.filter.updatePriority(e.eventCache.getNode(),r),l=sn(e,f,d.isFullyInitialized(),d.isFiltered());else{var m=xt(n),y=d.getNode().getImmediateChild(v),_=void 0;if(jt(m))_=r;else{var w=source.getCompleteChild(v);_=null!=w?".priority"===Nt(m)&&w.getChild(At(m)).isEmpty()?w:w.updateChild(m,r):me.EMPTY_NODE}if(y.equals(_))l=e;else l=sn(e,t.filter.updateChild(d.getNode(),v,_,m,source,h),d.isFullyInitialized(),t.filter.filtersNodes())}}return l}function $n(t,e){return t.eventCache.isCompleteForChild(e)}function Hn(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function zn(t,e,path,n,r,o,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var l,f=e;l=jt(path)?n:new ln(null).setTree(path,n);var d=e.serverCache.getNode();return l.children.inorderTraversal((function(n,l){if(d.hasChild(n)){var v=Hn(0,e.serverCache.getNode().getImmediateChild(n),l);f=Bn(t,f,new Ot(n),v,r,o,c,h)}})),l.children.inorderTraversal((function(n,l){var v=!e.serverCache.isCompleteForChild(n)&&void 0===l.value;if(!d.hasChild(n)&&!v){var m=Hn(0,e.serverCache.getNode().getImmediateChild(n),l);f=Bn(t,f,new Ot(n),m,r,o,c,h)}})),f}var Kn,Gn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,o=new Ae(r.getIndex()),filter=(n=r).loadsAllData()?new Ae(n.getIndex()):n.hasLimit()?new je(n):new Re(n);this.processor_=function(filter){return{filter:filter}}(filter);var c=e.serverCache,h=e.eventCache,l=o.updateFullNode(me.EMPTY_NODE,c.getNode(),null),f=filter.updateFullNode(me.EMPTY_NODE,h.getNode(),null),d=new nn(l,c.isFullyInitialized(),o.filtersNodes()),v=new nn(f,h.isFullyInitialized(),filter.filtersNodes());this.viewCache_=an(v,d),this.eventGenerator_=new rn(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Yn(view,path){var t=hn(view.viewCache_);return t&&(view.query._queryParams.loadsAllData()||!jt(path)&&!t.getImmediateChild(kt(path)).isEmpty())?t.getChild(path):null}function Xn(view){return 0===view.eventRegistrations_.length}function Jn(view,t,e){var n=[];if(e){Object(c.e)(null==t,"A cancel should cancel all event registrations.");var r=view.query._path;view.eventRegistrations_.forEach((function(t){var o=t.createCancelEvent(e,r);o&&n.push(o)}))}if(t){for(var o=[],i=0;i<view.eventRegistrations_.length;++i){var h=view.eventRegistrations_[i];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(view.eventRegistrations_.slice(i+1));break}}else o.push(h)}view.eventRegistrations_=o}else view.eventRegistrations_=[];return n}function Qn(view,t,e,n){t.type===Ke.MERGE&&null!==t.source.queryId&&(Object(c.e)(hn(view.viewCache_),"We should always have a full cache before handling merges"),Object(c.e)(cn(view.viewCache_),"Missing event cache, even though we have a server cache"));var r,o,h=view.viewCache_,l=qn(view.processor_,h,t,e,n);return r=view.processor_,o=l.viewCache,Object(c.e)(o.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),Object(c.e)(o.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed"),Object(c.e)(l.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),view.viewCache_=l.viewCache,Zn(view,l.changes,l.viewCache.eventCache.getNode(),null)}function Zn(view,t,e,n){var r=n?[n]:view.eventRegistrations_;return function(t,e,n,r){var o=[],c=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&c.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),on(t,o,"child_removed",e,r,n),on(t,o,"child_added",e,r,n),on(t,o,"child_moved",c,r,n),on(t,o,"child_changed",e,r,n),on(t,o,"value",e,r,n),o}(view.eventGenerator_,t,e,r)}var er,nr=function(){this.views=new Map};function rr(t,e,n,r){var o,l,f=e.source.queryId;if(null!==f){var view=t.views.get(f);return Object(c.e)(null!=view,"SyncTree gave us an op for an invalid query."),Qn(view,e,n,r)}var d=[];try{for(var v=Object(h.g)(t.views.values()),m=v.next();!m.done;m=v.next()){view=m.value;d=d.concat(Qn(view,e,n,r))}}catch(t){o={error:t}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}return d}function ir(t,e,n,r,o){var c=e._queryIdentifier,view=t.views.get(c);if(!view){var h=xn(n,o?r:null),l=!1;h?l=!0:r instanceof me?(h=Nn(n,r),l=!1):(h=me.EMPTY_NODE,l=!1);var f=an(new nn(h,l,!1),new nn(r,o,!1));return new Gn(e,f)}return view}function or(t,e,n,r,o,c){var view=ir(t,e,r,o,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,view),function(view,t){view.eventRegistrations_.push(t)}(view,n),function(view,t){var e=view.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(le,(function(t,e){n.push(xe(t,e))})),e.isFullyInitialized()&&n.push(Se(e.getNode())),Zn(view,n,e.getNode(),t)}(view,n)}function ar(t,e,n,r){var o,l,f=e._queryIdentifier,d=[],v=[],m=fr(t);if("default"===f)try{for(var y=Object(h.g)(t.views.entries()),_=y.next();!_.done;_=y.next()){var w=Object(h.e)(_.value,2),C=w[0],view=w[1];v=v.concat(Jn(view,n,r)),Xn(view)&&(t.views.delete(C),view.query._queryParams.loadsAllData()||d.push(view.query))}}catch(t){o={error:t}}finally{try{_&&!_.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}else(view=t.views.get(f))&&(v=v.concat(Jn(view,n,r)),Xn(view)&&(t.views.delete(f),view.query._queryParams.loadsAllData()||d.push(view.query)));return m&&!fr(t)&&d.push(new(Object(c.e)(Kn,"Reference.ts has not been loaded"),Kn)(e._repo,e._path)),{removed:d,events:v}}function sr(t){var e,n,r=[];try{for(var o=Object(h.g)(t.views.values()),c=o.next();!c.done;c=o.next()){var view=c.value;view.query._queryParams.loadsAllData()||r.push(view)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function ur(t,path){var e,n,r=null;try{for(var o=Object(h.g)(t.views.values()),c=o.next();!c.done;c=o.next()){var view=c.value;r=r||Yn(view,path)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function cr(t,e){if(e._queryParams.loadsAllData())return pr(t);var n=e._queryIdentifier;return t.views.get(n)}function lr(t,e){return null!=cr(t,e)}function fr(t){return null!=pr(t)}function pr(t){var e,n;try{for(var r=Object(h.g)(t.views.values()),o=r.next();!o.done;o=r.next()){var view=o.value;if(view.query._queryParams.loadsAllData())return view}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var dr=1,vr=function(t){this.listenProvider_=t,this.syncPointTree_=new ln(null),this.pendingWriteTree_={visibleWrites:fn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function gr(t,path,e,n,r){return function(t,path,e,n,r){Object(c.e)(n>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:path,snap:e,writeId:n,visible:r}),r&&(t.visibleWrites=pn(t.visibleWrites,path,e)),t.lastWriteId=n}(t.pendingWriteTree_,path,e,n,r),r?Or(t,new tn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},path,e)):[]}function mr(t,path,e,n){!function(t,path,e,n){Object(c.e)(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:path,children:e,writeId:n,visible:!0}),t.visibleWrites=dn(t.visibleWrites,path,e),t.lastWriteId=n}(t.pendingWriteTree_,path,e,n);var r=ln.fromObject(e);return Or(t,new en({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},path,r))}function yr(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var i=0;i<t.allWrites.length;i++){var n=t.allWrites[i];if(n.writeId===e)return n}return null}(t.pendingWriteTree_,e);if(Tn(t.pendingWriteTree_,e)){var o=new ln(null);return null!=r.snap?o=o.set(Et(),!0):$(r.children,(function(t){o=o.set(new Ot(t),!0)})),Or(t,new Qe(r.path,o,n))}return[]}function _r(t,path,e){return Or(t,new tn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path,e))}function wr(t,e,n,r){var path=e._path,o=t.syncPointTree_.get(path),c=[];if(o&&("default"===e._queryIdentifier||lr(o,e))){var h=ar(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(path));var l=h.removed;c=h.events;var f=-1!==l.findIndex((function(t){return t._queryParams.loadsAllData()})),d=t.syncPointTree_.findOnPath(path,(function(t,e){return fr(e)}));if(f&&!d){var v=t.syncPointTree_.subtree(path);if(!v.isEmpty())for(var m=function(t){return t.fold((function(t,e,n){if(e&&fr(e))return[pr(e)];var r=[];return e&&(r=sr(e)),$(n,(function(t,e){r=r.concat(e)})),r}))}(v),i=0;i<m.length;++i){var view=m[i],y=view.query,_=Sr(t,view);t.listenProvider_.startListening(jr(y),xr(t,y),_.hashFn,_.onComplete)}}if(!d&&l.length>0&&!r)if(f){t.listenProvider_.stopListening(jr(e),null)}else l.forEach((function(e){var n=t.queryToTagMap.get(Nr(e));t.listenProvider_.stopListening(jr(e),n)}));!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var o=Nr(r),c=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(c)}}}(t,l)}return c}function Cr(t,e,n){var path=e._path,r=null,o=!1;t.syncPointTree_.foreachOnPath(path,(function(t,e){var n=Dt(t,path);r=r||ur(e,n),o=o||fr(e)}));var h,l=t.syncPointTree_.get(path);(l?(o=o||fr(l),r=r||ur(l,Et())):(l=new nr,t.syncPointTree_=t.syncPointTree_.set(path,l)),null!=r)?h=!0:(h=!1,r=me.EMPTY_NODE,t.syncPointTree_.subtree(path).foreachChild((function(t,e){var n=ur(e,Et());n&&(r=r.updateImmediateChild(t,n))})));var f=lr(l,e);if(!f&&!e._queryParams.loadsAllData()){var d=Nr(e);Object(c.e)(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=dr++;t.queryToTagMap.set(d,v),t.tagToQueryMap.set(v,d)}var m=or(l,e,n,In(t.pendingWriteTree_,path),r,h);if(!f&&!o){var view=cr(l,e);m=m.concat(function(t,e,view){var path=e._path,n=xr(t,e),r=Sr(t,view),o=t.listenProvider_.startListening(jr(e),n,r.hashFn,r.onComplete),h=t.syncPointTree_.subtree(path);if(n)Object(c.e)(!fr(h.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=h.fold((function(t,e,n){if(!jt(t)&&e&&fr(e))return[pr(e).query];var r=[];return e&&(r=r.concat(sr(e).map((function(view){return view.query})))),$(n,(function(t,e){r=r.concat(e)})),r})),i=0;i<l.length;++i){var f=l[i];t.listenProvider_.stopListening(jr(f),xr(t,f))}return o}(t,e,view))}return m}function Ir(t,path,e){var n=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(path,(function(t,e){var n=ur(e,Dt(t,path));if(n)return n}));return Sn(n,path,r,e,!0)}function Tr(t,e){var path=e._path,n=null;t.syncPointTree_.foreachOnPath(path,(function(t,e){var r=Dt(t,path);n=n||ur(e,r)}));var r=t.syncPointTree_.get(path);r?n=n||ur(r,Et()):(r=new nr,t.syncPointTree_=t.syncPointTree_.set(path,r));var o=null!=n,c=o?new nn(n,!0,!1):null;return function(view){return cn(view.viewCache_)}(ir(r,e,In(t.pendingWriteTree_,e._path),o?c.getNode():me.EMPTY_NODE,o))}function Or(t,e){return Er(e,t.syncPointTree_,null,In(t.pendingWriteTree_,Et()))}function Er(t,e,n,r){if(jt(t.path))return kr(t,e,n,r);var o=e.get(Et());null==n&&null!=o&&(n=ur(o,Et()));var c=[],h=kt(t.path),l=t.operationForChild(h),f=e.children.get(h);if(f&&l){var d=n?n.getImmediateChild(h):null,v=Dn(r,h);c=c.concat(Er(l,f,d,v))}return o&&(c=c.concat(rr(o,t,r,n))),c}function kr(t,e,n,r){var o=e.get(Et());null==n&&null!=o&&(n=ur(o,Et()));var c=[];return e.children.inorderTraversal((function(e,o){var h=n?n.getImmediateChild(e):null,l=Dn(r,e),f=t.operationForChild(e);f&&(c=c.concat(kr(f,o,h,l)))})),o&&(c=c.concat(rr(o,t,r,n))),c}function Sr(t,view){var e=view.query,n=xr(t,e);return{hashFn:function(){return(function(view){return view.viewCache_.serverCache.getNode()}(view)||me.EMPTY_NODE).hash()},onComplete:function(r){if("ok"===r)return n?function(t,path,e){var n=Pr(t,e);if(n){var r=Ar(n),o=r.path,c=r.queryId,h=Dt(o,path);return Rr(t,o,new Ze(Xe(c),h))}return[]}(t,e._path,n):function(t,path){return Or(t,new Ze({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path))}(t,e._path);var o=function(code,t){var e="Unknown Error";"too_big"===code?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===code?e="Client doesn't have permission to access the desired data.":"unavailable"===code&&(e="The service is unavailable");var n=new Error(code+" at "+t._path.toString()+": "+e);return n.code=code.toUpperCase(),n}(r,e);return wr(t,e,null,o)}}}function xr(t,e){var n=Nr(e);return t.queryToTagMap.get(n)}function Nr(t){return t._path.toString()+"$"+t._queryIdentifier}function Pr(t,e){return t.tagToQueryMap.get(e)}function Ar(t){var e=t.indexOf("$");return Object(c.e)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ot(t.substr(0,e))}}function Rr(t,e,n){var r=t.syncPointTree_.get(e);return Object(c.e)(r,"Missing sync point for query tag that we're tracking"),rr(r,n,In(t.pendingWriteTree_,e),null)}function jr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(c.e)(er,"Reference.ts has not been loaded"),er)(t._repo,t._path):t}var Dr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Lr=function(){function t(t,path){this.syncTree_=t,this.path_=path}return t.prototype.getImmediateChild=function(e){var n=Rt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Ir(this.syncTree_,this.path_)},t}(),Mr=function(t,e,n){return t&&"object"==typeof t?(Object(c.e)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Fr(t[".sv"],e,n):"object"==typeof t[".sv"]?Ur(t[".sv"],e):void Object(c.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Fr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(c.e)(!1,"Unexpected server value: "+t)}},Ur=function(t,e,n){t.hasOwnProperty("increment")||Object(c.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(c.e)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(c.e)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var h=o.getValue();return"number"!=typeof h?r:h+r},qr=function(path,t,e,n){return Br(t,new Lr(e,path),n)},Vr=function(t,e,n){return Br(t,new Dr(e),n)};function Br(t,e,n){var r,o=t.getPriority().val(),c=Mr(o,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var h=t,l=Mr(h.getValue(),e,n);return l!==h.getValue()||c!==h.getPriority().val()?new ue(l,_e(c)):t}var f=t;return r=f,c!==f.getPriority().val()&&(r=r.updatePriority(new ue(c))),f.forEachChild(le,(function(t,o){var c=Br(o,e.getImmediateChild(t),n);c!==o&&(r=r.updateImmediateChild(t,c))})),r}var Wr=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function $r(t,e){for(var path=e instanceof Ot?e:new Ot(e),n=t,r=kt(path);null!==r;){var o=Object(c.A)(n.node.children,r)||{children:{},childCount:0};n=new Wr(r,n,o),r=kt(path=xt(path))}return n}function Hr(t){return t.node.value}function zr(t,e){t.node.value=e,Jr(t)}function Kr(t){return t.node.childCount>0}function Gr(t,e){$(t.node.children,(function(n,r){e(new Wr(n,t,r))}))}function Yr(t,e,n,r){n&&!r&&e(t),Gr(t,(function(t){Yr(t,e,!0,r)})),n&&r&&e(t)}function Xr(t){return new Ot(null===t.parent?t.name:Xr(t.parent)+"/"+t.name)}function Jr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Hr(t)&&!Kr(t)}(n),o=Object(c.i)(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Jr(t)):r||o||(t.node.children[e]=n.node,t.node.childCount++,Jr(t))}(t.parent,t.name,t)}var Qr=/[\[\].#$\/\u0000-\u001F\u007F]/,Zr=/[\[\].#$\u0000-\u001F\u007F]/,ti=10485760,ei=function(t){return"string"==typeof t&&0!==t.length&&!Qr.test(t)},ni=function(t){return"string"==typeof t&&0!==t.length&&!Zr.test(t)},ri=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!D(t)||t&&"object"==typeof t&&Object(c.i)(t,".sv")},ii=function(t,e,path,n){n&&void 0===e||oi(Object(c.n)(t,"value"),e,path)},oi=function(t,data,e){var path=e instanceof Ot?new Ut(e,t):e;if(void 0===data)throw new Error(t+"contains undefined "+Vt(path));if("function"==typeof data)throw new Error(t+"contains a function "+Vt(path)+" with contents = "+data.toString());if(D(data))throw new Error(t+"contains "+data.toString()+" "+Vt(path));if("string"==typeof data&&data.length>ti/3&&Object(c.B)(data)>ti)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Vt(path)+" ('"+data.substring(0,50)+"...')");if(data&&"object"==typeof data){var n=!1,r=!1;if($(data,(function(e,o){if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!ei(e)))throw new Error(t+" contains an invalid key ("+e+") "+Vt(path)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var h,l;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(c.B)(e),qt(t)}(path,e),oi(t,o,path),l=(h=path).parts_.pop(),h.byteLength_-=Object(c.B)(l),h.parts_.length>0&&(h.byteLength_-=1)})),n&&r)throw new Error(t+' contains ".value" child '+Vt(path)+" in addition to actual children.")}},ai=function(t,data,path,e){if(!e||void 0!==data){var n=Object(c.n)(t,"values");if(!data||"object"!=typeof data||Array.isArray(data))throw new Error(n+" must be an object containing the children to replace.");var r=[];$(data,(function(t,e){var o=new Ot(t);if(oi(n,e,Rt(path,o)),".priority"===Nt(o)&&!ri(e))throw new Error(n+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(o)})),function(t,e){var i,n;for(i=0;i<e.length;i++)for(var r=Pt(n=e[i]),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!ei(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Lt);var c=null;for(i=0;i<e.length;i++){if(n=e[i],null!==c&&Ft(c,n))throw new Error(t+"contains a path "+c.toString()+" that is ancestor of another path "+n.toString());c=n}}(n,r)}},si=function(t,e,n){if(!n||void 0!==e){if(D(e))throw new Error(Object(c.n)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ri(e))throw new Error(Object(c.n)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ui=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(c.n)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ci=function(t,e,n,r){if(!(r&&void 0===n||ei(n)))throw new Error(Object(c.n)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},hi=function(t,e,n,r){if(!(r&&void 0===n||ni(n)))throw new Error(Object(c.n)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fi=function(t,path){if(".info"===kt(path))throw new Error(t+" failed = Can't modify data under /.info/")},pi=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ei(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ni(t)}(n))throw new Error(Object(c.n)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},di=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(c.n)(t,e)+"must be a boolean.")},vi=function(){this.eventLists_=[],this.recursionDepth_=0};function gi(t,e){for(var n=null,i=0;i<e.length;i++){var data=e[i],path=data.getPath();null===n||Mt(path,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:path}),n.events.push(data)}n&&t.eventLists_.push(n)}function mi(t,path,e){gi(t,e),_i(t,(function(t){return Mt(t,path)}))}function yi(t,e,n){gi(t,n),_i(t,(function(t){return Ft(t,e)||Ft(e,t)}))}function _i(t,e){t.recursionDepth_++;for(var n=!0,i=0;i<t.eventLists_.length;i++){var r=t.eventLists_[i];if(r)e(r.path)?(bi(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function bi(t){for(var i=0;i<t.events.length;i++){var e=t.events[i];if(null!==e){t.events[i]=null;var n=e.getEventRunner();k&&N("event: "+e.toString()),X(n)}}}var wi="repo_interrupt",Ci=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=We(),this.transactionQueueTree_=new Wr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Ii(t,e,n){if(t.stats_=lt(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ve(t.repoInfo_,(function(e,data,n,r){Ei(t,e,data,n,r)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return ki(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(c.D)(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new zt(t.repoInfo_,e,(function(e,data,n,r){Ei(t,e,data,n,r)}),(function(e){ki(t,e)}),(function(e){!function(t,e){$(e,(function(e,n){Si(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o,h;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=t.repoInfo_,o=function(){return new Ye(t.stats_,t.server_)},h=r.toString(),ht[h]||(ht[h]=o()),ht[h]),t.infoData_=new Be,t.infoSyncTree_=new vr({startListening:function(e,n,r,o){var c=[],h=t.infoData_.getNode(e._path);return h.isEmpty()||(c=_r(t.infoSyncTree_,e._path,h),setTimeout((function(){o("ok")}),0)),c},stopListening:function(){}}),Si(t,"connected",!1),t.serverSyncTree_=new vr({startListening:function(e,n,r,o){return t.server_.listen(e,r,n,(function(n,data){var r=o(n,data);yi(t.eventQueue_,e._path,r)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function Ti(t){var e=t.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Oi(t){return(e=(e={timestamp:Ti(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Ei(t,e,data,n,r){t.dataUpdateCount++;var path=new Ot(e);data=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,data):data;var o=[];if(r)if(n){var h=Object(c.y)(data,(function(t){return _e(t)}));o=function(t,path,e,n){var r=Pr(t,n);if(r){var o=Ar(r),c=o.path,h=o.queryId,l=Dt(c,path),f=ln.fromObject(e);return Rr(t,c,new en(Xe(h),l,f))}return[]}(t.serverSyncTree_,path,h,r)}else{var l=_e(data);o=function(t,path,e,n){var r=Pr(t,n);if(null!=r){var o=Ar(r),c=o.path,h=o.queryId,l=Dt(c,path);return Rr(t,c,new tn(Xe(h),l,e))}return[]}(t.serverSyncTree_,path,l,r)}else if(n){var f=Object(c.y)(data,(function(t){return _e(t)}));o=function(t,path,e){var n=ln.fromObject(e);return Or(t,new en({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path,n))}(t.serverSyncTree_,path,f)}else{var d=_e(data);o=_r(t.serverSyncTree_,path,d)}var v=path;o.length>0&&(v=Ui(t,path)),yi(t.eventQueue_,v,o)}function ki(t,e){Si(t,"connected",e),!1===e&&function(t){Di(t,"onDisconnectEvents");var e=Oi(t),n=We();ze(t.onDisconnect_,Et(),(function(path,r){var o=qr(path,r,t.serverSyncTree_,e);$e(n,path,o)}));var r=[];ze(n,Et(),(function(path,e){r=r.concat(_r(t.serverSyncTree_,path,e));var n=$i(t,path);Ui(t,n)})),t.onDisconnect_=We(),yi(t.eventQueue_,Et(),r)}(t)}function Si(t,e,n){var path=new Ot("/.info/"+e),r=_e(n);t.infoData_.updateSnapshot(path,r);var o=_r(t.infoSyncTree_,path,r);yi(t.eventQueue_,path,o)}function xi(t){return t.nextWriteId_++}function Ni(t,path,e,n,r){Di(t,"set",{path:path.toString(),value:e,priority:n});var o=Oi(t),c=_e(e,n),h=Ir(t.serverSyncTree_,path),l=Vr(c,h,o),f=xi(t),d=gr(t.serverSyncTree_,path,l,f,!0);gi(t.eventQueue_,d),t.server_.put(path.toString(),c.val(!0),(function(e,n){var o="ok"===e;o||j("set at "+path+" failed: "+e);var c=yr(t.serverSyncTree_,f,!o);yi(t.eventQueue_,path,c),Li(t,r,e,n)}));var v=$i(t,path);Ui(t,v),yi(t.eventQueue_,v,[])}function Pi(t,path,e){t.server_.onDisconnectCancel(path.toString(),(function(n,r){"ok"===n&&He(t.onDisconnect_,path),Li(t,e,n,r)}))}function Ai(t,path,e,n){var r=_e(e);t.server_.onDisconnectPut(path.toString(),r.val(!0),(function(e,o){"ok"===e&&$e(t.onDisconnect_,path,r),Li(t,n,e,o)}))}function Ri(t,e,n){var r;r=".info"===kt(e._path)?wr(t.infoSyncTree_,e,n):wr(t.serverSyncTree_,e,n),mi(t.eventQueue_,e._path,r)}function ji(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wi)}function Di(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),N.apply(void 0,Object(h.f)([r],Object(h.e)(e)))}function Li(t,e,n,r){e&&X((function(){if("ok"===n)e(null);else{var code=(n||"error").toUpperCase(),t=code;r&&(t+=": "+r);var o=new Error(t);o.code=code,e(o)}}))}function Mi(t,path,e){return Ir(t.serverSyncTree_,path,e)||me.EMPTY_NODE}function Fi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Wi(t,e),Hr(e)){var n=Vi(t,e);Object(c.e)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,path,e){for(var n=e.map((function(t){return t.currentWriteId})),r=Mi(t,path,n),o=r,h=r.hash(),i=0;i<e.length;i++){var l=e[i];Object(c.e)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var f=Dt(path,l.path);o=o.updateChild(f,l.currentOutputSnapshotRaw)}var d=o.val(!0),v=path;t.server_.put(v.toString(),d,(function(n){Di(t,"transaction put response",{path:v.toString(),status:n});var r=[];if("ok"===n){for(var o=[],c=function(i){e[i].status=2,r=r.concat(yr(t.serverSyncTree_,e[i].currentWriteId)),e[i].onComplete&&o.push((function(){return e[i].onComplete(null,!0,e[i].currentOutputSnapshotResolved)})),e[i].unwatcher()},i=0;i<e.length;i++)c(i);Wi(t,$r(t.transactionQueueTree_,path)),Fi(t,t.transactionQueueTree_),yi(t.eventQueue_,path,r);for(i=0;i<o.length;i++)X(o[i])}else{if("datastale"===n)for(i=0;i<e.length;i++)3===e[i].status?e[i].status=4:e[i].status=0;else{j("transaction at "+v.toString()+" failed: "+n);for(i=0;i<e.length;i++)e[i].status=4,e[i].abortReason=n}Ui(t,path)}}),h)}(t,Xr(e),n)}else Kr(e)&&Gr(e,(function(e){Fi(t,e)}))}function Ui(t,e){var n=qi(t,e),path=Xr(n);return function(t,e,path){if(0===e.length)return;for(var n=[],r=[],o=e.filter((function(q){return 0===q.status})).map((function(q){return q.currentWriteId})),h=function(i){var h,l,f=e[i],d=Dt(path,f.path),v=!1;if(Object(c.e)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)v=!0,h=f.abortReason,r=r.concat(yr(t.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)v=!0,h="maxretry",r=r.concat(yr(t.serverSyncTree_,f.currentWriteId,!0));else{var m=Mi(t,f.path,o);f.currentInputSnapshot=m;var y=e[i].update(m.val());if(void 0!==y){oi("transaction failed: Data returned ",y,f.path);var _=_e(y);"object"==typeof y&&null!=y&&Object(c.i)(y,".priority")||(_=_.updatePriority(m.getPriority()));var w=f.currentWriteId,C=Oi(t),I=Vr(_,m,C);f.currentOutputSnapshotRaw=_,f.currentOutputSnapshotResolved=I,f.currentWriteId=xi(t),o.splice(o.indexOf(w),1),r=(r=r.concat(gr(t.serverSyncTree_,f.path,I,f.currentWriteId,f.applyLocally))).concat(yr(t.serverSyncTree_,w,!0))}else v=!0,h="nodata",r=r.concat(yr(t.serverSyncTree_,f.currentWriteId,!0))}yi(t.eventQueue_,path,r),r=[],v&&(e[i].status=2,l=e[i].unwatcher,setTimeout(l,Math.floor(0)),e[i].onComplete&&("nodata"===h?n.push((function(){return e[i].onComplete(null,!1,e[i].currentInputSnapshot)})):n.push((function(){return e[i].onComplete(new Error(h),!1,null)}))))},i=0;i<e.length;i++)h(i);Wi(t,t.transactionQueueTree_);for(i=0;i<n.length;i++)X(n[i]);Fi(t,t.transactionQueueTree_)}(t,Vi(t,n),path),path}function qi(t,path){var e,n=t.transactionQueueTree_;for(e=kt(path);null!==e&&void 0===Hr(n);)n=$r(n,e),e=kt(path=xt(path));return n}function Vi(t,e){var n=[];return Bi(t,e,n),n.sort((function(a,b){return a.order-b.order})),n}function Bi(t,e,n){var r=Hr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Gr(e,(function(e){Bi(t,e,n)}))}function Wi(t,e){var n=Hr(e);if(n){for(var r=0,o=0;o<n.length;o++)2!==n[o].status&&(n[r]=n[o],r++);n.length=r,zr(e,n.length>0?n:void 0)}Gr(e,(function(e){Wi(t,e)}))}function $i(t,path){var e=Xr(qi(t,path)),n=$r(t.transactionQueueTree_,path);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(n,(function(e){Hi(t,e)})),Hi(t,n),Yr(n,(function(e){Hi(t,e)})),e}function Hi(t,e){var n=Hr(e);if(n){for(var r=[],o=[],h=-1,i=0;i<n.length;i++)3===n[i].status||(1===n[i].status?(Object(c.e)(h===i-1,"All SENT items should be at beginning of queue."),h=i,n[i].status=3,n[i].abortReason="set"):(Object(c.e)(0===n[i].status,"Unexpected transaction status in abort"),n[i].unwatcher(),o=o.concat(yr(t.serverSyncTree_,n[i].currentWriteId,!0)),n[i].onComplete&&r.push(n[i].onComplete.bind(null,new Error("set"),!1,null))));-1===h?zr(e,void 0):n.length=h+1,yi(t.eventQueue_,Xr(e),o);for(i=0;i<r.length;i++)X(r[i])}}var zi=function(t,e){var n=Ki(t),r=n.namespace;"firebase.com"===n.domain&&R(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&j("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new at(n.host,n.secure,r,e,o,"",r!==n.subdomain),path:new Ot(n.pathString)}},Ki=function(t){var e="",n="",r="",o="",c="",l=!0,f="https",d=443;if("string"==typeof t){var v=t.indexOf("//");v>=0&&(f=t.substring(0,v-1),t=t.substring(v+2));var m=t.indexOf("/");-1===m&&(m=t.length);var y=t.indexOf("?");-1===y&&(y=t.length),e=t.substring(0,Math.min(m,y)),m<y&&(o=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}e+="/"+r}return e}(t.substring(m,y)));var _=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(h.g)(t.split("&")),c=o.next();!c.done;c=o.next()){var l=c.value;if(0!==l.length){var f=l.split("=");2===f.length?r[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):j("Invalid query segment '"+l+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,y)));(v=e.indexOf(":"))>=0?(l="https"===f||"wss"===f,d=parseInt(e.substring(v+1),10)):v=e.length;var w=e.slice(0,v);if("localhost"===w.toLowerCase())n="localhost";else if(w.split(".").length<=2)n=w;else{var C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),c=r}"ns"in _&&(c=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:l,scheme:f,pathString:o,namespace:c}},Gi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(c.D)(this.snapshot.exportVal())},t}(),Yi=function(){function t(t,e,path){this.eventRegistration=t,this.error=e,this.path=path}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Xi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(c.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Ji=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new c.a;return Pi(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){fi("OnDisconnect.remove",this._path);var t=new c.a;return Ai(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){fi("OnDisconnect.set",this._path),ii("OnDisconnect.set",t,this._path,!1);var e=new c.a;return Ai(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){fi("OnDisconnect.setWithPriority",this._path),ii("OnDisconnect.setWithPriority",t,this._path,!1),si("OnDisconnect.setWithPriority",e,!1);var n=new c.a;return function(t,path,e,n,r){var o=_e(e,n);t.server_.onDisconnectPut(path.toString(),o.val(!0),(function(e,n){"ok"===e&&$e(t.onDisconnect_,path,o),Li(0,r,e,n)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){fi("OnDisconnect.update",this._path),ai("OnDisconnect.update",t,this._path,!1);var e=new c.a;return function(t,path,e,n){if(Object(c.r)(e))return N("onDisconnect().update() called with empty data.  Don't do anything."),void Li(0,n,"ok",void 0);t.server_.onDisconnectMerge(path.toString(),e,(function(r,o){"ok"===r&&$(e,(function(e,n){var r=_e(n);$e(t.onDisconnect_,Rt(path,e),r)})),Li(0,n,r,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),Qi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return jt(this._path)?null:Nt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new no(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=qe(this._queryParams),e=B(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return qe(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(c.o)(e))instanceof t))return!1;var n=this._repo===e._repo,r=Mt(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(path){for(var t="",i=path.pieceNum_;i<path.pieces_.length;i++)""!==path.pieces_[i]&&(t+="/"+encodeURIComponent(String(path.pieces_[i])));return t||"/"}(this._path)},t}();function Zi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function to(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Xt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==L)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==M)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===le){if(null!=e&&!ri(e)||null!=n&&!ri(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(c.e)(t.getIndex()instanceof Ce||t.getIndex()===Ie,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function eo(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var no=function(t){function e(e,path){return t.call(this,e,path,new De,!1)||this}return Object(h.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=At(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Qi),ro=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(path){var e=new Ot(path),n=ao(this.ref,path);return new t(this._node.getChild(e),n,le)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,o){return e(new t(o,ao(n.ref,r),le))}))},t.prototype.hasChild=function(path){var t=new Ot(path);return!this._node.getChild(t).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function io(t,path){return(t=Object(c.o)(t))._checkNotDeleted("ref"),void 0!==path?ao(t._root,path):t._root}function oo(t,e){(t=Object(c.o)(t))._checkNotDeleted("refFromURL");var n=zi(e,t._repo.repoInfo_.nodeAdmin);pi("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||R("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),io(t,n.path.toString())}function ao(t,path){var e,n,r,o;return null===kt((t=Object(c.o)(t))._path)?(e="child",n="path",o=!1,(r=path)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),hi(e,n,r,o)):hi("child","path",path,!1),new no(t._repo,Rt(t._path,path))}function so(t,e){t=Object(c.o)(t),fi("push",t._path),ii("push",e,t._path,!0);var n,r=Ti(t._repo),o=Oe(r),h=ao(t,o),l=ao(t,o);return n=null!=e?co(l,e).then((function(){return l})):Promise.resolve(l),h.then=n.then.bind(n),h.catch=n.then.bind(n,void 0),h}function uo(t){return fi("remove",t._path),co(t,null)}function co(t,e){t=Object(c.o)(t),fi("set",t._path),ii("set",e,t._path,!1);var n=new c.a;return Ni(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function ho(t,e){t=Object(c.o)(t),fi("setPriority",t._path),si("setPriority",e,!1);var n=new c.a;return Ni(t._repo,Rt(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function lo(t,e,n){if(fi("setWithPriority",t._path),ii("setWithPriority",e,t._path,!1),si("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new c.a;return Ni(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function fo(t,e){ai("update",e,t._path,!1);var n=new c.a;return function(t,path,e,n){Di(t,"update",{path:path.toString(),value:e});var r=!0,o=Oi(t),c={};if($(e,(function(e,n){r=!1,c[e]=qr(Rt(path,e),_e(n),t.serverSyncTree_,o)})),r)N("update() called with empty data.  Don't do anything."),Li(0,n,"ok",void 0);else{var h=xi(t),l=mr(t.serverSyncTree_,path,c,h);gi(t.eventQueue_,l),t.server_.merge(path.toString(),e,(function(e,r){var o="ok"===e;o||j("update at "+path+" failed: "+e);var c=yr(t.serverSyncTree_,h,!o),l=c.length>0?Ui(t,path):path;yi(t.eventQueue_,l,c),Li(0,n,e,r)})),$(e,(function(e){var n=$i(t,Rt(path,e));Ui(t,n)})),yi(t.eventQueue_,path,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function po(t){return function(t,e){var n=Tr(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=_e(n).withIndex(e._queryParams.getIndex()),o=_r(t.serverSyncTree_,e._path,r);return mi(t.eventQueue_,e._path,o),Promise.resolve(r)}),(function(n){return Di(t,"get for query "+Object(c.D)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Object(c.o)(t))._repo,t).then((function(e){return new ro(e,new no(t._repo,t._path),t._queryParams.getIndex())}))}var vo=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Gi("value",this,new ro(t.snapshotNode,new no(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,path){return this.callbackContext.hasCancelCallback?new Yi(this,t,path):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),go=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,path){return this.callbackContext.hasCancelCallback?new Yi(this,t,path):null},t.prototype.createEvent=function(t,e){Object(c.e)(null!=t.childName,"Child events should have a childName.");var n=ao(new no(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Gi(t.type,this,new ro(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function mo(t,e,n,r,o){var c;if("object"==typeof r&&(c=void 0,o=r),"function"==typeof r&&(c=r),o&&o.onlyOnce){var h=n,l=function(e,n){Ri(t._repo,t,d),h(e,n)};l.userCallback=n.userCallback,l.context=n.context,n=l}var f=new Xi(n,c||void 0),d="value"===e?new vo(f):new go(e,f);return function(t,e,n){var r;r=".info"===kt(e._path)?Cr(t.infoSyncTree_,e,n):Cr(t.serverSyncTree_,e,n),mi(t.eventQueue_,e._path,r)}(t._repo,t,d),function(){return Ri(t._repo,t,d)}}function yo(t,e,n,r){return mo(t,"value",e,n,r)}function _o(t,e,n,r){return mo(t,"child_added",e,n,r)}function bo(t,e,n,r){return mo(t,"child_changed",e,n,r)}function wo(t,e,n,r){return mo(t,"child_moved",e,n,r)}function Co(t,e,n,r){return mo(t,"child_removed",e,n,r)}function Io(t,e,n){var r=null,o=n?new Xi(n):null;"value"===e?r=new vo(o):e&&(r=new go(e,o)),Ri(t._repo,t,r)}var To=function(){},Oo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){ii("endAt",this._value,t._path,!0);var e=Me(t._queryParams,this._value,this._key);if(eo(e),to(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qi(t._repo,t._path,e,t._orderByCalled)},e}(To);function Eo(t,e){return ci("endAt","key",e,!0),new Oo(t,e)}var ko=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){ii("endBefore",this._value,t._path,!1);var e,n,r,o,c=(e=t._queryParams,n=this._value,r=this._key,e.index_===Xt?("string"==typeof n&&(n=ke(n)),o=Me(e,n,r)):o=Me(e,n,null==r?L:ke(r)),o.endBeforeSet_=!0,o);if(eo(c),to(c),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qi(t._repo,t._path,c,t._orderByCalled)},e}(To);function So(t,e){return ci("endBefore","key",e,!0),new ko(t,e)}var xo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){ii("startAt",this._value,t._path,!0);var e=Le(t._queryParams,this._value,this._key);if(eo(e),to(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qi(t._repo,t._path,e,t._orderByCalled)},e}(To);function No(t,e){return void 0===t&&(t=null),ci("startAt","key",e,!0),new xo(t,e)}var Po=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){ii("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;t.index_===Xt?("string"==typeof e&&(e=Ee(e)),r=Le(t,e,n)):r=Le(t,e,null==n?M:Ee(n));return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(eo(e),to(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qi(t._repo,t._path,e,t._orderByCalled)},e}(To);function Ao(t,e){return ci("startAfter","key",e,!0),new Po(t,e)}var Ro=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(h.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qi(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),t._orderByCalled);var e,n,r},e}(To);function jo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ro(t)}var Do=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(h.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qi(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),t._orderByCalled);var e,n,r},e}(To);function Lo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Do(t)}var Mo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(h.c)(e,t),e.prototype._apply=function(t){Zi(t,"orderByChild");var e=new Ot(this._path);if(jt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Ce(e),r=Fe(t._queryParams,n);return to(r),new Qi(t._repo,t._path,r,!0)},e}(To);function Fo(path){if("$key"===path)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===path)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===path)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hi("orderByChild","path",path,!1),new Mo(path)}var Uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype._apply=function(t){Zi(t,"orderByKey");var e=Fe(t._queryParams,Xt);return to(e),new Qi(t._repo,t._path,e,!0)},e}(To);function qo(){return new Uo}var Vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype._apply=function(t){Zi(t,"orderByPriority");var e=Fe(t._queryParams,le);return to(e),new Qi(t._repo,t._path,e,!0)},e}(To);function Bo(){return new Vo}var Wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype._apply=function(t){Zi(t,"orderByValue");var e=Fe(t._queryParams,Ie);return to(e),new Qi(t._repo,t._path,e,!0)},e}(To);function $o(){return new Wo}var Ho=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){if(ii("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Oo(this._value,this._key)._apply(new xo(this._value,this._key)._apply(t))},e}(To);function zo(t,e){return ci("equalTo","key",e,!0),new Ho(t,e)}function Ko(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var l=Object(c.o)(t);try{for(var f=Object(h.g)(r),d=f.next();!d.done;d=f.next()){var v=d.value;l=v._apply(l)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return l}!function(t){Object(c.e)(!Kn,"__referenceConstructor has already been defined"),Kn=t}(no),function(t){Object(c.e)(!er,"__referenceConstructor has already been defined"),er=t}(no);var Go={},Yo=!1;function Xo(e,n,r,o,c){var h=o||e.options.databaseURL;void 0===h&&(e.options.projectId||R("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),N("Using default host for project ",e.options.projectId),h=e.options.projectId+"-default-rtdb.firebaseio.com");var l,f=zi(h,c),d=f.repoInfo,v=void 0;void 0!==t&&(v=t.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(l=!0,h="http://"+v+"?ns="+d.namespace,d=(f=zi(h,c)).repoInfo):l=!f.repoInfo.secure;var m=c&&l?new tt(tt.OWNER):new Z(e.name,e.options,n);pi("Invalid Firebase Database URL",f),jt(f.path)||R("Database URL must point to the root of a Firebase Database (not including a child path).");var y=function(t,e,n,r){var o=Go[e.name];o||(o={},Go[e.name]=o);var c=o[t.toURLString()];c&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return c=new Ci(t,Yo,n,r),o[t.toURLString()]=c,c}(d,e,m,new Q(e.name,r));return new Jo(y,e)}var Jo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Ii(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new no(this._repo,Et())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,e=this.app.name,(n=Go[e])&&n[t.key]===t||R("Database "+e+"("+t.repoInfo_+") has already been deleted."),ji(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&R("Cannot call "+t+" on a deleted database.")},t}();function Qo(t,e,n,r){void 0===r&&(r={}),(t=Object(c.o)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&R("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,h=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&R('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new tt(tt.OWNER);else if(r.mockUserToken){var l=Object(c.j)(r.mockUserToken,t.app.options.projectId);h=new tt(l)}!function(t,e,n,r){t.repoInfo_=new at(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,h)}function Zo(t){(t=Object(c.o)(t))._checkNotDeleted("goOffline"),ji(t._repo)}function ta(t){var e;(t=Object(c.o)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(wi)}var ea={".sv":"timestamp"};var na=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function ra(t,e,n){var r;if(t=Object(c.o)(t),fi("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,h=new c.a,l=yo(t,(function(){}));return function(t,path,e,n,r,o){Di(t,"transaction on "+path);var h={path:path,update:e,onComplete:n,status:null,order:T(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Mi(t,path,void 0);h.currentInputSnapshot=l;var f=h.update(l.val());if(void 0===f)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{oi("transaction failed: Data returned ",f,h.path),h.status=0;var d=$r(t.transactionQueueTree_,path),v=Hr(d)||[];v.push(h),zr(d,v);var m=void 0;"object"==typeof f&&null!==f&&Object(c.i)(f,".priority")?(m=Object(c.A)(f,".priority"),Object(c.e)(ri(m),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):m=(Ir(t.serverSyncTree_,path)||me.EMPTY_NODE).getPriority().val();var y=Oi(t),_=_e(f,m),w=Vr(_,l,y);h.currentOutputSnapshotRaw=_,h.currentOutputSnapshotResolved=w,h.currentWriteId=xi(t);var C=gr(t.serverSyncTree_,path,w,h.currentWriteId,h.applyLocally);yi(t.eventQueue_,path,C),Fi(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(function(e,n,r){var o=null;e?h.reject(e):(o=new ro(r,new no(t._repo,t._path),le),h.resolve(new na(n,o)))}),l,o),h.promise}var ia=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(c.E)("OnDisconnect.cancel",0,1,arguments.length),Object(c.F)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(c.E)("OnDisconnect.remove",0,1,arguments.length),Object(c.F)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(c.E)("OnDisconnect.set",1,2,arguments.length),Object(c.F)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(c.E)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(c.F)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(c.E)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,j("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(c.F)("OnDisconnect.update","onComplete",e,!0);var r=this._delegate.update(t);return e&&r.then((function(){return e(null)}),(function(t){return e(t)})),r},t}(),oa=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(c.E)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),aa=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(c.E)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(c.E)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(c.E)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(c.E)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(path){return Object(c.E)("DataSnapshot.child",0,1,arguments.length),path=String(path),hi("DataSnapshot.child","path",path,!1),new t(this._database,this._delegate.child(path))},t.prototype.hasChild=function(path){return Object(c.E)("DataSnapshot.hasChild",1,1,arguments.length),hi("DataSnapshot.hasChild","path",path,!1),this._delegate.hasChild(path)},t.prototype.getPriority=function(){return Object(c.E)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(c.E)("DataSnapshot.forEach",1,1,arguments.length),Object(c.F)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(c.E)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(c.E)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(c.E)("DataSnapshot.ref",0,0,arguments.length),new ua(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),sa=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var h,l=this;Object(c.E)("Query.on",2,4,arguments.length),Object(c.F)("Query.on","callback",n,!1);var f=t.getCancelAndContextArgs_("Query.on",r,o),d=function(t,e){n.call(f.context,new aa(l.database,t),e)};d.userCallback=n,d.context=f.context;var v=null===(h=f.cancel)||void 0===h?void 0:h.bind(f.context);switch(e){case"value":return yo(this._delegate,d,v),n;case"child_added":return _o(this._delegate,d,v),n;case"child_removed":return Co(this._delegate,d,v),n;case"child_changed":return bo(this._delegate,d,v),n;case"child_moved":return wo(this._delegate,d,v),n;default:throw new Error(Object(c.n)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(c.E)("Query.off",0,3,arguments.length),ui("Query.off",t,!0),Object(c.F)("Query.off","callback",e,!0),Object(c.G)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Io(this._delegate,t,r)}else Io(this._delegate,t)},t.prototype.get=function(){var t=this;return po(this._delegate).then((function(e){return new aa(t.database,e)}))},t.prototype.once=function(e,n,r,o){var h=this;Object(c.E)("Query.once",1,4,arguments.length),Object(c.F)("Query.once","callback",n,!0);var l=t.getCancelAndContextArgs_("Query.once",r,o),f=new c.a,d=function(t,e){var r=new aa(h.database,t);n&&n.call(l.context,r,e),f.resolve(r)};d.userCallback=n,d.context=l.context;var v=function(t){l.cancel&&l.cancel.call(l.context,t),f.reject(t)};switch(e){case"value":yo(this._delegate,d,v,{onlyOnce:!0});break;case"child_added":_o(this._delegate,d,v,{onlyOnce:!0});break;case"child_removed":Co(this._delegate,d,v,{onlyOnce:!0});break;case"child_changed":bo(this._delegate,d,v,{onlyOnce:!0});break;case"child_moved":wo(this._delegate,d,v,{onlyOnce:!0});break;default:throw new Error(Object(c.n)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise},t.prototype.limitToFirst=function(e){return Object(c.E)("Query.limitToFirst",1,1,arguments.length),new t(this.database,Ko(this._delegate,jo(e)))},t.prototype.limitToLast=function(e){return Object(c.E)("Query.limitToLast",1,1,arguments.length),new t(this.database,Ko(this._delegate,Lo(e)))},t.prototype.orderByChild=function(path){return Object(c.E)("Query.orderByChild",1,1,arguments.length),new t(this.database,Ko(this._delegate,Fo(path)))},t.prototype.orderByKey=function(){return Object(c.E)("Query.orderByKey",0,0,arguments.length),new t(this.database,Ko(this._delegate,qo()))},t.prototype.orderByPriority=function(){return Object(c.E)("Query.orderByPriority",0,0,arguments.length),new t(this.database,Ko(this._delegate,Bo()))},t.prototype.orderByValue=function(){return Object(c.E)("Query.orderByValue",0,0,arguments.length),new t(this.database,Ko(this._delegate,$o()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(c.E)("Query.startAt",0,2,arguments.length),new t(this.database,Ko(this._delegate,No(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(c.E)("Query.startAfter",0,2,arguments.length),new t(this.database,Ko(this._delegate,Ao(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(c.E)("Query.endAt",0,2,arguments.length),new t(this.database,Ko(this._delegate,Eo(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(c.E)("Query.endBefore",0,2,arguments.length),new t(this.database,Ko(this._delegate,So(e,n)))},t.prototype.equalTo=function(e,n){return Object(c.E)("Query.equalTo",1,2,arguments.length),new t(this.database,Ko(this._delegate,zo(e,n)))},t.prototype.toString=function(){return Object(c.E)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(c.E)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(c.E)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(c.F)(t,"cancel",r.cancel,!0),r.context=n,Object(c.G)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(c.n)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new ua(this.database,new no(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),ua=function(t){function e(e,n){var r=t.call(this,e,new Qi(n._repo,n._path,new De,!1))||this;return r.database=e,r._delegate=n,r}return Object(h.c)(e,t),e.prototype.getKey=function(){return Object(c.E)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(c.E)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,ao(this._delegate,t))},e.prototype.getParent=function(){Object(c.E)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(c.E)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(c.E)("Reference.set",1,2,arguments.length),Object(c.F)("Reference.set","onComplete",e,!0);var n=co(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(c.E)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,j("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fi("Reference.update",this._delegate._path),Object(c.F)("Reference.update","onComplete",e,!0);var r=fo(this._delegate,t);return e&&r.then((function(){return e(null)}),(function(t){return e(t)})),r},e.prototype.setWithPriority=function(t,e,n){Object(c.E)("Reference.setWithPriority",2,3,arguments.length),Object(c.F)("Reference.setWithPriority","onComplete",n,!0);var r=lo(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(c.E)("Reference.remove",0,1,arguments.length),Object(c.F)("Reference.remove","onComplete",t,!0);var e=uo(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(c.E)("Reference.transaction",1,3,arguments.length),Object(c.F)("Reference.transaction","transactionUpdate",t,!1),Object(c.F)("Reference.transaction","onComplete",e,!0),di("Reference.transaction","applyLocally",n,!0);var o=ra(this._delegate,t,{applyLocally:n}).then((function(t){return new oa(t.committed,new aa(r.database,t.snapshot))}));return e&&o.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),o},e.prototype.setPriority=function(t,e){Object(c.E)("Reference.setPriority",1,2,arguments.length),Object(c.F)("Reference.setPriority","onComplete",e,!0);var n=ho(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(c.E)("Reference.push",0,2,arguments.length),Object(c.F)("Reference.push","onComplete",n,!0);var o=so(this._delegate,t),h=o.then((function(t){return new e(r.database,t)}));n&&h.then((function(){return n(null)}),(function(t){return n(t)}));var l=new e(this.database,o);return l.then=h.then.bind(h),l.catch=h.catch.bind(h,void 0),l},e.prototype.onDisconnect=function(){return fi("Reference.onDisconnect",this._delegate._path),new ia(new Ji(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(sa),ca=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Qo(this._delegate,t,e,n)},t.prototype.ref=function(path){if(Object(c.E)("database.ref",0,1,arguments.length),path instanceof ua){var t=oo(this._delegate,path.toString());return new ua(this,t)}t=io(this._delegate,path);return new ua(this,t)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(c.E)(e,1,1,arguments.length);var n=oo(this._delegate,t);return new ua(this,n)},t.prototype.goOffline=function(){return Object(c.E)("database.goOffline",0,0,arguments.length),Zo(this._delegate)},t.prototype.goOnline=function(){return Object(c.E)("database.goOnline",0,0,arguments.length),ta(this._delegate)},t.ServerValue={TIMESTAMP:ea,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();var ha=Object.freeze({__proto__:null,forceLongPolling:function(){_t.forceDisallow(),gt.forceAllow()},forceWebSockets:function(){gt.forceDisallow()},isWebSocketsAvailable:function(){return _t.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ge(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);$(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,c=t.customAuthImpl,h=t.namespace,l=t.nodeAdmin,f=void 0!==l&&l;d(r);var v=new o.c("auth-internal",new o.b("database-standalone"));return v.setComponent(new o.a("auth-internal",(function(){return c}),"PRIVATE")),{instance:new ca(Xo(e,v,void 0,n,f),e),namespace:h}}}),la=zt;zt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},zt.prototype.echo=function(data,t){this.sendRequest("echo",{d:data},t)};var fa=wt,pa=at,da=Object.freeze({__proto__:null,DataConnection:la,RealTimeConnection:fa,hijackHash:function(t){var e=zt.prototype.put;return zt.prototype.put=function(n,data,r,o){void 0!==o&&(o=t()),e.call(this,n,data,r,o)},function(){zt.prototype.put=e}},ConnectionTarget:pa,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){Yo=t}(t)}}),va=ca.ServerValue;!function(t){d(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new o.a("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return new ca(Xo(r,o,c,n),r)}),"PUBLIC").setServiceProps({Reference:ua,Query:sa,Database:ca,DataSnapshot:aa,enableLogging:x,INTERNAL:ha,ServerValue:va,TEST_ACCESS:da}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.9"),Object(c.u)()&&(e.exports=n)}(r.a)}).call(this,n(153),n(214)(t))},215:function(t,e,n){"use strict";var r=n(3),o=n(1),c=n(0),h=n(18),l="firebasestorage.googleapis.com",f=function(t){function e(code,n){var r=t.call(this,d(code),"Firebase Storage: "+n+" ("+d(code)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,e.prototype),r}return Object(o.c)(e,t),e.prototype._codeEquals=function(code){return d(code)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(c.c);function d(code){return"storage/"+code}function v(){return new f("unknown","An unknown error occurred, please check the error payload for server response.")}function m(){return new f("canceled","User canceled the upload/download.")}function y(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _(t){return new f("invalid-argument",t)}function w(){return new f("app-deleted","The Firebase app was deleted.")}function C(t){return new f("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function I(t,e){return new f("invalid-format","String does not match format '"+t+"': "+e)}function T(t){throw new f("internal-error","Internal error: "+t)}var O={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},E=function(data,t){this.data=data,this.contentType=t||null};function k(t,e){switch(t){case O.RAW:return new E(S(e));case O.BASE64:case O.BASE64URL:return new E(x(t,e));case O.DATA_URL:return new E((n=new N(e)).base64?x(O.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw I(O.DATA_URL,"Malformed data URL.")}return S(e)}(n.rest),function(t){return new N(t).contentType}(e))}var n;throw v()}function S(t){for(var b=[],i=0;i<t.length;i++){var e=t.charCodeAt(i);if(e<=127)b.push(e);else if(e<=2047)b.push(192|e>>6,128|63&e);else if(55296==(64512&e))if(i<t.length-1&&56320==(64512&t.charCodeAt(i+1)))e=65536|(1023&e)<<10|1023&t.charCodeAt(++i),b.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e);else b.push(239,191,189);else 56320==(64512&e)?b.push(239,191,189):b.push(224|e>>12,128|e>>6&63,128|63&e)}return new Uint8Array(b)}function x(t,e){switch(t){case O.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw I(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case O.BASE64URL:var o=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(o||c)throw I(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var h;try{h=atob(e)}catch(e){throw I(t,"Invalid character found")}for(var l=new Uint8Array(h.length),i=0;i<h.length;i++)l[i]=h.charCodeAt(i);return l}var N=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw I(O.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(s=n,r=";base64",s.length>=r.length&&s.substring(s.length-r.length)===r),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var s,r};var P,A={STATE_CHANGED:"state_changed"},R={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function j(t){switch(t){case"running":case"pausing":case"canceling":return R.RUNNING;case"paused":return R.PAUSED;case"success":return R.SUCCESS;case"canceled":return R.CANCELED;case"error":default:return R.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(P||(P={}));var D=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=P.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=P.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=P.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,body,n){if(this.sent_)throw T("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==n)for(var r in n)n.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,n[r].toString());return void 0!==body?this.xhr_.send(body):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw T("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw T("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw T("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(header){return this.xhr_.getResponseHeader(header)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();var L=function(){function t(){}return t.prototype.createConnection=function(){return new D},t}(),M=function(){function t(t,path){this.bucket=t,this.path_=path}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(n){return new t(e,"")}if(""===r.path)return r;throw new f("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,o="([A-Za-z0-9.\\-_]+)";var c=new RegExp("^gs://"+o+"(/(.*))?$","i");function h(t){t.path_=decodeURIComponent(t.path)}for(var d=n.replace(/[.]/g,"\\."),v=[{regex:c,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+d+"/v[A-Za-z0-9_]+/b/"+o+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:h},{regex:new RegExp("^https?://"+(n===l?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+o+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:h}],i=0;i<v.length;i++){var m=v[i],y=m.regex.exec(e);if(y){var _=y[m.indices.bucket],w=y[m.indices.path];w||(w=""),r=new t(_,w),m.postModify(r);break}}if(null==r)throw function(t){return new f("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),F=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function U(p){return"string"==typeof p||p instanceof String}function V(p){return B()&&p instanceof Blob}function B(){return"undefined"!=typeof Blob}function W(t,e,n,r){if(r<e)throw _("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw _("Invalid value for '"+t+"'. Expected "+n+" or less.")}function $(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function H(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}var z=function(){function t(t,e,n,body,r,o,c,h,l,f,d){var v=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=body,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=c,this.errorCallback_=h,this.progressCallback_=f,this.timeout_=l,this.pool_=d,this.promise_=new Promise((function(t,e){v.resolve_=t,v.reject_=e,v.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,o=t.resolve_,c=t.reject_,h=n.connection;if(n.wasSuccessCode)try{var l=t.callback_(h,h.getResponseText());void 0!==l?o(l):o()}catch(t){c(t)}else null!==h?((r=v()).serverResponse=h.getResponseText(),t.errorCallback_?c(t.errorCallback_(h,r)):c(r)):n.canceled?c(r=t.appDelete_?w():m()):c(r=new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new K(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,c=null,h=!1,l=0;function f(){return 2===l}var d=!1;function v(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];d||(d=!0,e.apply(null,t))}function m(e){c=setTimeout((function(){c=null,t(y,f())}),e)}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!d)if(t)v.call.apply(v,Object(o.f)([null,t],e));else{var c;f()||h?v.call.apply(v,Object(o.f)([null,t],e)):(r<64&&(r*=2),1===l?(l=2,c=0):c=1e3*(r+Math.random()),m(c))}}var _=!1;function w(t){_||(_=!0,d||(null!==c?(t||(l=2),clearTimeout(c),m(0)):t||(l=1)))}return m(0),setTimeout((function(){h=!0,w(!0)}),n),w}((function(e,n){if(n)e(!1,new K(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(o),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(o),t.pendingConnection_=null;var n=r.getErrorCode()===P.NO_ERROR,c=r.getStatus();if(n&&!t.isRetryStatusCode_(c)){var h=-1!==t.successCodes_.indexOf(c);e(!0,new K(h,r))}else{var l=r.getErrorCode()===P.ABORT;e(!1,new K(!1,null,l))}}))}function o(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),K=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n};function G(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=G();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(B())return new Blob(t);throw new f("unsupported-environment","This browser doesn't seem to support creating Blobs")}var X=function(){function t(data,t){var e=0,n="";V(data)?(this.data_=data,e=data.size,n=data.type):data instanceof ArrayBuffer?(t?this.data_=new Uint8Array(data):(this.data_=new Uint8Array(data.byteLength),this.data_.set(new Uint8Array(data))),e=this.data_.length):data instanceof Uint8Array&&(t?this.data_=data:(this.data_=new Uint8Array(data.length),this.data_.set(data)),e=data.length),this.size_=e,this.type_=n}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(V(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(B()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Y.apply(null,r))}var o=e.map((function(t){return U(t)?k(O.RAW,t).data:t.data_})),c=0;o.forEach((function(t){c+=t.byteLength}));var h=new Uint8Array(c),l=0;return o.forEach((function(t){for(var i=0;i<t.length;i++)h[l++]=t[i]})),new t(h,!0)},t.prototype.uploadData=function(){return this.data_},t}();function J(s){var t,p;try{t=JSON.parse(s)}catch(t){return null}return"object"!=typeof(p=t)||Array.isArray(p)?null:t}function Q(path){var t=path.lastIndexOf("/",path.length-2);return-1===t?path:path.slice(t+1)}function Z(t,e){return e}var tt=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Z},et=null;function nt(){if(et)return et;var t=[];t.push(new tt("bucket")),t.push(new tt("generation")),t.push(new tt("metageneration")),t.push(new tt("name","fullPath",!0));var e=new tt("name");e.xform=function(t,e){return function(t){return!U(t)||t.length<2?t:Q(t)}(e)},t.push(e);var n=new tt("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new tt("timeCreated")),t.push(new tt("updated")),t.push(new tt("md5Hash",null,!0)),t.push(new tt("cacheControl",null,!0)),t.push(new tt("contentDisposition",null,!0)),t.push(new tt("contentEncoding",null,!0)),t.push(new tt("contentLanguage",null,!0)),t.push(new tt("contentType",null,!0)),t.push(new tt("metadata","customMetadata",!0)),et=t}function it(t,e,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var c=n[i];r[c.local]=c.xform(r,e[c.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,path=t.fullPath,r=new M(n,path);return e._makeStorageReference(r)}})}(r,t),r}function ot(t,e,n){var r=J(e);return null===r?null:it(t,r,n)}function at(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function st(t,e,n){var r=J(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var o=0,c=n.prefixes;o<c.length;o++){var h=c[o].replace(/\/$/,""),l=t._makeStorageReference(new M(e,h));r.prefixes.push(l)}if(n.items)for(var f=0,d=n.items;f<d.length;f++){var v=d[f];l=t._makeStorageReference(new M(e,v.name)),r.items.push(l)}return r}(t,e,r)}var ut=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ct(t){if(!t)throw v()}function ht(t,e){return function(n,text){var r=ot(t,text,e);return ct(null!==r),r}}function lt(t,e){return function(n,text){var r=ot(t,text,e);return ct(null!==r),function(t,e,n){var r=J(e);if(null===r)return null;if(!U(r.downloadTokens))return null;var o=r.downloadTokens;if(0===o.length)return null;var c=encodeURIComponent;return o.split(",").map((function(e){var r=t.bucket,path=t.fullPath;return $("/b/"+c(r)+"/o/"+c(path),n)+H({alt:"media",token:e})}))[0]}(r,text,t.host)}}function ft(t){return function(e,n){var r,path,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new f("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new f("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new f("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(path=t.path,r=new f("unauthorized","User does not have permission to access '"+path+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function pt(t){var e=ft(t);return function(n,r){var path,o=e(n,r);return 404===n.getStatus()&&(path=t.path,o=new f("object-not-found","Object '"+path+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function vt(t,e,n){var r=$(e.fullServerUrl(),t.host),o=t.maxOperationRetryTime,c=new ut(r,"GET",ht(t,n),o);return c.errorHandler=pt(e),c}function gt(t,e,n,r,o){var c={};e.isRoot?c.prefix="":c.prefix=e.path+"/",n&&n.length>0&&(c.delimiter=n),r&&(c.pageToken=r),o&&(c.maxResults=o);var h=$(e.bucketOnlyServerUrl(),t.host),l=t.maxOperationRetryTime,f=new ut(h,"GET",function(t,e){return function(n,text){var r=st(t,e,text);return ct(null!==r),r}}(t,e.bucket),l);return f.urlParams=c,f.errorHandler=ft(e),f}function mt(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var yt=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function _t(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){ct(!1)}return ct(!!n&&-1!==(e||["active"]).indexOf(n)),n}var bt=262144;function wt(t,e,n,r,o,c,h,l){var d=new yt(0,0);if(h?(d.current=h.current,d.total=h.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var v=d.total-d.current,m=v;o>0&&(m=Math.min(m,o));var _=d.current,w=_+m,C={"X-Goog-Upload-Command":m===v?"upload, finalize":"upload","X-Goog-Upload-Offset":""+d.current},body=r.slice(_,w);if(null===body)throw y();var I=e.maxUploadRetryTime,T=new ut(n,"POST",(function(t,text){var n,o=_t(t,["active","final"]),h=d.current+m,l=r.size();return n="final"===o?ht(e,c)(t,text):null,new yt(h,l,"final"===o,n)}),I);return T.headers=C,T.body=body.uploadData(),T.progressCallback=l||null,T.errorHandler=ft(t),T}var Ct=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function It(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Tt=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=nt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],o=n[1];switch(e._state){case"running":t(r,o);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,o){var c=e.bucketOnlyServerUrl(),h=mt(e,r,o),l={name:h.fullPath},f=$(c,t.host),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},body=at(h,n),v=t.maxUploadRetryTime,m=new ut(f,"POST",(function(t){var e;_t(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){ct(!1)}return ct(U(e)),e}),v);return m.urlParams=l,m.headers=d,m.body=body,m.errorHandler=ft(e),m}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(r,e,n);t._request=o,o.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var o=function(t,e,n,r){var o=t.maxUploadRetryTime,c=new ut(n,"POST",(function(t){var e=_t(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){ct(!1)}n||ct(!1);var o=Number(n);return ct(!isNaN(o)),new yt(o,r.size(),"final"===e)}),o);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=ft(e),c}(t._ref.storage,t._ref._location,e,t._blob),c=t._ref.storage._makeRequest(o,n,r);t._request=c,c.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=bt*this._chunkMultiplier,n=new yt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(o,c){var h;try{h=wt(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var l=t._ref.storage._makeRequest(h,o,c);t._request=l,l.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){bt*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=vt(t._ref.storage,t._ref._location,t._mappings),o=t._ref.storage._makeRequest(r,e,n);t._request=o,o.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,o){var c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},l=function(){for(var t="",i=0;i<2;i++)t+=Math.random().toString().slice(2);return t}();h["Content-Type"]="multipart/related; boundary="+l;var f=mt(e,r,o),d="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+at(f,n)+"\r\n--"+l+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",v="\r\n--"+l+"--",body=X.getBlob(d,r,v);if(null===body)throw y();var m={name:f.fullPath},_=$(c,t.host),w=t.maxUploadRetryTime,C=new ut(_,"POST",ht(t,n),w);return C.urlParams=m,C.headers=h,C.body=body.uploadData(),C.errorHandler=ft(e),C}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(r,e,n);t._request=o,o.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=m(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=j(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var o=this,c=new Ct(e,n,r);return this._addObserver(c),function(){o._removeObserver(c)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var i=this._observers.indexOf(t);-1!==i&&this._observers.splice(i,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(j(this._state)){case R.SUCCESS:It(this._resolve.bind(null,this.snapshot))();break;case R.CANCELED:case R.ERROR:It(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(j(this._state)){case R.RUNNING:case R.PAUSED:t.next&&It(t.next.bind(t,this.snapshot))();break;case R.SUCCESS:t.complete&&It(t.complete.bind(t))();break;case R.CANCELED:case R.ERROR:t.error&&It(t.error.bind(t,this._error))();break;default:t.error&&It(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Ot=function(){function t(t,e){this._service=t,this._location=e instanceof M?e:M.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new M(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Q(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(path){if(0===path.length)return null;var t=path.lastIndexOf("/");return-1===t?"":path.slice(0,t)}(this._location.path);if(null===e)return null;var n=new M(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw C(t)},t}();function Et(t){var e={prefixes:[],items:[]};return kt(t,e).then((function(){return e}))}function kt(t,e,n){return Object(o.b)(this,void 0,void 0,(function(){var r,c,h;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,St(t,{pageToken:n})];case 1:return r=o.sent(),(c=e.prefixes).push.apply(c,r.prefixes),(h=e.items).push.apply(h,r.items),null==r.nextPageToken?[3,3]:[4,kt(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function St(t,e){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&W("options.maxResults",1,1e3,e.maxResults),n=e||{},r=gt(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}}))}))}function xt(t,e){return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var o=$(e.fullServerUrl(),t.host),body=at(n,r),c=t.maxOperationRetryTime,h=new ut(o,"PATCH",ht(t,r),c);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=body,h.errorHandler=pt(e),h}(t.storage,t._location,e,nt()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Nt(t){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=$(e.fullServerUrl(),t.host),o=t.maxOperationRetryTime,c=new ut(r,"GET",lt(t,n),o);return c.errorHandler=pt(e),c}(t.storage,t._location,nt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new f("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function Pt(t){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=$(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new ut(n,"DELETE",(function(t,e){}),r);return o.successCodes=[200,204],o.errorHandler=pt(e),o}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function At(t,e){var n=function(path,t){var e=t.split("/").filter((function(component){return component.length>0})).join("/");return 0===path.length?e:path+"/"+e}(t._location.path,e),r=new M(t._location.bucket,n);return new Ot(t.storage,r)}function Rt(path){return/^[A-Za-z]+:\/\//.test(path)}function jt(t,path){if(t instanceof Mt){var e=t;if(null==e._bucket)throw new f("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var n=new Ot(e,e._bucket);return null!=path?jt(n,path):n}if(void 0!==path){if(path.includes(".."))throw _('`path` param cannot contain ".."');return At(t,path)}return t}function Dt(t,e){if(e&&Rt(e)){if(t instanceof Mt)return new Ot(t,e);throw _("To use ref(service, url), the first argument must be a Storage instance.")}return jt(t,e)}function Lt(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:M.makeFromBucketSpec(n,t)}var Mt=function(){function t(t,e,n,r,o,c){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=l,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?M.makeFromBucketSpec(o,this._host):Lt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=M.makeFromBucketSpec(this._url,t):this._bucket=Lt(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(time){W("time",0,Number.POSITIVE_INFINITY,time),this._maxUploadRetryTime=time},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(time){W("time",0,Number.POSITIVE_INFINITY,time),this._maxOperationRetryTime=time},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e;return Object(o.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Ot(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new F(w());var o=function(t,e,n,r,o,c){var h=H(t.urlParams),l=t.url+h,f=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(f,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(f,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(f,c),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(f,r),new z(l,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then((function(){return r._requests.delete(o)}),(function(){return r._requests.delete(o)})),o},t.prototype.makeRequestWithTokens=function(t){return Object(o.b)(this,void 0,void 0,(function(){var e,n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=o.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();function Ft(t,data,e){return function(t,data,e){return t._throwIfRoot("uploadBytesResumable"),new Tt(t,new X(data),e)}(t=Object(c.o)(t),data,e)}function Ut(t){return function(t){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=vt(t.storage,t._location,nt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(c.o)(t))}function qt(t,e){return Dt(t=Object(c.o)(t),e)}var Vt,Bt,Wt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),$t=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Wt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Wt(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var o=this,c=void 0;return e&&(c="function"==typeof e?function(t){return e(new Wt(t,o,o._ref))}:{next:e.next?function(t){return e.next(new Wt(t,o,o._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,c,n||void 0,r||void 0)},t}(),Ht=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new zt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new zt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),zt=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return At(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(data,t){return this._throwIfRoot("put"),new $t(Ft(this._delegate,data,t),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=O.RAW),this._throwIfRoot("putString");var data=k(e,t),r=Object(o.a)({},n);return null==r.contentType&&null!=data.contentType&&(r.contentType=data.contentType),new $t(new Tt(this._delegate,new X(data.data,!0),r),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,Et(t=Object(c.o)(t))).then((function(t){return new Ht(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return St(t=Object(c.o)(t),e)}(this._delegate,t||void 0).then((function(t){return new Ht(t,e.storage)}))},t.prototype.getMetadata=function(){return Ut(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return xt(t=Object(c.o)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,Nt(t=Object(c.o)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,Pt(t=Object(c.o)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw C(t)},t}(),Kt=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(path){if(Rt(path))throw _("ref() expected a child path but got a URL, use refFromURL instead.");return new zt(qt(this._delegate,path),this)},t.prototype.refFromURL=function(t){if(!Rt(t))throw _("refFromURL() expected a full URL but got a child path, use ref() instead.");try{M.makeFromUrl(t,this._delegate.host)}catch(t){throw _("refFromUrl() expected a valid full URL but got an invalid one.")}return new zt(qt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(time){this._delegate.maxUploadRetryTime=time},t.prototype.setMaxOperationRetryTime=function(time){this._delegate.maxOperationRetryTime=time},t.prototype.useEmulator=function(t,e){!function(t,e,n){!function(t,e,n){t.host="http://"+e+":"+n}(t,e,n)}(this._delegate,t,e)},t}();function Gt(t,e){var n=e.instanceIdentifier,o=t.getProvider("app").getImmediate(),c=t.getProvider("auth-internal"),h=t.getProvider("app-check-internal");return new Kt(o,new Mt(o,c,h,new L,n,r.a.SDK_VERSION))}Vt=r.a,Bt={TaskState:R,TaskEvent:A,StringFormat:O,Storage:Mt,Reference:zt},Vt.INTERNAL.registerComponent(new h.a("storage",Gt,"PUBLIC").setServiceProps(Bt).setMultipleInstances(!0)),Vt.registerVersion("@firebase/storage","0.6.1")},28:function(t,e,n){"use strict";n.d(e,"b",(function(){return it})),n.d(e,"a",(function(){return A}));n(47),n(29),n(46),n(66),n(38),n(67);var r=n(8),o=n(35),c=(n(41),n(30),n(52),n(14),n(4)),h=n(63),l=n(160),f=n(115),d=n.n(f),v=n(53),m=n.n(v),y=(n(25),n(31),n(116)),_=n(27),w=n(2);"scrollRestoration"in window.history&&(Object(w.u)("manual"),window.addEventListener("beforeunload",(function(){Object(w.u)("auto")})),window.addEventListener("load",(function(){Object(w.u)("manual")})));function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T=function(){};c.a.use(y.a);var O={mode:"history",base:"/",linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(t,e,n){var r=!1,o=t!==e;n?r=n:o&&function(t){var e=Object(w.g)(t);if(1===e.length){var n=e[0].options;return!1!==(void 0===n?{}:n).scrollToTop}return e.some((function(t){var e=t.options;return e&&e.scrollToTop}))}(t)&&(r={x:0,y:0});var c=window.$nuxt;return(!o||t.path===e.path&&t.hash!==e.hash)&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(e){c.$once("triggerScroll",(function(){if(t.hash){var n=t.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{document.querySelector(n)&&(r={selector:n})}catch(t){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}e(r)}))}))},routes:[{path:"/chats",component:function(){return Object(w.m)(Promise.all([n.e(12),n.e(3)]).then(n.bind(null,228)))},name:"chats"},{path:"/join",component:function(){return Object(w.m)(n.e(5).then(n.bind(null,229)))},name:"join"},{path:"/login",component:function(){return Object(w.m)(n.e(6).then(n.bind(null,230)))},name:"login"},{path:"/room",component:function(){return Object(w.m)(n.e(7).then(n.bind(null,231)))},name:"room"},{path:"/set-info",component:function(){return Object(w.m)(n.e(8).then(n.bind(null,232)))},name:"set-info"},{path:"/verify",component:function(){return Object(w.m)(n.e(9).then(n.bind(null,233)))},name:"verify"},{path:"/",component:function(){return Object(w.m)(n.e(4).then(n.bind(null,234)))},name:"index"}],fallback:!1};function E(t,e){var base=e._app&&e._app.basePath||O.base,n=new y.a(I(I({},O),{},{base:base})),r=n.push;n.push=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,n=arguments.length>2?arguments[2]:void 0;return r.call(this,t,e,n)};var o=n.resolve.bind(n);return n.resolve=function(t,e,n){return"string"==typeof t&&(t=Object(_.c)(t)),o(t,e,n)},n}var k={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(t,e){var n=e.parent,data=e.data,r=e.props,o=n.$createElement;data.nuxtChild=!0;for(var c=n,h=n.$nuxt.nuxt.transitions,l=n.$nuxt.nuxt.defaultTransition,f=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&f++,n=n.$parent;data.nuxtChildDepth=f;var d=h[f]||l,v={};S.forEach((function(t){void 0!==d[t]&&(v[t]=d[t])}));var m={};x.forEach((function(t){"function"==typeof d[t]&&(m[t]=d[t].bind(c))}));var y=m.beforeEnter;if(m.beforeEnter=function(t){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),y)return y.call(c,t)},!1===d.css){var _=m.leave;(!_||_.length<2)&&(m.leave=function(t,e){_&&_.call(c,t),c.$nextTick(e)})}var w=o("routerView",data);return r.keepAlive&&(w=o("keep-alive",{props:r.keepAliveProps},[w])),o("transition",{props:v,on:m},[w])}},S=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],x=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],N={name:"NuxtError",props:{error:{type:Object,default:null}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||"Error"}},head:function(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0"}]}}},P=(n(201),n(40)),A=Object(P.a)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"__nuxt-error-page"},[n("div",{staticClass:"error"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[n("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.message))]),t._v(" "),404===t.statusCode?n("p",{staticClass:"description"},[void 0===t.$route?n("a",{staticClass:"error-link",attrs:{href:"/"}}):n("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[t._v("Back to the home page")])],1):t._e(),t._v(" "),t._m(0)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("a",{attrs:{href:"https://nuxtjs.org",target:"_blank",rel:"noopener"}},[t._v("Nuxt")])])}],!1,null,null,null).exports,R=n(19),j=(n(57),n(68),n(87),{name:"Nuxt",components:{NuxtChild:k,NuxtError:A},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(t){this.displayingNuxtError&&(this.errorFromNuxtError=t,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(w.c)(this.$route.matched[0].path)(this.$route.params);var t=Object(R.a)(this.$route.matched,1)[0];if(!t)return this.$route.path;var e=t.components.default;if(e&&e.options){var n=e.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(t.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(t){var e=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return e.errorFromNuxtError=!1})),t("div",{},[t("h2","An error occurred while showing the error page"),t("p","Unfortunately an error occurred and while showing the error page another error occurred"),t("p","Error details: ".concat(this.errorFromNuxtError.toString())),t("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return e.displayingNuxtError=!1})),t(A,{props:{error:this.nuxt.err}})):t("NuxtChild",{key:this.routerViewKey,props:this.$props})}}),D=(n(43),n(44),n(42),n(45),n(56),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return t.startTimer()}),this.throttle):this.startTimer(),this},set:function(t){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(t))),this},get:function(){return this.percent},increase:function(t){return this.percent=Math.min(100,Math.floor(this.percent+t)),this},decrease:function(t){return this.percent=Math.max(0,Math.floor(this.percent-t)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var t=this;return this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0,t.reversed=!1}))}),500),this},fail:function(t){return this.canSucceed=!1,this},startTimer:function(){var t=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){t.skipTimerCount>0?t.skipTimerCount--:(t.reversed?t.decrease(t._cut):t.increase(t._cut),t.continuous&&(t.percent>=100||t.percent<=0)&&(t.skipTimerCount=1,t.reversed=!t.reversed))}),100)}},render:function(t){var e=t(!1);return this.show&&(e=t("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),e}}),L=(n(203),Object(P.a)(D,undefined,undefined,!1,null,null,null).exports),M=(n(205),n(165));function F(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){h=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(h)throw o}}}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var V={_default:Object(w.s)(M.a)},B={render:function(t,e){var n=t("NuxtLoading",{ref:"loading"}),r=t(this.layout||"nuxt"),o=t("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=t("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(t){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[o]);return t("div",{domProps:{id:"__nuxt"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:"",nbFetching:0}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){this.$root.$options.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$loading=t.$refs.loading;case 1:case"end":return e.stop()}}),e)})))()},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline},isFetching:function(){return this.nbFetching>0},isPreview:function(){return Boolean(this.$options.previewData)}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(w.h)(t.$route)).length){e.next=3;break}return e.abrupt("return");case 3:return t.$loading.start(),r=n.map((function(e){var p=[];if(e.$options.fetch&&e.$options.fetch.length&&p.push(Object(w.q)(e.$options.fetch,t.context)),e.$fetch)p.push(e.$fetch());else{var n,r=F(Object(w.e)(e.$vnode.componentInstance));try{for(r.s();!(n=r.n()).done;){var component=n.value;p.push(component.$fetch())}}catch(t){r.e(t)}finally{r.f()}}return e.$options.asyncData&&p.push(Object(w.q)(e.$options.asyncData,t.context).then((function(t){for(var n in t)c.a.set(e.$data,n,t[n])}))),Promise.all(p)})),e.prev=5,e.next=8,Promise.all(r);case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(5),t.$loading.fail(e.t0),Object(w.k)(e.t0),t.error(e.t0);case 15:t.$loading.finish();case 16:case"end":return e.stop()}}),e,null,[[5,10]])})))()},errorChanged:function(){if(this.nuxt.err){this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish());var t=(A.options||A).layout;"function"==typeof t&&(t=t(this.context)),this.setLayout(t)}},setLayout:function(t){return t&&V["_"+t]||(t="default"),this.layoutName=t,this.layout=V["_"+t],this.layout},loadLayout:function(t){return t&&V["_"+t]||(t="default"),Promise.resolve(V["_"+t])}},components:{NuxtLoading:L}};n(118),n(55);function W(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){h=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(h)throw o}}}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}c.a.use(h.a);var H=["state","getters","actions","mutations"],z={};(z=function(t,e){if((t=t.default||t).commit)throw new Error("[nuxt] ".concat(e," should export a method that returns a Vuex instance."));return"function"!=typeof t&&(t=Object.assign({},t)),G(t,e)}(n(207),"store/index.js")).modules=z.modules||{},Y(n(208),"emojis/index.js"),Y(n(209),"auth/index.js");var K=z instanceof Function?z:function(){return new h.a.Store(Object.assign({strict:!1},z))};function G(t,e){if(t.state&&"function"!=typeof t.state){console.warn("'state' should be a method that returns an object in ".concat(e));var n=Object.assign({},t.state);t=Object.assign({},t,{state:function(){return n}})}return t}function Y(t,e){t=t.default||t;var n=e.replace(/\.(js|mjs)$/,"").split("/"),r=n[n.length-1],o="store/".concat(e);if(t="state"===r?function(t,e){if("function"!=typeof t){console.warn("".concat(e," should export a method that returns an object"));var n=Object.assign({},t);return function(){return n}}return G(t,e)}(t,o):G(t,o),H.includes(r)){var c=r;J(X(z,n,{isProperty:!0}),t,c)}else{"index"===r&&(n.pop(),r=n[n.length-1]);var h,l=X(z,n),f=W(H);try{for(f.s();!(h=f.n()).done;){var d=h.value;J(l,t[d],d)}}catch(t){f.e(t)}finally{f.f()}!1===t.namespaced&&delete l.namespaced}}function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isProperty,o=void 0!==r&&r;if(!e.length||o&&1===e.length)return t;var c=e.shift();return t.modules[c]=t.modules[c]||{},t.modules[c].namespaced=!0,t.modules[c].modules=t.modules[c].modules||{},X(t.modules[c],e,{isProperty:o})}function J(t,e,n){e&&("state"===n?t.state=e||t.state:t[n]=Object.assign({},t[n],e))}n(64);var Q={Logo:function(){return n.e(2).then(n.bind(null,235)).then((function(t){return function(t){if(!t||!t.functional)return t;var e=Array.isArray(t.props)?t.props:Object.keys(t.props||{});return{render:function(n){var r={},o={};for(var c in this.$attrs)e.includes(c)?o[c]=this.$attrs[c]:r[c]=this.$attrs[c];return n(t,{on:this.$listeners,attrs:r,props:o,scopedSlots:this.$scopedSlots},this.$slots.default)}}}(t.default||t)}))}};for(var Z in Q)c.a.component(Z,Q[Z]),c.a.component("Lazy"+Z,Q[Z]);function tt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function et(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?tt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):tt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}c.a.component(d.a.name,d.a),c.a.component(m.a.name,et(et({},m.a),{},{render:function(t,e){return m.a._warned||(m.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),m.a.render(t,e)}})),c.a.component(k.name,k),c.a.component("NChild",k),c.a.component(j.name,j),Object.defineProperty(c.a.prototype,"$nuxt",{get:function(){var t=this.$root.$options.$nuxt;return t||"undefined"==typeof window?t:window.$nuxt},configurable:!0}),c.a.use(l.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var nt={name:"page",mode:"out-in",appear:!0,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};h.a.Store.prototype.registerModule;function it(t){return ot.apply(this,arguments)}function ot(){return(ot=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,o,h,l,f,d,path,v,m=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=function(t,e){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===e)throw new Error("inject('".concat(t,"', value) has no value provided"));l[t="$"+t]=e,l.context[t]||(l.context[t]=e),h[t]=l[t];var n="__nuxt_"+t+"_installed__";c.a[n]||(c.a[n]=!0,c.a.use((function(){Object.prototype.hasOwnProperty.call(c.a.prototype,t)||Object.defineProperty(c.a.prototype,t,{get:function(){return this.$root.$options[t]}})})))},n=m.length>1&&void 0!==m[1]?m[1]:{},t.next=4,E(0,n);case 4:return o=t.sent,(h=K(e)).$router=o,l=et({head:{title:"OurWorld || The whole world in one room.",htmlAttrs:{lang:"en"},meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:""}],link:[{rel:"icon",type:"image/x-icon",href:"/chat.png"},{rel:"stylesheet",href:"/all.css"}],style:[],script:[]},store:h,router:o,nuxt:{defaultTransition:nt,transitions:[nt],setTransitions:function(t){return Array.isArray(t)||(t=[t]),t=t.map((function(t){return t=t?"string"==typeof t?Object.assign({},nt,{name:t}):Object.assign({},nt,t):nt})),this.$options.nuxt.transitions=t,t},err:null,dateErr:null,error:function(t){t=t||null,l.context._errored=Boolean(t),t=t?Object(w.p)(t):null;var n=l.nuxt;return this&&(n=this.nuxt||this.$options.nuxt),n.dateErr=Date.now(),n.err=t,e&&(e.nuxt.error=t),t}}},B),h.app=l,f=e?e.next:function(t){return l.router.push(t)},e?d=o.resolve(e.url).route:(path=Object(w.f)(o.options.base,o.options.mode),d=o.resolve(path).route),t.next=13,Object(w.t)(l,{store:h,route:d,next:f,error:l.nuxt.error.bind(l),payload:e?e.payload:void 0,req:e?e.req:void 0,res:e?e.res:void 0,beforeRenderFns:e?e.beforeRenderFns:void 0,ssrContext:e});case 13:v("config",n),window.__NUXT__&&window.__NUXT__.state&&h.replaceState(window.__NUXT__.state),l.context.enablePreview=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l.previewData=Object.assign({},t),v("preview",t)},t.next=19;break;case 19:return l.context.enablePreview=function(){console.warn("You cannot call enablePreview() outside a plugin.")},t.next=22,new Promise((function(t,e){o.push(l.context.route.fullPath,t,(function(n){if(!n._isRouter)return e(n);if(2!==n.type)return t();var c=o.afterEach(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(w.j)(n);case 3:l.context.route=e.sent,l.context.params=n.params||{},l.context.query=n.query||{},c(),t();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}))}));case 22:return t.abrupt("return",{store:h,app:l,router:o});case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},3:function(t,e,n){"use strict";var r,o,c=n(1),h=n(0),l=n(18),f=n(39),d=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),v=new h.b("app","Firebase",d),m="@firebase/app",y="[DEFAULT]",_=((o={})[m]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),w=new f.b("@firebase/app"),C=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(h.l)(t),this.container=new l.b(e.name),this._addComponent(new l.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(component){return r._addComponent(component)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=y),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=y),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(component){try{this.container.addComponent(component)}catch(t){w.debug("Component "+component.name+" failed to register with FirebaseApp "+this.name,t)}},t.prototype._addOrOverwriteComponent=function(component){this.container.addOrOverwriteComponent(component)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw v.create("app-deleted",{appName:this.name_})},t}();C.prototype.name&&C.prototype.options||C.prototype.delete||console.log("dc");var I=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={}),"object"==typeof o&&null!==o||(o={name:o});var c=o;void 0===c.name&&(c.name=y);var l=c.name;if("string"!=typeof l||!l)throw v.create("bad-app-name",{appName:String(l)});if(Object(h.i)(e,l))throw v.create("duplicate-app",{appName:l});var f=new t(n,c,r);return e[l]=f,f},app:o,registerVersion:function(t,e,n){var r,o=null!==(r=_[t])&&void 0!==r?r:t;n&&(o+="-"+n);var h=o.match(/\s|\//),f=e.match(/\s|\//);if(h||f){var d=['Unable to register library "'+o+'" with version "'+e+'":'];return h&&d.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),h&&f&&d.push("and"),f&&d.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void w.warn(d.join(" "))}c(new l.a(o+"-version",(function(){return{library:o,version:e}}),"VERSION"))},setLogLevel:f.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw v.create("invalid-log-argument");Object(f.d)(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function o(t){if(t=t||y,!Object(h.i)(e,t))throw v.create("no-app",{appName:t});return e[t]}function c(component){var c=component.name;if(n.has(c))return w.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===component.type?r[c]:null;if(n.set(c,component),"PUBLIC"===component.type){var l=function(t){if(void 0===t&&(t=o()),"function"!=typeof t[c])throw v.create("invalid-app-argument",{appName:c});return t[c]()};void 0!==component.serviceProps&&Object(h.m)(l,component.serviceProps),r[c]=l,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,component.multipleInstances?t:[])}}for(var f=0,d=Object.keys(e);f<d.length;f++){var m=d[f];e[m]._addComponent(component)}return"PUBLIC"===component.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),o.App=t,r}(C);return e.INTERNAL=Object(c.a)(Object(c.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(h.m)(e,t)},createSubscribe:h.k,ErrorFactory:h.b,deepExtend:h.m}),e}(),T=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var component=t.getComponent();return"VERSION"===(null==component?void 0:component.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(h.q)()&&void 0!==self.firebase){w.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var O=self.firebase.SDK_VERSION;O&&O.indexOf("LITE")>=0&&w.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var E=I.initializeApp;I.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(h.t)()&&w.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),E.apply(void 0,t)};var k=I;!function(t,e){t.INTERNAL.registerComponent(new l.a("platform-logger",(function(t){return new T(t)}),"PRIVATE")),t.registerVersion(m,"0.6.29",e),t.registerVersion("fire-js","")}(k),e.a=k},35:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},37:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return r}))},39:function(t,e,n){"use strict";function r(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}var o;n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return _}));var c,h=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(c||(c={}));var l={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},f=c.INFO,d=((o={})[c.DEBUG]="log",o[c.VERBOSE]="log",o[c.INFO]="info",o[c.WARN]="warn",o[c.ERROR]="error",o),v=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var c=(new Date).toISOString(),h=d[e];if(!h)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[h].apply(console,r(["["+c+"]  "+t.name+":"],n))}},m=function(){function t(t){this.name=t,this._logLevel=f,this._logHandler=v,this._userLogHandler=null,h.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in c))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?l[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.DEBUG],t)),this._logHandler.apply(this,r([this,c.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.VERBOSE],t)),this._logHandler.apply(this,r([this,c.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.INFO],t)),this._logHandler.apply(this,r([this,c.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.WARN],t)),this._logHandler.apply(this,r([this,c.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.ERROR],t)),this._logHandler.apply(this,r([this,c.ERROR],t))},t}();function y(t){h.forEach((function(e){e.setLogLevel(t)}))}function _(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=l[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var o=[],h=2;h<arguments.length;h++)o[h-2]=arguments[h];var l=o.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:c[n].toLowerCase(),message:l,args:o,type:e.name})}},r=0,o=h;r<o.length;r++){n(o[r])}}},53:function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),h=c.default;void 0===h&&(h=[]);var l=c.placeholder;return n._isMounted?h:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||l)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||l):h.length>0?h.map((function(){return t(!1)})):t(!1))}};t.exports=r},54:function(t,e,n){"use strict";var r=n(3);n.d(e,"a",(function(){return r.a}));var o="8.8.1";r.a.registerVersion("firebase",o,"app"),r.a.SDK_VERSION=o},8:function(t,e,n){"use strict";function r(t,e,n,r,o,c,h){try{var l=t[c](h),f=l.value}catch(t){return void n(t)}l.done?e(f):Promise.resolve(f).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,c){var h=t.apply(e,n);function l(t){r(h,o,c,l,f,"next",t)}function f(t){r(h,o,c,l,f,"throw",t)}l(void 0)}))}}n.d(e,"a",(function(){return o}))},85:function(t,e,n){"use strict";n(56),n(38),n(55),n(64),n(52),n(46),n(14),n(43),n(30),n(44),n(25),n(29),n(42),n(45),n(31);var r=n(4);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return h=t.done,t},e:function(t){l=!0,o=t},f:function(){try{h||null==n.return||n.return()}finally{if(l)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var h=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},l=window.cancelIdleCallback||function(t){clearTimeout(t)},f=window.IntersectionObserver&&new window.IntersectionObserver((function(t){t.forEach((function(t){var e=t.intersectionRatio,link=t.target;e<=0||!link.__prefetch||link.__prefetch()}))}));e.a={name:"NuxtLink",extends:r.a.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=h(this.observe,{timeout:2e3}))},beforeDestroy:function(){l(this.handleId),this.__observed&&(f.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){f&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),f.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var t=navigator.connection;return!(this.$nuxt.isOffline||t&&((t.effectiveType||"").includes("2g")||t.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(t){return t.components.default})).filter((function(t){return"function"==typeof t&&!t.options&&!t.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){f.unobserve(this.$el);var t,e=o(this.getPrefetchComponents());try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n();r instanceof Promise&&r.catch((function(){})),n.__prefetched=!0}}catch(t){e.e(t)}finally{e.f()}}}}}},88:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(c=n,h=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var c,h,data;return[content].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(content,"}"):content})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var h=0;h<t.length;h++){var l=[].concat(t[h]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},89:function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],c=o[0],h={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[c]?r[c].parts.push(h):n.push(r[c]={id:c,parts:[h]})}return n}n.r(e),n.d(e,"default",(function(){return _}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},head=o&&(document.head||document.getElementsByTagName("head")[0]),h=null,l=0,f=!1,d=function(){},v=null,m="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(t,e,n,o){f=n,v=o||{};var h=r(t,e);return w(h),function(e){for(var n=[],i=0;i<h.length;i++){var o=h[i];(l=c[o.id]).refs--,n.push(l)}e?w(h=r(t,e)):h=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var f=0;f<l.parts.length;f++)l.parts[f]();delete c[l.id]}}}}function w(t){for(var i=0;i<t.length;i++){var e=t[i],n=c[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(I(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(I(e.parts[r]));c[e.id]={id:e.id,refs:1,parts:o}}}}function C(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function I(t){var e,n,r=document.querySelector("style["+m+'~="'+t.id+'"]');if(r){if(f)return d;r.parentNode.removeChild(r)}if(y){var o=l++;r=h||(h=C()),e=E.bind(null,r,o,!1),n=E.bind(null,r,o,!0)}else r=C(),e=k.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var T,O=(T=[],function(t,e){return T[t]=e,T.filter(Boolean).join("\n")});function E(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=O(e,o);else{var c=document.createTextNode(o),h=t.childNodes;h[e]&&t.removeChild(h[e]),h.length?t.insertBefore(c,h[e]):t.appendChild(c)}}function k(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),v.ssrId&&t.setAttribute(m,e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}}]);