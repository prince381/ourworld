(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{230:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(41),r(55),r(64),r(36)),l={data:function(){return{loginMail:"",loginPassword:"",mails:[]}},computed:{isErr:function(){return this.$store.state.auth.isErr},errorMsg:function(){return this.$store.state.auth.error}},methods:{login:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.loginMail,n=t.loginPassword,e.next=3,t.$store.dispatch("auth/login",{mail:r,password:n});case 3:if(t.$store.state.auth.isErr){e.next=7;break}t.mails.includes(r)?t.$router.push("/chats"):t.$router.push("/set-info"),e.next=8;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;o.b.ref("users").once("value").then((function(e){var data=e.val();for(var r in data)t.mails.push(data[r].email)}))}},c=r(40),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"register-page"},[r("div",{staticClass:"form-area form-login"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("h3",{staticClass:"form-title"},[t._v("Login")]),t._v(" "),r("div",{staticClass:"input-area"},[t._m(0),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginMail,expression:"loginMail"}],attrs:{id:"user-login",type:"email",placeholder:"Email",required:""},domProps:{value:t.loginMail},on:{input:function(e){e.target.composing||(t.loginMail=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"input-area"},[t._m(1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginPassword,expression:"loginPassword"}],attrs:{id:"login-password",type:"password",placeholder:"Password",required:""},domProps:{value:t.loginPassword},on:{input:function(e){e.target.composing||(t.loginPassword=e.target.value)}}})]),t._v(" "),r("transition",{attrs:{name:"appear"}},[t.isErr?r("p",{staticClass:"error"},[t._v(t._s(t.errorMsg))]):t._e()]),t._v(" "),r("button",{staticClass:"submit"},[t._v("login")]),t._v(" "),r("p",{staticClass:"login"},[t._v("Or "),r("NuxtLink",{attrs:{to:"/join"}},[t._v("register")]),t._v(" as a new member.")],1)],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"user-login"}},[e("i",{staticClass:"fas fa-envelope"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"login-password"}},[e("i",{staticClass:"fas fa-lock"})])}],!1,null,null,null);e.default=component.exports}}]);